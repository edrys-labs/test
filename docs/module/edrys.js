!function(e,t,r,n,i,o,s){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c="function"==typeof a[n]&&a[n],l=c.i||{},h=c.cache||{},u="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!h[t]){if(!e[t]){var i="function"==typeof a[n]&&a[n];if(!r&&i)return i(t,!0);if(c)return c(t,!0);if(u&&"string"==typeof t)return u(t);var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}l.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},l.cache={};var s=h[t]=new d.Module(t);e[t][0].call(s.exports,l,s,s.exports,a)}return h[t].exports;function l(e){var t=l.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.require=u,this.exports={}},d.modules=e,d.cache=h,d.parent=c,d.distDir=void 0,d.publicUrl=void 0,d.devServer=void 0,d.i=l,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return a[n]}}),a[n]=d;for(var p=0;p<t.length;p++)d(t[p]);if(r){var f=d(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd&&define(function(){return f})}}({"5Hf22":[function(e,t,r,n){var i,o=e("yjs"),s=e("msgpackr"),a=e("./streamHandler");let c="extern";var l=!1,h={onReady:!1,onUpdate:!1};async function u(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}function d(...e){window.Edrys.debug&&console.log(`Edrys (${window.Edrys.module.name||"not ready"}):`,...e)}function p(...e){console.warn(`Edrys (${window.Edrys.module.name}):`,...e)}window.addEventListener("unload",()=>{window.parent.postMessage({event:"reload",module:window.Edrys?.module.url},window.Edrys?.origin||"*")}),window.Edrys={origin:"*",ready:!1,role:void 0,username:void 0,liveClass:void 0,liveRoom:void 0,liveUser:void 0,module:void 0,class_id:void 0,debug:!1,rtcConfig:null,onReady(e){h.onReady=!0,window.Edrys.ready?(d("READY"),e(window.Edrys)):window.addEventListener("$Edrys.ready",t=>{d("READY"),e(window.Edrys)})},onUpdate(e){h.onUpdate=!0,window.addEventListener("$Edrys.update",t=>{window.Edrys.ready&&(d("UPDATE"),e(window.Edrys))})},onMessage(e,t=!1){window.addEventListener("$Edrys.message",r=>{if(!t&&r.detail.module!=window.Edrys.module?.url)return;let n=r.detail;if(!n?._decoded)try{n.body=function(e){try{let t=atob(e),r=new Uint8Array([...t].map(e=>e.charCodeAt(0)));return(0,s.unpack)(r)}catch(e){throw e}}(n.body),n._decoded=!0}catch(e){p("Error decoding message =>",n,e);return}d("RECEIVED MESSAGE",n.subject,n.body),e(n)})},sendMessage:(e,t,r)=>{"string"!=typeof e&&(e=JSON.stringify(e)),d("SENDING MESSAGE",e,t);try{t=function(e){try{let t=(0,s.pack)(e);return btoa(String.fromCharCode(...t))}catch(e){throw e}}(t)}catch(e){console.warn("Edrys: Error encoding message =>",t,e);return}window.parent.postMessage({event:"message",subject:e,body:t,module:window.Edrys.module.url,user:r},window.Edrys.origin)},setItem(e,t){localStorage.setItem(`${window.Edrys.class_id}.${window.Edrys.liveUser.room}.${e}`,t)},getItem:e=>localStorage.getItem(`${window.Edrys.class_id}.${window.Edrys.liveUser.room}.${e}`),clearState(e){i.getMap("rooms").get(window.Edrys.liveUser.room).delete(e)},updateState(e,t){i.transact(e,t)},getState(e,t,r){let n,s=i.getMap("rooms").get(window.Edrys.liveUser.room);if(!e)return s;if(s.has(e)&&("Value"!==t||"Value"===t&&void 0===r))return s.get(e);switch(t){case"Map":n=new o.Map;break;case"Array":n=new o.Array;break;case"Text":n=new o.Text;break;case"XmlFragment":n=new o.XmlFragment;break;case"XmlText":n=new o.XmlText;break;case"XmlElement":n=new o.XmlElement;break;case"Value":if(void 0===r)return;let a=s.get(e);if(JSON.stringify(a)===JSON.stringify(r))return a;n=r;break;default:p("Unknown type =>",t);return}return s.set(e,n),n},async sendStream(e,t,r){let n=await this.getWebRTCConfig(),i=await u(window.Edrys.class_id+window.Edrys.liveUser.room+e),o=new a.StreamHandler({serverID:i,peerConfig:{...n,debug:3}});return o.startServer(t,r),{stop:()=>o.stop()}},async onStream(e,t){let r=await this.getWebRTCConfig(),n=await u(window.Edrys.class_id+window.Edrys.liveUser.room+e),i=new a.StreamHandler({serverID:n,peerConfig:{...r,debug:3}});return i.startClient(t),{stop:()=>i.stop()}},async getWebRTCConfig(){return this.rtcConfig||(window.parent.postMessage({event:"requestWebRTCConfig"},this.origin),this.rtcConfig=await new Promise(e=>{let t=r=>{"webrtcConfig"===r.data.event&&(window.removeEventListener("message",t),e(r.data.config))};window.addEventListener("message",t)})),this.rtcConfig}};let f=e=>({get(t,r){if("isProxy"==r)return!0;let n=t[r];if(void 0!==n)return n.isProxy||"object"!=typeof n||(t[r]=new Proxy(n,f([...e,r]))),t[r]},set(t,r,n){if(!e.includes("__ob__")){let t=[...e,r];window.parent.postMessage({event:"update",path:t,value:n},window.Edrys.origin)}return t[r]=n,!0}});function g(){let e={users:i.getMap("users").toJSON(),rooms:i.getMap("rooms").toJSON()};Object.entries(e.rooms).forEach(([e,t])=>({name:e,data:t})),Object.entries(e.users).forEach(([e,t])=>{t.name=e}),window.Edrys.liveClass=new Proxy(e,f("")),window.Edrys.liveUser=e.users[window.Edrys.username],window.Edrys.liveRoom=e.rooms[window.Edrys.liveUser.room]}function m(){g(),dispatchEvent(new CustomEvent("$Edrys.update",{bubbles:!1}))}function y(){window.Edrys.ready||(p("Module not ready yet ..."),window.parent.postMessage({event:"reload",module:window.Edrys?.module.url||"*"},window.Edrys?.origin||"*"),setTimeout(y,5e3))}window.addEventListener("message",function(e){switch(e.data.event){case"update":window.Edrys.origin=e.data.origin,window.Edrys.role=e.data.role,window.Edrys.username=e.data.username,window.Edrys.module=e.data.module,i||((i=new o.Doc).getMap("users"),i.getMap("rooms"),i.on("update",(t,r)=>{if(g(),d("DOC",t,r),r===c){!window.Edrys.ready&&l&&(this.setTimeout(()=>{window.Edrys.ready=!0,h.onReady?dispatchEvent(new CustomEvent("$Edrys.ready",{bubbles:!1,detail:e.data})):h.onUpdate&&m()},1e3),i.getMap("rooms").observeDeep((e,t)=>{m()}),i.getMap("users").observeDeep((e,t)=>{m()}),setTimeout(m,500));return}window.parent.postMessage({event:"state",data:t},window.Edrys.origin)}));try{window.Edrys.module.config=JSON.parse(e.data.module.config)}catch(e){}try{window.Edrys.module.studentConfig=JSON.parse(e.data.module.studentConfig)}catch(e){}try{window.Edrys.module.teacherConfig=JSON.parse(e.data.module.teacherConfig)}catch(e){}try{window.Edrys.module.stationConfig=JSON.parse(e.data.module.stationConfig)}catch(e){}window.Edrys.class_id=e.data.class_id,e.data.liveClass&&(l=!0,o.applyUpdate(i,e.data.liveClass,c));break;case"message":break;case"echo":console.log("ECHO:",e.data);break;case"webrtcConfig":window.Edrys.rtcConfig=e.data.config}"update"!==e.data.event&&dispatchEvent(new CustomEvent("$Edrys."+e.data.event,{bubbles:!1,detail:e.data}))},!1),window.addEventListener("load",()=>{setTimeout(y,2e3)})},{yjs:"dTroZ",msgpackr:"jCq4q","./streamHandler":"blYkP"}],dTroZ:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"AbsolutePosition",()=>eA),i.export(r,"AbstractConnector",()=>C),i.export(r,"AbstractStruct",()=>rM),i.export(r,"AbstractType",()=>tQ),i.export(r,"Array",()=>ru),i.export(r,"ContentAny",()=>rH),i.export(r,"ContentBinary",()=>rN),i.export(r,"ContentDeleted",()=>rF),i.export(r,"ContentDoc",()=>rz),i.export(r,"ContentEmbed",()=>r$),i.export(r,"ContentFormat",()=>rJ),i.export(r,"ContentJSON",()=>rG),i.export(r,"ContentString",()=>rq),i.export(r,"ContentType",()=>r8),i.export(r,"Doc",()=>V),i.export(r,"GC",()=>rL),i.export(r,"ID",()=>eb),i.export(r,"Item",()=>r7),i.export(r,"Map",()=>rp),i.export(r,"PermanentUserData",()=>eT),i.export(r,"RelativePosition",()=>eI),i.export(r,"Skip",()=>nr),i.export(r,"Snapshot",()=>ez),i.export(r,"Text",()=>rj),i.export(r,"Transaction",()=>tn),i.export(r,"UndoManager",()=>tg),i.export(r,"UpdateDecoderV1",()=>$),i.export(r,"UpdateDecoderV2",()=>G),i.export(r,"UpdateEncoderV1",()=>H),i.export(r,"UpdateEncoderV2",()=>Y),i.export(r,"XmlElement",()=>rR),i.export(r,"XmlFragment",()=>rD),i.export(r,"XmlHook",()=>rP),i.export(r,"XmlText",()=>rO),i.export(r,"YArrayEvent",()=>rh),i.export(r,"YEvent",()=>tV),i.export(r,"YMapEvent",()=>rd),i.export(r,"YTextEvent",()=>rU),i.export(r,"YXmlEvent",()=>rB),i.export(r,"applyUpdate",()=>ei),i.export(r,"applyUpdateV2",()=>en),i.export(r,"cleanupYTextFormatting",()=>rk),i.export(r,"compareIDs",()=>ex),i.export(r,"compareRelativePositions",()=>eV),i.export(r,"convertUpdateFormatV1ToV2",()=>tL),i.export(r,"convertUpdateFormatV2ToV1",()=>tN),i.export(r,"createAbsolutePositionFromRelativePosition",()=>eF),i.export(r,"createDeleteSet",()=>B),i.export(r,"createDeleteSetFromStructStore",()=>P),i.export(r,"createDocFromSnapshot",()=>eQ),i.export(r,"createID",()=>ev),i.export(r,"createRelativePositionFromJSON",()=>ej),i.export(r,"createRelativePositionFromTypeIndex",()=>eB),i.export(r,"createSnapshot",()=>eq),i.export(r,"decodeRelativePosition",()=>eL),i.export(r,"decodeSnapshot",()=>eH),i.export(r,"decodeSnapshotV2",()=>eW),i.export(r,"decodeStateVector",()=>el),i.export(r,"decodeUpdate",()=>tb),i.export(r,"decodeUpdateV2",()=>tx),i.export(r,"diffUpdate",()=>tj),i.export(r,"diffUpdateV2",()=>tU),i.export(r,"emptySnapshot",()=>eY),i.export(r,"encodeRelativePosition",()=>eO),i.export(r,"encodeSnapshot",()=>eG),i.export(r,"encodeSnapshotV2",()=>eJ),i.export(r,"encodeStateAsUpdate",()=>ea),i.export(r,"encodeStateAsUpdateV2",()=>es),i.export(r,"encodeStateVector",()=>ep),i.export(r,"encodeStateVectorFromUpdate",()=>tS),i.export(r,"encodeStateVectorFromUpdateV2",()=>tE),i.export(r,"equalDeleteSets",()=>N),i.export(r,"equalSnapshots",()=>e$),i.export(r,"findIndexSS",()=>e5),i.export(r,"findRootTypeKey",()=>eS),i.export(r,"getItem",()=>e4),i.export(r,"getItemCleanEnd",()=>te),i.export(r,"getItemCleanStart",()=>e7),i.export(r,"getState",()=>e6),i.export(r,"getTypeChildren",()=>tX),i.export(r,"isDeleted",()=>j),i.export(r,"isParentOf",()=>eC),i.export(r,"iterateDeletedStructs",()=>I),i.export(r,"logType",()=>ek),i.export(r,"logUpdate",()=>ty),i.export(r,"logUpdateV2",()=>tw),i.export(r,"mergeDeleteSets",()=>D),i.export(r,"mergeUpdates",()=>t_),i.export(r,"mergeUpdatesV2",()=>tI),i.export(r,"obfuscateUpdate",()=>tO),i.export(r,"obfuscateUpdateV2",()=>tM),i.export(r,"parseUpdateMeta",()=>tk),i.export(r,"parseUpdateMetaV2",()=>tC),i.export(r,"readUpdate",()=>er),i.export(r,"readUpdateV2",()=>et),i.export(r,"relativePositionToJSON",()=>eU),i.export(r,"snapshot",()=>eK),i.export(r,"snapshotContainsUpdate",()=>e1),i.export(r,"transact",()=>tu),i.export(r,"tryGc",()=>tl),i.export(r,"typeListToArraySnapshot",()=>t2),i.export(r,"typeMapGetAllSnapshot",()=>rc),i.export(r,"typeMapGetSnapshot",()=>ra);var o=e("lib0/observable"),s=e("lib0/array"),a=e("lib0/math"),c=e("lib0/map"),l=e("lib0/encoding"),h=e("lib0/decoding"),u=e("lib0/random"),d=e("lib0/promise"),p=e("lib0/buffer"),f=e("lib0/error"),g=e("lib0/binary"),m=e("lib0/function"),y=e("lib0/set"),w=e("lib0/logging"),b=e("lib0/time"),x=e("lib0/string"),v=e("lib0/iterator"),_=e("lib0/object"),E=e("lib0/environment"),S=arguments[3];class C extends o.ObservableV2{constructor(e,t){super(),this.doc=e,this.awareness=t}}class k{constructor(e,t){this.clock=e,this.len=t}}class T{constructor(){this.clients=new Map}}let I=(e,t,r)=>t.clients.forEach((t,n)=>{let i=e.doc.store.clients.get(n);for(let n=0;n<t.length;n++){let o=t[n];tr(e,i,o.clock,o.len,r)}}),U=(e,t)=>{let r=0,n=e.length-1;for(;r<=n;){let i=a.floor((r+n)/2),o=e[i],s=o.clock;if(s<=t){if(t<s+o.len)return i;r=i+1}else n=i-1}return null},j=(e,t)=>{let r=e.clients.get(t.client);return void 0!==r&&null!==U(r,t.clock)},A=e=>{e.clients.forEach(e=>{let t,r;for(e.sort((e,t)=>e.clock-t.clock),t=1,r=1;t<e.length;t++){let n=e[r-1],i=e[t];n.clock+n.len>=i.clock?n.len=a.max(n.len,i.clock+i.len-n.clock):(r<t&&(e[r]=i),r++)}e.length=r})},D=e=>{let t=new T;for(let r=0;r<e.length;r++)e[r].clients.forEach((n,i)=>{if(!t.clients.has(i)){let o=n.slice();for(let t=r+1;t<e.length;t++)s.appendTo(o,e[t].clients.get(i)||[]);t.clients.set(i,o)}});return A(t),t},R=(e,t,r,n)=>{c.setIfUndefined(e.clients,t,()=>[]).push(new k(r,n))},B=()=>new T,P=e=>{let t=B();return e.clients.forEach((e,r)=>{let n=[];for(let t=0;t<e.length;t++){let r=e[t];if(r.deleted){let i=r.id.clock,o=r.length;if(t+1<e.length)for(let r=e[t+1];t+1<e.length&&r.deleted;r=e[++t+1])o+=r.length;n.push(new k(i,o))}}n.length>0&&t.clients.set(r,n)}),t},O=(e,t)=>{l.writeVarUint(e.restEncoder,t.clients.size),s.from(t.clients.entries()).sort((e,t)=>t[0]-e[0]).forEach(([t,r])=>{e.resetDsCurVal(),l.writeVarUint(e.restEncoder,t);let n=r.length;l.writeVarUint(e.restEncoder,n);for(let t=0;t<n;t++){let n=r[t];e.writeDsClock(n.clock),e.writeDsLen(n.len)}})},M=e=>{let t=new T,r=h.readVarUint(e.restDecoder);for(let n=0;n<r;n++){e.resetDsCurVal();let r=h.readVarUint(e.restDecoder),n=h.readVarUint(e.restDecoder);if(n>0){let i=c.setIfUndefined(t.clients,r,()=>[]);for(let t=0;t<n;t++)i.push(new k(e.readDsClock(),e.readDsLen()))}}return t},L=(e,t,r)=>{let n=new T,i=h.readVarUint(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();let i=h.readVarUint(e.restDecoder),o=h.readVarUint(e.restDecoder),s=r.clients.get(i)||[],a=e6(r,i);for(let r=0;r<o;r++){let r=e.readDsClock(),o=r+e.readDsLen();if(r<a){a<o&&R(n,i,a,o-a);let e=e5(s,r),c=s[e];for(!c.deleted&&c.id.clock<r&&(s.splice(e+1,0,r5(t,c,r-c.id.clock)),e++);e<s.length;)if((c=s[e++]).id.clock<o)c.deleted||(o<c.id.clock+c.length&&s.splice(e,0,r5(t,c,o-c.id.clock)),c.delete(t));else break}else R(n,i,r,o-r)}}if(n.clients.size>0){let e=new Y;return l.writeVarUint(e.restEncoder,0),O(e,n),e.toUint8Array()}return null},N=(e,t)=>{if(e.clients.size!==t.clients.size)return!1;for(let[r,n]of e.clients.entries()){let e=t.clients.get(r);if(void 0===e||n.length!==e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.clock!==i.clock||r.len!==i.len)return!1}}return!0},F=u.uint32;class V extends o.ObservableV2{constructor({guid:e=u.uuidv4(),collectionid:t=null,gc:r=!0,gcFilter:n=()=>!0,meta:i=null,autoLoad:o=!1,shouldLoad:s=!0}={}){super(),this.gc=r,this.gcFilter=n,this.clientID=F(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new e2,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=s,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=d.create(e=>{this.on("load",()=>{this.isLoaded=!0,e(this)})});let a=()=>d.create(e=>{let t=r=>{(void 0===r||!0===r)&&(this.off("sync",t),e())};this.on("sync",t)});this.on("sync",e=>{!1===e&&this.isSynced&&(this.whenSynced=a()),this.isSynced=void 0===e||!0===e,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=a()}load(){let e=this._item;null===e||this.shouldLoad||tu(e.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(s.from(this.subdocs).map(e=>e.guid))}transact(e,t=null){return tu(this,e,t)}get(e,t=tQ){let r=c.setIfUndefined(this.share,e,()=>{let e=new t;return e._integrate(this,null),e}),n=r.constructor;if(t!==tQ&&n!==t){if(n===tQ){let n=new t;n._map=r._map,r._map.forEach(e=>{for(;null!==e;e=e.left)e.parent=n}),n._start=r._start;for(let e=n._start;null!==e;e=e.right)e.parent=n;return n._length=r._length,this.share.set(e,n),n._integrate(this,null),n}throw Error(`Type with the name ${e} has already been defined with a different constructor`)}return r}getArray(e=""){return this.get(e,ru)}getText(e=""){return this.get(e,rj)}getMap(e=""){return this.get(e,rp)}getXmlElement(e=""){return this.get(e,rR)}getXmlFragment(e=""){return this.get(e,rD)}toJSON(){let e={};return this.share.forEach((t,r)=>{e[r]=t.toJSON()}),e}destroy(){this.isDestroyed=!0,s.from(this.subdocs).forEach(e=>e.destroy());let e=this._item;if(null!==e){this._item=null;let t=e.content;t.doc=new V({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,tu(e.parent.doc,r=>{let n=t.doc;e.deleted||r.subdocsAdded.add(n),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class z{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return h.readVarUint(this.restDecoder)}readDsLen(){return h.readVarUint(this.restDecoder)}}class $ extends z{readLeftID(){return ev(h.readVarUint(this.restDecoder),h.readVarUint(this.restDecoder))}readRightID(){return ev(h.readVarUint(this.restDecoder),h.readVarUint(this.restDecoder))}readClient(){return h.readVarUint(this.restDecoder)}readInfo(){return h.readUint8(this.restDecoder)}readString(){return h.readVarString(this.restDecoder)}readParentInfo(){return 1===h.readVarUint(this.restDecoder)}readTypeRef(){return h.readVarUint(this.restDecoder)}readLen(){return h.readVarUint(this.restDecoder)}readAny(){return h.readAny(this.restDecoder)}readBuf(){return p.copyUint8Array(h.readVarUint8Array(this.restDecoder))}readJSON(){return JSON.parse(h.readVarString(this.restDecoder))}readKey(){return h.readVarString(this.restDecoder)}}class J{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=h.readVarUint(this.restDecoder),this.dsCurrVal}readDsLen(){let e=h.readVarUint(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class G extends J{constructor(e){super(e),this.keys=[],h.readVarUint(e),this.keyClockDecoder=new h.IntDiffOptRleDecoder(h.readVarUint8Array(e)),this.clientDecoder=new h.UintOptRleDecoder(h.readVarUint8Array(e)),this.leftClockDecoder=new h.IntDiffOptRleDecoder(h.readVarUint8Array(e)),this.rightClockDecoder=new h.IntDiffOptRleDecoder(h.readVarUint8Array(e)),this.infoDecoder=new h.RleDecoder(h.readVarUint8Array(e),h.readUint8),this.stringDecoder=new h.StringDecoder(h.readVarUint8Array(e)),this.parentInfoDecoder=new h.RleDecoder(h.readVarUint8Array(e),h.readUint8),this.typeRefDecoder=new h.UintOptRleDecoder(h.readVarUint8Array(e)),this.lenDecoder=new h.UintOptRleDecoder(h.readVarUint8Array(e))}readLeftID(){return new eb(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new eb(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return h.readAny(this.restDecoder)}readBuf(){return h.readVarUint8Array(this.restDecoder)}readJSON(){return h.readAny(this.restDecoder)}readKey(){let e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{let e=this.stringDecoder.read();return this.keys.push(e),e}}}class W{constructor(){this.restEncoder=l.createEncoder()}toUint8Array(){return l.toUint8Array(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){l.writeVarUint(this.restEncoder,e)}writeDsLen(e){l.writeVarUint(this.restEncoder,e)}}class H extends W{writeLeftID(e){l.writeVarUint(this.restEncoder,e.client),l.writeVarUint(this.restEncoder,e.clock)}writeRightID(e){l.writeVarUint(this.restEncoder,e.client),l.writeVarUint(this.restEncoder,e.clock)}writeClient(e){l.writeVarUint(this.restEncoder,e)}writeInfo(e){l.writeUint8(this.restEncoder,e)}writeString(e){l.writeVarString(this.restEncoder,e)}writeParentInfo(e){l.writeVarUint(this.restEncoder,+!!e)}writeTypeRef(e){l.writeVarUint(this.restEncoder,e)}writeLen(e){l.writeVarUint(this.restEncoder,e)}writeAny(e){l.writeAny(this.restEncoder,e)}writeBuf(e){l.writeVarUint8Array(this.restEncoder,e)}writeJSON(e){l.writeVarString(this.restEncoder,JSON.stringify(e))}writeKey(e){l.writeVarString(this.restEncoder,e)}}class q{constructor(){this.restEncoder=l.createEncoder(),this.dsCurrVal=0}toUint8Array(){return l.toUint8Array(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){let t=e-this.dsCurrVal;this.dsCurrVal=e,l.writeVarUint(this.restEncoder,t)}writeDsLen(e){0===e&&f.unexpectedCase(),l.writeVarUint(this.restEncoder,e-1),this.dsCurrVal+=e}}class Y extends q{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new l.IntDiffOptRleEncoder,this.clientEncoder=new l.UintOptRleEncoder,this.leftClockEncoder=new l.IntDiffOptRleEncoder,this.rightClockEncoder=new l.IntDiffOptRleEncoder,this.infoEncoder=new l.RleEncoder(l.writeUint8),this.stringEncoder=new l.StringEncoder,this.parentInfoEncoder=new l.RleEncoder(l.writeUint8),this.typeRefEncoder=new l.UintOptRleEncoder,this.lenEncoder=new l.UintOptRleEncoder}toUint8Array(){let e=l.createEncoder();return l.writeVarUint(e,0),l.writeVarUint8Array(e,this.keyClockEncoder.toUint8Array()),l.writeVarUint8Array(e,this.clientEncoder.toUint8Array()),l.writeVarUint8Array(e,this.leftClockEncoder.toUint8Array()),l.writeVarUint8Array(e,this.rightClockEncoder.toUint8Array()),l.writeVarUint8Array(e,l.toUint8Array(this.infoEncoder)),l.writeVarUint8Array(e,this.stringEncoder.toUint8Array()),l.writeVarUint8Array(e,l.toUint8Array(this.parentInfoEncoder)),l.writeVarUint8Array(e,this.typeRefEncoder.toUint8Array()),l.writeVarUint8Array(e,this.lenEncoder.toUint8Array()),l.writeUint8Array(e,l.toUint8Array(this.restEncoder)),l.toUint8Array(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(+!!e)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){l.writeAny(this.restEncoder,e)}writeBuf(e){l.writeVarUint8Array(this.restEncoder,e)}writeJSON(e){l.writeAny(this.restEncoder,e)}writeKey(e){let t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}let K=(e,t,r,n)=>{n=a.max(n,t[0].id.clock);let i=e5(t,n);l.writeVarUint(e.restEncoder,t.length-i),e.writeClient(r),l.writeVarUint(e.restEncoder,n);let o=t[i];o.write(e,n-o.id.clock);for(let r=i+1;r<t.length;r++)t[r].write(e,0)},X=(e,t,r)=>{let n=new Map;r.forEach((e,r)=>{e6(t,r)>e&&n.set(r,e)}),e8(t).forEach((e,t)=>{r.has(t)||n.set(t,0)}),l.writeVarUint(e.restEncoder,n.size),s.from(n.entries()).sort((e,t)=>t[0]-e[0]).forEach(([r,n])=>{K(e,t.clients.get(r),r,n)})},Z=(e,t)=>{let r=c.create(),n=h.readVarUint(e.restDecoder);for(let i=0;i<n;i++){let n=h.readVarUint(e.restDecoder),i=Array(n),o=e.readClient(),s=h.readVarUint(e.restDecoder);r.set(o,{i:0,refs:i});for(let r=0;r<n;r++){let n=e.readInfo();switch(g.BITS5&n){case 0:{let t=e.readLen();i[r]=new rL(ev(o,s),t),s+=t;break}case 10:{let t=h.readVarUint(e.restDecoder);i[r]=new nr(ev(o,s),t),s+=t;break}default:{let a=(n&(g.BIT7|g.BIT8))==0,c=new r7(ev(o,s),null,(n&g.BIT8)===g.BIT8?e.readLeftID():null,null,(n&g.BIT7)===g.BIT7?e.readRightID():null,a?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,a&&(n&g.BIT6)===g.BIT6?e.readString():null,ne(e,n));i[r]=c,s+=c.length}}}}return r},Q=(e,t,r)=>{let n=[],i=s.from(r.keys()).sort((e,t)=>e-t);if(0===i.length)return null;let o=()=>{if(0===i.length)return null;let e=r.get(i[i.length-1]);for(;e.refs.length===e.i;){if(i.pop(),!(i.length>0))return null;e=r.get(i[i.length-1])}return e},a=o();if(null===a)return null;let h=new e2,u=new Map,d=(e,t)=>{let r=u.get(e);(null==r||r>t)&&u.set(e,t)},p=a.refs[a.i++],f=new Map,g=()=>{for(let e of n){let t=e.id.client,n=r.get(t);n?(n.i--,h.clients.set(t,n.refs.slice(n.i)),r.delete(t),n.i=0,n.refs=[]):h.clients.set(t,[e]),i=i.filter(e=>e!==t)}n.length=0};for(;;){if(p.constructor!==nr){let i=c.setIfUndefined(f,p.id.client,()=>e6(t,p.id.client))-p.id.clock;if(i<0)n.push(p),d(p.id.client,p.id.clock-1),g();else{let o=p.getMissing(e,t);if(null!==o){n.push(p);let e=r.get(o)||{refs:[],i:0};if(e.refs.length===e.i)d(o,e6(t,o)),g();else{p=e.refs[e.i++];continue}}else(0===i||i<p.length)&&(p.integrate(e,i),f.set(p.id.client,p.id.clock+p.length))}}if(n.length>0)p=n.pop();else if(null!==a&&a.i<a.refs.length)p=a.refs[a.i++];else{if(null===(a=o()))break;p=a.refs[a.i++]}}if(h.clients.size>0){let e=new Y;return X(e,h,new Map),l.writeVarUint(e.restEncoder,0),{missing:u,update:e.toUint8Array()}}return null},ee=(e,t)=>X(e,t.doc.store,t.beforeState),et=(e,t,r,n=new G(e))=>tu(t,e=>{e.local=!1;let t=!1,r=e.doc,i=r.store,o=Q(e,i,Z(n,r)),s=i.pendingStructs;if(s){for(let[e,r]of s.missing)if(r<e6(i,e)){t=!0;break}if(o){for(let[e,t]of o.missing){let r=s.missing.get(e);(null==r||r>t)&&s.missing.set(e,t)}s.update=tI([s.update,o.update])}}else i.pendingStructs=o;let a=L(n,e,i);if(i.pendingDs){let t=new G(h.createDecoder(i.pendingDs));h.readVarUint(t.restDecoder);let r=L(t,e,i);a&&r?i.pendingDs=tI([a,r]):i.pendingDs=a||r}else i.pendingDs=a;if(t){let t=i.pendingStructs.update;i.pendingStructs=null,en(e.doc,t)}},r,!1),er=(e,t,r)=>et(e,t,r,new $(e)),en=(e,t,r,n=G)=>{let i=h.createDecoder(t);et(i,e,r,new n(i))},ei=(e,t,r)=>en(e,t,r,$),eo=(e,t,r=new Map)=>{X(e,t.store,r),O(e,P(t.store))},es=(e,t=new Uint8Array([0]),r=new Y)=>{eo(r,e,el(t));let n=[r.toUint8Array()];if(e.store.pendingDs&&n.push(e.store.pendingDs),e.store.pendingStructs&&n.push(tU(e.store.pendingStructs.update,t)),n.length>1){if(r.constructor===H)return t_(n.map((e,t)=>0===t?e:tN(e)));if(r.constructor===Y)return tI(n)}return n[0]},ea=(e,t)=>es(e,t,new H),ec=e=>{let t=new Map,r=h.readVarUint(e.restDecoder);for(let n=0;n<r;n++){let r=h.readVarUint(e.restDecoder),n=h.readVarUint(e.restDecoder);t.set(r,n)}return t},el=e=>ec(new z(h.createDecoder(e))),eh=(e,t)=>(l.writeVarUint(e.restEncoder,t.size),s.from(t.entries()).sort((e,t)=>t[0]-e[0]).forEach(([t,r])=>{l.writeVarUint(e.restEncoder,t),l.writeVarUint(e.restEncoder,r)}),e),eu=(e,t)=>eh(e,e8(t.store)),ed=(e,t=new q)=>(e instanceof Map?eh(t,e):eu(t,e),t.toUint8Array()),ep=e=>ed(e,new W);class ef{constructor(){this.l=[]}}let eg=()=>new ef,em=(e,t)=>e.l.push(t),ey=(e,t)=>{let r=e.l,n=r.length;e.l=r.filter(e=>t!==e),n===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},ew=(e,t,r)=>m.callAll(e.l,[t,r]);class eb{constructor(e,t){this.client=e,this.clock=t}}let ex=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,ev=(e,t)=>new eb(e,t),e_=(e,t)=>{l.writeVarUint(e,t.client),l.writeVarUint(e,t.clock)},eE=e=>ev(h.readVarUint(e),h.readVarUint(e)),eS=e=>{for(let[t,r]of e.doc.share.entries())if(r===e)return t;throw f.unexpectedCase()},eC=(e,t)=>{for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1},ek=e=>{let t=[],r=e._start;for(;r;)t.push(r),r=r.right;console.log("Children: ",t),console.log("Children content: ",t.filter(e=>!e.deleted).map(e=>e.content))};class eT{constructor(e,t=e.getMap("users")){let r=new Map;this.yusers=t,this.doc=e,this.clients=new Map,this.dss=r;let n=(e,t)=>{let r=e.get("ds"),n=e.get("ids"),i=e=>this.clients.set(e,t);r.observe(e=>{e.changes.added.forEach(e=>{e.content.getContent().forEach(e=>{e instanceof Uint8Array&&this.dss.set(t,D([this.dss.get(t)||B(),M(new z(h.createDecoder(e)))]))})})}),this.dss.set(t,D(r.map(e=>M(new z(h.createDecoder(e)))))),n.observe(e=>e.changes.added.forEach(e=>e.content.getContent().forEach(i))),n.forEach(i)};t.observe(e=>{e.keysChanged.forEach(e=>n(t.get(e),e))}),t.forEach(n)}setUserMapping(e,t,r,{filter:n=()=>!0}={}){let i=this.yusers,o=i.get(r);o||((o=new rp).set("ids",new ru),o.set("ds",new ru),i.set(r,o)),o.get("ids").push([t]),i.observe(e=>{setTimeout(()=>{let e=i.get(r);if(e!==o){o=e,this.clients.forEach((e,t)=>{r===e&&o.get("ids").push([t])});let t=new W,n=this.dss.get(r);n&&(O(t,n),o.get("ds").push([t.toUint8Array()]))}},0)}),e.on("afterTransaction",e=>{setTimeout(()=>{let t=o.get("ds"),r=e.deleteSet;if(e.local&&r.clients.size>0&&n(e,r)){let e=new W;O(e,r),t.push([e.toUint8Array()])}})})}getUserByClientId(e){return this.clients.get(e)||null}getUserByDeletedId(e){for(let[t,r]of this.dss.entries())if(j(r,e))return t;return null}}class eI{constructor(e,t,r,n=0){this.type=e,this.tname=t,this.item=r,this.assoc=n}}let eU=e=>{let t={};return e.type&&(t.type=e.type),e.tname&&(t.tname=e.tname),e.item&&(t.item=e.item),null!=e.assoc&&(t.assoc=e.assoc),t},ej=e=>new eI(null==e.type?null:ev(e.type.client,e.type.clock),e.tname??null,null==e.item?null:ev(e.item.client,e.item.clock),null==e.assoc?0:e.assoc);class eA{constructor(e,t,r=0){this.type=e,this.index=t,this.assoc=r}}let eD=(e,t,r=0)=>new eA(e,t,r),eR=(e,t,r)=>{let n=null,i=null;return null===e._item?i=eS(e):n=ev(e._item.id.client,e._item.id.clock),new eI(n,i,t,r)},eB=(e,t,r=0)=>{let n=e._start;if(r<0){if(0===t)return eR(e,null,r);t--}for(;null!==n;){if(!n.deleted&&n.countable){if(n.length>t)return eR(e,ev(n.id.client,n.id.clock+t),r);t-=n.length}if(null===n.right&&r<0)return eR(e,n.lastId,r);n=n.right}return eR(e,null,r)},eP=(e,t)=>{let{type:r,tname:n,item:i,assoc:o}=t;if(null!==i)l.writeVarUint(e,0),e_(e,i);else if(null!==n)l.writeUint8(e,1),l.writeVarString(e,n);else if(null!==r)l.writeUint8(e,2),e_(e,r);else throw f.unexpectedCase();return l.writeVarInt(e,o),e},eO=e=>{let t=l.createEncoder();return eP(t,e),l.toUint8Array(t)},eM=e=>{let t=null,r=null,n=null;switch(h.readVarUint(e)){case 0:n=eE(e);break;case 1:r=h.readVarString(e);break;case 2:t=eE(e)}return new eI(t,r,n,h.hasContent(e)?h.readVarInt(e):0)},eL=e=>eM(h.createDecoder(e)),eN=(e,t)=>{let r=e4(e,t),n=t.clock-r.id.clock;return{item:r,diff:n}},eF=(e,t,r=!0)=>{let n=t.store,i=e.item,o=e.type,s=e.tname,a=e.assoc,c=null,l=0;if(null!==i){if(e6(n,i.client)<=i.clock)return null;let e=r?r6(n,i):eN(n,i),t=e.item;if(!(t instanceof r7))return null;if(null===(c=t.parent)._item||!c._item.deleted){l=t.deleted||!t.countable?0:e.diff+(a>=0?0:1);let r=t.left;for(;null!==r;)!r.deleted&&r.countable&&(l+=r.length),r=r.left}}else{if(null!==s)c=t.get(s);else if(null!==o){if(e6(n,o.client)<=o.clock)return null;let{item:e}=r?r6(n,o):{item:e4(n,o)};if(!(e instanceof r7)||!(e.content instanceof r8))return null;c=e.content.type}else throw f.unexpectedCase();l=a>=0?c._length:0}return eD(c,l,e.assoc)},eV=(e,t)=>e===t||null!==e&&null!==t&&e.tname===t.tname&&ex(e.item,t.item)&&ex(e.type,t.type)&&e.assoc===t.assoc;class ez{constructor(e,t){this.ds=e,this.sv=t}}let e$=(e,t)=>{let r=e.ds.clients,n=t.ds.clients,i=e.sv,o=t.sv;if(i.size!==o.size||r.size!==n.size)return!1;for(let[e,t]of i.entries())if(o.get(e)!==t)return!1;for(let[e,t]of r.entries()){let r=n.get(e)||[];if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++){let n=t[e],i=r[e];if(n.clock!==i.clock||n.len!==i.len)return!1}}return!0},eJ=(e,t=new q)=>(O(t,e.ds),eh(t,e.sv),t.toUint8Array()),eG=e=>eJ(e,new W),eW=(e,t=new J(h.createDecoder(e)))=>new ez(M(t),ec(t)),eH=e=>eW(e,new z(h.createDecoder(e))),eq=(e,t)=>new ez(e,t),eY=eq(B(),new Map),eK=e=>eq(P(e.store),e8(e.store)),eX=(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!j(t.ds,e.id),eZ=(e,t)=>{let r=c.setIfUndefined(e.meta,eZ,y.create),n=e.doc.store;r.has(t)||(t.sv.forEach((t,r)=>{t<e6(n,r)&&e7(e,ev(r,t))}),I(e,t.ds,e=>{}),r.add(t))},eQ=(e,t,r=new V)=>{if(e.gc)throw Error("Garbage-collection must be disabled in `originDoc`!");let{sv:n,ds:i}=t,o=new Y;return e.transact(t=>{let r=0;for(let[i,s]of(n.forEach(e=>{e>0&&r++}),l.writeVarUint(o.restEncoder,r),n)){if(0===s)continue;s<e6(e.store,i)&&e7(t,ev(i,s));let r=e.store.clients.get(i)||[],n=e5(r,s-1);l.writeVarUint(o.restEncoder,n+1),o.writeClient(i),l.writeVarUint(o.restEncoder,0);for(let e=0;e<=n;e++)r[e].write(o,0)}O(o,i)}),en(r,o.toUint8Array(),"snapshot"),r},e0=(e,t,r=G)=>{let n=new r(h.createDecoder(t)),i=new tm(n,!1);for(let t=i.curr;null!==t;t=i.next())if((e.sv.get(t.id.client)||0)<t.id.clock+t.length)return!1;let o=D([e.ds,M(n)]);return N(e.ds,o)},e1=(e,t)=>e0(e,t,$);class e2{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}let e8=e=>{let t=new Map;return e.clients.forEach((e,r)=>{let n=e[e.length-1];t.set(r,n.id.clock+n.length)}),t},e6=(e,t)=>{let r=e.clients.get(t);if(void 0===r)return 0;let n=r[r.length-1];return n.id.clock+n.length},e3=(e,t)=>{let r=e.clients.get(t.id.client);if(void 0===r)r=[],e.clients.set(t.id.client,r);else{let e=r[r.length-1];if(e.id.clock+e.length!==t.id.clock)throw f.unexpectedCase()}r.push(t)},e5=(e,t)=>{let r=0,n=e.length-1,i=e[n],o=i.id.clock;if(o===t)return n;let s=a.floor(t/(o+i.length-1)*n);for(;r<=n;){if((o=(i=e[s]).id.clock)<=t){if(t<o+i.length)return s;r=s+1}else n=s-1;s=a.floor((r+n)/2)}throw f.unexpectedCase()},e4=(e,t)=>{let r=e.clients.get(t.client);return r[e5(r,t.clock)]},e9=(e,t,r)=>{let n=e5(t,r),i=t[n];return i.id.clock<r&&i instanceof r7?(t.splice(n+1,0,r5(e,i,r-i.id.clock)),n+1):n},e7=(e,t)=>{let r=e.doc.store.clients.get(t.client);return r[e9(e,r,t.clock)]},te=(e,t,r)=>{let n=t.clients.get(r.client),i=e5(n,r.clock),o=n[i];return r.clock!==o.id.clock+o.length-1&&o.constructor!==rL&&n.splice(i+1,0,r5(e,o,r.clock-o.id.clock+1)),o},tt=(e,t,r)=>{let n=e.clients.get(t.id.client);n[e5(n,t.id.clock)]=r},tr=(e,t,r,n,i)=>{let o;if(0===n)return;let s=r+n,a=e9(e,t,r);do s<(o=t[a++]).id.clock+o.length&&e9(e,t,s),i(o);while(a<t.length&&t[a].id.clock<s)};class tn{constructor(e,t,r){this.doc=e,this.deleteSet=new T,this.beforeState=e8(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}let ti=(e,t)=>!!(0!==t.deleteSet.clients.size||c.any(t.afterState,(e,r)=>t.beforeState.get(r)!==e))&&(A(t.deleteSet),ee(e,t),O(e,t.deleteSet),!0),to=(e,t,r)=>{let n=t._item;(null===n||n.id.clock<(e.beforeState.get(n.id.client)||0)&&!n.deleted)&&c.setIfUndefined(e.changed,t,y.create).add(r)},ts=(e,t)=>{let r=e[t],n=e[t-1],i=t;for(;i>0;r=n,n=e[--i-1]){if(n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)){r instanceof r7&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n);continue}break}let o=t-i;return o&&e.splice(t+1-o,o),o},ta=(e,t,r)=>{for(let[n,i]of e.clients.entries()){let e=t.clients.get(n);for(let n=i.length-1;n>=0;n--){let o=i[n],s=o.clock+o.len;for(let n=e5(e,o.clock),i=e[n];n<e.length&&i.id.clock<s;i=e[++n]){let i=e[n];if(o.clock+o.len<=i.id.clock)break;i instanceof r7&&i.deleted&&!i.keep&&r(i)&&i.gc(t,!1)}}}},tc=(e,t)=>{e.clients.forEach((e,r)=>{let n=t.clients.get(r);for(let t=e.length-1;t>=0;t--){let r=e[t],i=a.min(n.length-1,1+e5(n,r.clock+r.len-1));for(let e=i,t=n[e];e>0&&t.id.clock>=r.clock;t=n[e])e-=1+ts(n,e)}})},tl=(e,t,r)=>{ta(e,t,r),tc(e,t)},th=(e,t)=>{if(t<e.length){let r=e[t],n=r.doc,i=n.store,o=r.deleteSet,s=r._mergeStructs;try{A(o),r.afterState=e8(r.doc.store),n.emit("beforeObserverCalls",[r,n]);let e=[];r.changed.forEach((t,n)=>e.push(()=>{null!==n._item&&n._item.deleted||n._callObserver(r,t)})),e.push(()=>{r.changedParentTypes.forEach((e,t)=>{t._dEH.l.length>0&&(null===t._item||!t._item.deleted)&&((e=e.filter(e=>null===e.target._item||!e.target._item.deleted)).forEach(e=>{e.currentTarget=t,e._path=null}),e.sort((e,t)=>e.path.length-t.path.length),ew(t._dEH,e,r))})}),e.push(()=>n.emit("afterTransaction",[r,n])),(0,m.callAll)(e,[]),r._needFormattingCleanup&&rT(r)}finally{n.gc&&ta(o,i,n.gcFilter),tc(o,i),r.afterState.forEach((e,t)=>{let n=r.beforeState.get(t)||0;if(n!==e){let e=i.clients.get(t),r=a.max(e5(e,n),1);for(let t=e.length-1;t>=r;)t-=1+ts(e,t)}});for(let e=s.length-1;e>=0;e--){let{client:t,clock:r}=s[e].id,n=i.clients.get(t),o=e5(n,r);!(o+1<n.length&&ts(n,o+1)>1)&&o>0&&ts(n,o)}if(r.local||r.afterState.get(n.clientID)===r.beforeState.get(n.clientID)||(w.print(w.ORANGE,w.BOLD,"[yjs] ",w.UNBOLD,w.RED,"Changed the client-id because another client seems to be using it."),n.clientID=F()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){let e=new H;ti(e,r)&&n.emit("update",[e.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){let e=new Y;ti(e,r)&&n.emit("updateV2",[e.toUint8Array(),r.origin,n,r])}let{subdocsAdded:c,subdocsLoaded:l,subdocsRemoved:h}=r;(c.size>0||h.size>0||l.size>0)&&(c.forEach(e=>{e.clientID=n.clientID,null==e.collectionid&&(e.collectionid=n.collectionid),n.subdocs.add(e)}),h.forEach(e=>n.subdocs.delete(e)),n.emit("subdocs",[{loaded:l,added:c,removed:h},n,r]),h.forEach(e=>e.destroy())),e.length<=t+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,e])):th(e,t+1)}}},tu=(e,t,r=null,n=!0)=>{let i=e._transactionCleanups,o=!1,s=null;null===e._transaction&&(o=!0,e._transaction=new tn(e,r,n),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{s=t(e._transaction)}finally{if(o){let t=e._transaction===i[0];e._transaction=null,t&&th(i,0)}}return s};class td{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}}let tp=(e,t,r)=>{I(e,r.deletions,r=>{r instanceof r7&&t.scope.some(t=>t===e.doc||eC(t,r))&&r3(r,!1)})},tf=(e,t,r)=>{let n=null,i=e.doc,o=e.scope;tu(i,r=>{for(;t.length>0&&null===e.currStackItem;){let n=i.store,s=t.pop(),a=new Set,c=[],l=!1;I(r,s.insertions,e=>{if(e instanceof r7){if(null!==e.redone){let{item:t,diff:i}=r6(n,e.id);i>0&&(t=e7(r,ev(t.id.client,t.id.clock+i))),e=t}!e.deleted&&o.some(t=>t===r.doc||eC(t,e))&&c.push(e)}}),I(r,s.deletions,e=>{e instanceof r7&&o.some(t=>t===r.doc||eC(t,e))&&!j(s.insertions,e.id)&&a.add(e)}),a.forEach(t=>{l=null!==r9(r,t,a,s.insertions,e.ignoreRemoteMapChanges,e)||l});for(let t=c.length-1;t>=0;t--){let n=c[t];e.deleteFilter(n)&&(n.delete(r),l=!0)}e.currStackItem=l?s:null}r.changed.forEach((e,t)=>{e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)}),n=r},e);let s=e.currStackItem;if(null!=s){let t=n.changedParentTypes;e.emit("stack-item-popped",[{stackItem:s,type:r,changedParentTypes:t,origin:e},e]),e.currStackItem=null}return s};class tg extends o.ObservableV2{constructor(e,{captureTimeout:t=500,captureTransaction:r=e=>!0,deleteFilter:n=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=s.isArray(e)?e[0].doc:e instanceof V?e:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=n,i.add(this),this.trackedOrigins=i,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=t,this.afterTransactionHandler=e=>{if(!this.captureTransaction(e)||!this.scope.some(t=>e.changedParentTypes.has(t)||t===this.doc)||!this.trackedOrigins.has(e.origin)&&(!e.origin||!this.trackedOrigins.has(e.origin.constructor)))return;let t=this.undoing,r=this.redoing,n=t?this.redoStack:this.undoStack;t?this.stopCapturing():r||this.clear(!1,!0);let i=new T;e.afterState.forEach((t,r)=>{let n=e.beforeState.get(r)||0,o=t-n;o>0&&R(i,r,n,o)});let o=b.getUnixTime(),s=!1;if(this.lastChange>0&&o-this.lastChange<this.captureTimeout&&n.length>0&&!t&&!r){let t=n[n.length-1];t.deletions=D([t.deletions,e.deleteSet]),t.insertions=D([t.insertions,i])}else n.push(new td(e.deleteSet,i)),s=!0;t||r||(this.lastChange=o),I(e,e.deleteSet,t=>{t instanceof r7&&this.scope.some(r=>r===e.doc||eC(r,t))&&r3(t,!0)});let a=[{stackItem:n[n.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},this];s?this.emit("stack-item-added",a):this.emit("stack-item-updated",a)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){let t=new Set(this.scope);(e=s.isArray(e)?e:[e]).forEach(e=>{t.has(e)||(t.add(e),(e instanceof tQ?e.doc!==this.doc:e!==this.doc)&&w.warn("[yjs#509] Not same Y.Doc"),this.scope.push(e))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(e=>tp(r,this,e)),this.undoStack=[]),t&&(this.redoStack.forEach(e=>tp(r,this,e)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])})}stopCapturing(){this.lastChange=0}undo(){let e;this.undoing=!0;try{e=tf(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){let e;this.redoing=!0;try{e=tf(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}class tm{constructor(e,t){this.gen=function*(e){let t=h.readVarUint(e.restDecoder);for(let r=0;r<t;r++){let t=h.readVarUint(e.restDecoder),r=e.readClient(),n=h.readVarUint(e.restDecoder);for(let i=0;i<t;i++){let t=e.readInfo();if(10===t){let t=h.readVarUint(e.restDecoder);yield new nr(ev(r,n),t),n+=t}else if((g.BITS5&t)!=0){let i=(t&(g.BIT7|g.BIT8))==0,o=new r7(ev(r,n),null,(t&g.BIT8)===g.BIT8?e.readLeftID():null,null,(t&g.BIT7)===g.BIT7?e.readRightID():null,i?e.readParentInfo()?e.readString():e.readLeftID():null,i&&(t&g.BIT6)===g.BIT6?e.readString():null,ne(e,t));yield o,n+=o.length}else{let t=e.readLen();yield new rL(ev(r,n),t),n+=t}}}}(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&null!==this.curr&&this.curr.constructor===nr)return this.curr}}let ty=e=>tw(e,$),tw=(e,t=G)=>{let r=[],n=new t(h.createDecoder(e)),i=new tm(n,!1);for(let e=i.curr;null!==e;e=i.next())r.push(e);w.print("Structs: ",r);let o=M(n);w.print("DeleteSet: ",o)},tb=e=>tx(e,$),tx=(e,t=G)=>{let r=[],n=new t(h.createDecoder(e)),i=new tm(n,!1);for(let e=i.curr;null!==e;e=i.next())r.push(e);return{structs:r,ds:M(n)}};class tv{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}let t_=e=>tI(e,$,H),tE=(e,t=q,r=G)=>{let n=new t,i=new tm(new r(h.createDecoder(e)),!1),o=i.curr;if(null===o)return l.writeVarUint(n.restEncoder,0),n.toUint8Array();{let e=0,t=o.id.client,r=0!==o.id.clock,s=r?0:o.id.clock+o.length;for(;null!==o;o=i.next())t!==o.id.client&&(0!==s&&(e++,l.writeVarUint(n.restEncoder,t),l.writeVarUint(n.restEncoder,s)),t=o.id.client,s=0,r=0!==o.id.clock),o.constructor===nr&&(r=!0),r||(s=o.id.clock+o.length);0!==s&&(e++,l.writeVarUint(n.restEncoder,t),l.writeVarUint(n.restEncoder,s));let a=l.createEncoder();return l.writeVarUint(a,e),l.writeBinaryEncoder(a,n.restEncoder),n.restEncoder=a,n.toUint8Array()}},tS=e=>tE(e,W,$),tC=(e,t=G)=>{let r=new Map,n=new Map,i=new tm(new t(h.createDecoder(e)),!1),o=i.curr;if(null!==o){let e=o.id.client,t=o.id.clock;for(r.set(e,t);null!==o;o=i.next())e!==o.id.client&&(n.set(e,t),r.set(o.id.client,o.id.clock),e=o.id.client),t=o.id.clock+o.length;n.set(e,t)}return{from:r,to:n}},tk=e=>tC(e,$),tT=(e,t)=>{if(e.constructor===rL){let{client:r,clock:n}=e.id;return new rL(ev(r,n+t),e.length-t)}if(e.constructor===nr){let{client:r,clock:n}=e.id;return new nr(ev(r,n+t),e.length-t)}{let{client:r,clock:n}=e.id;return new r7(ev(r,n+t),null,ev(r,n+t-1),null,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t))}},tI=(e,t=G,r=Y)=>{if(1===e.length)return e[0];let n=e.map(e=>new t(h.createDecoder(e))),i=n.map(e=>new tm(e,!0)),o=null,s=new r,a=new tv(s);for(;(i=i.filter(e=>null!==e.curr)).sort((e,t)=>{if(e.curr.id.client!==t.curr.id.client)return t.curr.id.client-e.curr.id.client;{let r=e.curr.id.clock-t.curr.id.clock;return 0===r?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===nr?1:-1:r}}),0!==i.length;){let e=i[0],t=e.curr.id.client;if(null!==o){let r=e.curr,n=!1;for(;null!==r&&r.id.clock+r.length<=o.struct.id.clock+o.struct.length&&r.id.client>=o.struct.id.client;)r=e.next(),n=!0;if(null===r||r.id.client!==t||n&&r.id.clock>o.struct.id.clock+o.struct.length)continue;if(t!==o.struct.id.client)tD(a,o.struct,o.offset),o={struct:r,offset:0},e.next();else if(o.struct.id.clock+o.struct.length<r.id.clock){if(o.struct.constructor===nr)o.struct.length=r.id.clock+r.length-o.struct.id.clock;else{tD(a,o.struct,o.offset);let e=r.id.clock-o.struct.id.clock-o.struct.length;o={struct:new nr(ev(t,o.struct.id.clock+o.struct.length),e),offset:0}}}else{let t=o.struct.id.clock+o.struct.length-r.id.clock;t>0&&(o.struct.constructor===nr?o.struct.length-=t:r=tT(r,t)),o.struct.mergeWith(r)||(tD(a,o.struct,o.offset),o={struct:r,offset:0},e.next())}}else o={struct:e.curr,offset:0},e.next();for(let r=e.curr;null!==r&&r.id.client===t&&r.id.clock===o.struct.id.clock+o.struct.length&&r.constructor!==nr;r=e.next())tD(a,o.struct,o.offset),o={struct:r,offset:0}}return null!==o&&(tD(a,o.struct,o.offset),o=null),tR(a),O(s,D(n.map(e=>M(e)))),s.toUint8Array()},tU=(e,t,r=G,n=Y)=>{let i=el(t),o=new n,s=new tv(o),c=new r(h.createDecoder(e)),l=new tm(c,!1);for(;l.curr;){let e=l.curr,t=e.id.client,r=i.get(t)||0;if(l.curr.constructor===nr){l.next();continue}if(e.id.clock+e.length>r)for(tD(s,e,a.max(r-e.id.clock,0)),l.next();l.curr&&l.curr.id.client===t;)tD(s,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===t&&l.curr.id.clock+l.curr.length<=r;)l.next()}return tR(s),O(o,M(c)),o.toUint8Array()},tj=(e,t)=>tU(e,t,$,H),tA=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:l.toUint8Array(e.encoder.restEncoder)}),e.encoder.restEncoder=l.createEncoder(),e.written=0)},tD=(e,t,r)=>{e.written>0&&e.currClient!==t.id.client&&tA(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),l.writeVarUint(e.encoder.restEncoder,t.id.clock+r)),t.write(e.encoder,r),e.written++},tR=e=>{tA(e);let t=e.encoder.restEncoder;l.writeVarUint(t,e.clientStructs.length);for(let r=0;r<e.clientStructs.length;r++){let n=e.clientStructs[r];l.writeVarUint(t,n.written),l.writeUint8Array(t,n.restEncoder)}},tB=(e,t,r,n)=>{let i=new r(h.createDecoder(e)),o=new tm(i,!1),s=new n,a=new tv(s);for(let e=o.curr;null!==e;e=o.next())tD(a,t(e),0);return tR(a),O(s,M(i)),s.toUint8Array()},tP=({formatting:e=!0,subdocs:t=!0,yxml:r=!0}={})=>{let n=0,i=c.create(),o=c.create(),s=c.create(),a=c.create();return a.set(null,null),l=>{switch(l.constructor){case rL:case nr:return l;case r7:{let h=l.content;switch(h.constructor){case rF:break;case r8:if(r){let e=h.type;e instanceof rR&&(e.nodeName=c.setIfUndefined(o,e.nodeName,()=>"node-"+n)),e instanceof rP&&(e.hookName=c.setIfUndefined(o,e.hookName,()=>"hook-"+n))}break;case rH:h.arr=h.arr.map(()=>n);break;case rN:h.content=new Uint8Array([n]);break;case rz:t&&(h.opts={},h.doc.guid=n+"");break;case r$:h.embed={};break;case rJ:e&&(h.key=c.setIfUndefined(s,h.key,()=>n+""),h.value=c.setIfUndefined(a,h.value,()=>({i:n})));break;case rG:h.arr=h.arr.map(()=>n);break;case rq:h.str=x.repeat(n%10+"",h.str.length);break;default:f.unexpectedCase()}return l.parentSub&&(l.parentSub=c.setIfUndefined(i,l.parentSub,()=>n+"")),n++,l}default:f.unexpectedCase()}}},tO=(e,t)=>tB(e,tP(t),$,H),tM=(e,t)=>tB(e,tP(t),G,Y),tL=e=>tB(e,m.id,$,Y),tN=e=>tB(e,m.id,G,H),tF="You must not compute changes after the event-handler fired.";class tV{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=tz(this.currentTarget,this.target))}deletes(e){return j(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw f.create(tF);let e=new Map,t=this.target;this.transaction.changed.get(t).forEach(r=>{if(null!==r){let n,i,o=t._map.get(r);if(this.adds(o)){let e=o.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(o)){if(!(null!==e&&this.deletes(e)))return;n="delete",i=s.last(e.content.getContent())}else null!==e&&this.deletes(e)?(n="update",i=s.last(e.content.getContent())):(n="add",i=void 0)}else{if(!this.deletes(o))return;n="delete",i=s.last(o.content.getContent())}e.set(r,{action:n,oldValue:i})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){if(0===this.transaction.doc._transactionCleanups.length)throw f.create(tF);let t=this.target,r=y.create(),n=y.create(),i=[];if(e={added:r,deleted:n,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){let e=null,o=()=>{e&&i.push(e)};for(let i=t._start;null!==i;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&((null===e||void 0===e.delete)&&(o(),e={delete:0}),e.delete+=i.length,n.add(i)):this.adds(i)?((null===e||void 0===e.insert)&&(o(),e={insert:[]}),e.insert=e.insert.concat(i.content.getContent()),r.add(i)):((null===e||void 0===e.retain)&&(o(),e={retain:0}),e.retain+=i.length);null!==e&&void 0===e.retain&&o()}this._changes=e}return e}}let tz=(e,t)=>{let r=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)r.unshift(t._item.parentSub);else{let e=0,n=t._item.parent._start;for(;n!==t._item&&null!==n;)!n.deleted&&n.countable&&(e+=n.length),n=n.right;r.unshift(e)}t=t._item.parent}return r},t$=()=>{w.warn("Invalid access: Add Yjs type to a document before reading data.")},tJ=0;class tG{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=tJ++}}let tW=e=>{e.timestamp=tJ++},tH=(e,t,r)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=r,e.timestamp=tJ++},tq=(e,t,r)=>{if(e.length>=80){let n=e.reduce((e,t)=>e.timestamp<t.timestamp?e:t);return tH(n,t,r),n}{let n=new tG(t,r);return e.push(n),n}},tY=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;let r=0===e._searchMarker.length?null:e._searchMarker.reduce((e,r)=>a.abs(t-e.index)<a.abs(t-r.index)?e:r),n=e._start,i=0;for(null!==r&&(n=r.p,i=r.index,tW(r));null!==n.right&&i<t;){if(!n.deleted&&n.countable){if(t<i+n.length)break;i+=n.length}n=n.right}for(;null!==n.left&&i>t;)!(n=n.left).deleted&&n.countable&&(i-=n.length);for(;null!==n.left&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)!(n=n.left).deleted&&n.countable&&(i-=n.length);return null!==r&&a.abs(r.index-i)<n.parent.length/80?(tH(r,n,i),r):tq(e._searchMarker,n,i)},tK=(e,t,r)=>{for(let n=e.length-1;n>=0;n--){let i=e[n];if(r>0){let t=i.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)(t=t.left)&&!t.deleted&&t.countable&&(i.index-=t.length);if(null===t||!0===t.marker){e.splice(n,1);continue}i.p=t,t.marker=!0}(t<i.index||r>0&&t===i.index)&&(i.index=a.max(t,i.index+r))}},tX=e=>{e.doc??t$();let t=e._start,r=[];for(;t;)r.push(t),t=t.right;return r},tZ=(e,t,r)=>{let n=e,i=t.changedParentTypes;for(;c.setIfUndefined(i,e,()=>[]).push(r),null!==e._item;)e=e._item.parent;ew(n._eH,r,t)};class tQ{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=eg(),this._dEH=eg(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw f.methodUnimplemented()}clone(){throw f.methodUnimplemented()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){em(this._eH,e)}observeDeep(e){em(this._dEH,e)}unobserve(e){ey(this._eH,e)}unobserveDeep(e){ey(this._dEH,e)}toJSON(){}}let t0=(e,t,r)=>{e.doc??t$(),t<0&&(t=e._length+t),r<0&&(r=e._length+r);let n=r-t,i=[],o=e._start;for(;null!==o&&n>0;){if(o.countable&&!o.deleted){let e=o.content.getContent();if(e.length<=t)t-=e.length;else{for(let r=t;r<e.length&&n>0;r++)i.push(e[r]),n--;t=0}}o=o.right}return i},t1=e=>{e.doc??t$();let t=[],r=e._start;for(;null!==r;){if(r.countable&&!r.deleted){let e=r.content.getContent();for(let r=0;r<e.length;r++)t.push(e[r])}r=r.right}return t},t2=(e,t)=>{let r=[],n=e._start;for(;null!==n;){if(n.countable&&eX(n,t)){let e=n.content.getContent();for(let t=0;t<e.length;t++)r.push(e[t])}n=n.right}return r},t8=(e,t)=>{let r=0,n=e._start;for(e.doc??t$();null!==n;){if(n.countable&&!n.deleted){let i=n.content.getContent();for(let n=0;n<i.length;n++)t(i[n],r++,e)}n=n.right}},t6=(e,t)=>{let r=[];return t8(e,(n,i)=>{r.push(t(n,i,e))}),r},t3=e=>{let t=e._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(null===r){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};r=t.content.getContent(),n=0,t=t.right}let e=r[n++];return r.length<=n&&(r=null),{done:!1,value:e}}}},t5=(e,t)=>{e.doc??t$();let r=tY(e,t),n=e._start;for(null!==r&&(n=r.p,t-=r.index);null!==n;n=n.right)if(!n.deleted&&n.countable){if(t<n.length)return n.content.getContent()[t];t-=n.length}},t4=(e,t,r,n)=>{let i=r,o=e.doc,s=o.clientID,a=o.store,c=null===r?t._start:r.right,l=[],h=()=>{l.length>0&&((i=new r7(ev(s,e6(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new rH(l))).integrate(e,0),l=[])};n.forEach(r=>{if(null===r)l.push(r);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(r);break;default:switch(h(),r.constructor){case Uint8Array:case ArrayBuffer:(i=new r7(ev(s,e6(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new rN(new Uint8Array(r)))).integrate(e,0);break;case V:(i=new r7(ev(s,e6(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new rz(r))).integrate(e,0);break;default:if(r instanceof tQ)(i=new r7(ev(s,e6(a,s)),i,i&&i.lastId,c,c&&c.id,t,null,new r8(r))).integrate(e,0);else throw Error("Unexpected content type in insert operation")}}}),h()},t9=()=>f.create("Length exceeded!"),t7=(e,t,r,n)=>{if(r>t._length)throw t9();if(0===r)return t._searchMarker&&tK(t._searchMarker,r,n.length),t4(e,t,null,n);let i=r,o=tY(t,r),s=t._start;for(null!==o&&(s=o.p,0==(r-=o.index)&&(r+=(s=s.prev)&&s.countable&&!s.deleted?s.length:0));null!==s;s=s.right)if(!s.deleted&&s.countable){if(r<=s.length){r<s.length&&e7(e,ev(s.id.client,s.id.clock+r));break}r-=s.length}return t._searchMarker&&tK(t._searchMarker,i,n.length),t4(e,t,s,n)},re=(e,t,r)=>{let n=(t._searchMarker||[]).reduce((e,t)=>t.index>e.index?t:e,{index:0,p:t._start}).p;if(n)for(;n.right;)n=n.right;return t4(e,t,n,r)},rt=(e,t,r,n)=>{if(0===n)return;let i=r,o=n,s=tY(t,r),a=t._start;for(null!==s&&(a=s.p,r-=s.index);null!==a&&r>0;a=a.right)!a.deleted&&a.countable&&(r<a.length&&e7(e,ev(a.id.client,a.id.clock+r)),r-=a.length);for(;n>0&&null!==a;)a.deleted||(n<a.length&&e7(e,ev(a.id.client,a.id.clock+n)),a.delete(e),n-=a.length),a=a.right;if(n>0)throw t9();t._searchMarker&&tK(t._searchMarker,i,-o+n)},rr=(e,t,r)=>{let n=t._map.get(r);void 0!==n&&n.delete(e)},rn=(e,t,r,n)=>{let i,o=t._map.get(r)||null,s=e.doc,a=s.clientID;if(null==n)i=new rH([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:i=new rH([n]);break;case Uint8Array:i=new rN(n);break;case V:i=new rz(n);break;default:if(n instanceof tQ)i=new r8(n);else throw Error("Unexpected content type")}new r7(ev(a,e6(s.store,a)),o,o&&o.lastId,null,null,t,r,i).integrate(e,0)},ri=(e,t)=>{e.doc??t$();let r=e._map.get(t);return void 0===r||r.deleted?void 0:r.content.getContent()[r.length-1]},ro=e=>{let t={};return e.doc??t$(),e._map.forEach((e,r)=>{e.deleted||(t[r]=e.content.getContent()[e.length-1])}),t},rs=(e,t)=>{e.doc??t$();let r=e._map.get(t);return void 0!==r&&!r.deleted},ra=(e,t,r)=>{let n=e._map.get(t)||null;for(;null!==n&&(!r.sv.has(n.id.client)||n.id.clock>=(r.sv.get(n.id.client)||0));)n=n.left;return null!==n&&eX(n,r)?n.content.getContent()[n.length-1]:void 0},rc=(e,t)=>{let r={};return e._map.forEach((e,n)=>{let i=e;for(;null!==i&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;null!==i&&eX(i,t)&&(r[n]=i.content.getContent()[i.length-1])}),r},rl=e=>(e.doc??t$(),v.iteratorFilter(e._map.entries(),e=>!e[1].deleted));class rh extends tV{}class ru extends tQ{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){let t=new ru;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ru}clone(){let e=new ru;return e.insert(0,this.toArray().map(e=>e instanceof tQ?e.clone():e)),e}get length(){return this.doc??t$(),this._length}_callObserver(e,t){super._callObserver(e,t),tZ(this,e,new rh(this,e))}insert(e,t){null!==this.doc?tu(this.doc,r=>{t7(r,this,e,t)}):this._prelimContent.splice(e,0,...t)}push(e){null!==this.doc?tu(this.doc,t=>{re(t,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?tu(this.doc,r=>{rt(r,this,e,t)}):this._prelimContent.splice(e,t)}get(e){return t5(this,e)}toArray(){return t1(this)}slice(e=0,t=this.length){return t0(this,e,t)}toJSON(){return this.map(e=>e instanceof tQ?e.toJSON():e)}map(e){return t6(this,e)}forEach(e){t8(this,e)}[Symbol.iterator](){return t3(this)}_write(e){e.writeTypeRef(rK)}}class rd extends tV{constructor(e,t,r){super(e,t),this.keysChanged=r}}class rp extends tQ{constructor(e){super(),this._prelimContent=null,void 0===e?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((e,t)=>{this.set(t,e)}),this._prelimContent=null}_copy(){return new rp}clone(){let e=new rp;return this.forEach((t,r)=>{e.set(r,t instanceof tQ?t.clone():t)}),e}_callObserver(e,t){tZ(this,e,new rd(this,e,t))}toJSON(){this.doc??t$();let e={};return this._map.forEach((t,r)=>{if(!t.deleted){let n=t.content.getContent()[t.length-1];e[r]=n instanceof tQ?n.toJSON():n}}),e}get size(){return[...rl(this)].length}keys(){return v.iteratorMap(rl(this),e=>e[0])}values(){return v.iteratorMap(rl(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return v.iteratorMap(rl(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??t$(),this._map.forEach((t,r)=>{t.deleted||e(t.content.getContent()[t.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?tu(this.doc,t=>{rr(t,this,e)}):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?tu(this.doc,r=>{rn(r,this,e,t)}):this._prelimContent.set(e,t),t}get(e){return ri(this,e)}has(e){return rs(this,e)}clear(){null!==this.doc?tu(this.doc,e=>{this.forEach(function(t,r,n){rr(e,n,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(rX)}}let rf=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&_.equalFlat(e,t);class rg{constructor(e,t,r,n){this.left=e,this.right=t,this.index=r,this.currentAttributes=n}forward(){(null===this.right&&f.unexpectedCase(),this.right.content.constructor===rJ)?this.right.deleted||rb(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}let rm=(e,t,r)=>{for(;null!==t.right&&r>0;)t.right.content.constructor===rJ?t.right.deleted||rb(t.currentAttributes,t.right.content):t.right.deleted||(r<t.right.length&&e7(e,ev(t.right.id.client,t.right.id.clock+r)),t.index+=t.right.length,r-=t.right.length),t.left=t.right,t.right=t.right.right;return t},ry=(e,t,r,n)=>{let i=new Map,o=n?tY(t,r):null;return o?rm(e,new rg(o.p.left,o.p,o.index,i),r-o.index):rm(e,new rg(null,t._start,0,i),r)},rw=(e,t,r,n)=>{for(;null!==r.right&&(!0===r.right.deleted||r.right.content.constructor===rJ&&rf(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();let i=e.doc,o=i.clientID;n.forEach((n,s)=>{let a=r.left,c=r.right,l=new r7(ev(o,e6(i.store,o)),a,a&&a.lastId,c,c&&c.id,t,null,new rJ(s,n));l.integrate(e,0),r.right=l,r.forward()})},rb=(e,t)=>{let{key:r,value:n}=t;null===n?e.delete(r):e.set(r,n)},rx=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===rJ&&rf(t[e.right.content.key]??null,e.right.content.value));){;e.forward()}},rv=(e,t,r,n)=>{let i=e.doc,o=i.clientID,s=new Map;for(let a in n){let c=n[a],l=r.currentAttributes.get(a)??null;if(!rf(l,c)){s.set(a,l);let{left:n,right:h}=r;r.right=new r7(ev(o,e6(i.store,o)),n,n&&n.lastId,h,h&&h.id,t,null,new rJ(a,c)),r.right.integrate(e,0),r.forward()}}return s},r_=(e,t,r,n,i)=>{r.currentAttributes.forEach((e,t)=>{void 0===i[t]&&(i[t]=null)});let o=e.doc,s=o.clientID;rx(r,i);let a=rv(e,t,r,i),c=n.constructor===String?new rq(n):n instanceof tQ?new r8(n):new r$(n),{left:l,right:h,index:u}=r;t._searchMarker&&tK(t._searchMarker,r.index,c.getLength()),(h=new r7(ev(s,e6(o.store,s)),l,l&&l.lastId,h,h&&h.id,t,null,c)).integrate(e,0),r.right=h,r.index=u,r.forward(),rw(e,t,r,a)},rE=(e,t,r,n,i)=>{let o=e.doc,s=o.clientID;rx(r,i);let a=rv(e,t,r,i);for(;null!==r.right&&(n>0||a.size>0&&(r.right.deleted||r.right.content.constructor===rJ));){if(!r.right.deleted){if(r.right.content.constructor===rJ){let{key:t,value:o}=r.right.content,s=i[t];if(void 0!==s){if(rf(s,o))a.delete(t);else{if(0===n)break;a.set(t,o)}r.right.delete(e)}else r.currentAttributes.set(t,o)}else n<r.right.length&&e7(e,ev(r.right.id.client,r.right.id.clock+n)),n-=r.right.length}r.forward()}if(n>0){let i="";for(;n>0;n--)i+="\n";r.right=new r7(ev(s,e6(o.store,s)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,t,null,new rq(i)),r.right.integrate(e,0),r.forward()}rw(e,t,r,a)},rS=(e,t,r,n,i)=>{let o=t,s=c.create();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===rJ){let e=o.content;s.set(e.key,e)}o=o.right}let a=0,l=!1;for(;t!==o;){if(r===t&&(l=!0),!t.deleted){let r=t.content;if(r.constructor===rJ){let{key:o,value:c}=r,h=n.get(o)??null;s.get(o)===r&&h!==c||(t.delete(e),a++,l||(i.get(o)??null)!==c||h===c||(null===h?i.delete(o):i.set(o,h))),l||t.deleted||rb(i,r)}}t=t.right}return a},rC=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;let r=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===rJ){let n=t.content.key;r.has(n)?t.delete(e):r.add(n)}t=t.left}},rk=e=>{let t=0;return tu(e.doc,r=>{let n=e._start,i=e._start,o=c.create(),s=c.copy(o);for(;i;)!1===i.deleted&&(i.content.constructor===rJ?rb(s,i.content):(t+=rS(r,n,i,o,s),o=c.copy(s),n=i)),i=i.right}),t},rT=e=>{let t=new Set,r=e.doc;for(let[n,i]of e.afterState.entries()){let o=e.beforeState.get(n)||0;i!==o&&tr(e,r.store.clients.get(n),o,i,e=>{e.deleted||e.content.constructor!==rJ||e.constructor===rL||t.add(e.parent)})}tu(r,r=>{for(let n of(I(e,e.deleteSet,e=>{if(e instanceof rL||!e.parent._hasFormatting||t.has(e.parent))return;let n=e.parent;e.content.constructor===rJ?t.add(n):rC(r,e)}),t))rk(n)})},rI=(e,t,r)=>{let n=r,i=c.copy(t.currentAttributes),o=t.right;for(;r>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case r8:case r$:case rq:r<t.right.length&&e7(e,ev(t.right.id.client,t.right.id.clock+r)),r-=t.right.length,t.right.delete(e)}t.forward()}o&&rS(e,o,t.right,i,t.currentAttributes);let s=(t.left||t.right).parent;return s._searchMarker&&tK(s._searchMarker,t.index,-n+r),t};class rU extends tV{constructor(e,t,r){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)})}get changes(){if(null===this._changes){let e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){let e=this.target.doc,t=[];tu(e,e=>{let r=new Map,n=new Map,i=this.target._start,o=null,s={},a="",c=0,l=0,h=()=>{if(null!==o){let e=null;switch(o){case"delete":l>0&&(e={delete:l}),l=0;break;case"insert":("object"==typeof a||a.length>0)&&(e={insert:a},r.size>0&&(e.attributes={},r.forEach((t,r)=>{null!==t&&(e.attributes[r]=t)}))),a="";break;case"retain":c>0&&(e={retain:c},_.isEmpty(s)||(e.attributes=_.assign({},s))),c=0}e&&t.push(e),o=null}};for(;null!==i;){switch(i.content.constructor){case r8:case r$:this.adds(i)?this.deletes(i)||(h(),o="insert",a=i.content.getContent()[0],h()):this.deletes(i)?("delete"!==o&&(h(),o="delete"),l+=1):i.deleted||("retain"!==o&&(h(),o="retain"),c+=1);break;case rq:this.adds(i)?this.deletes(i)||("insert"!==o&&(h(),o="insert"),a+=i.content.str):this.deletes(i)?("delete"!==o&&(h(),o="delete"),l+=i.length):i.deleted||("retain"!==o&&(h(),o="retain"),c+=i.length);break;case rJ:{let{key:t,value:a}=i.content;if(this.adds(i))this.deletes(i)||(rf(r.get(t)??null,a)?null!==a&&i.delete(e):("retain"===o&&h(),rf(a,n.get(t)??null)?delete s[t]:s[t]=a));else if(this.deletes(i)){n.set(t,a);let e=r.get(t)??null;rf(e,a)||("retain"===o&&h(),s[t]=e)}else if(!i.deleted){n.set(t,a);let r=s[t];void 0!==r&&(rf(r,a)?null!==r&&i.delete(e):("retain"===o&&h(),null===a?delete s[t]:s[t]=a))}i.deleted||("insert"===o&&h(),rb(r,i.content))}}i=i.right}for(h();t.length>0;){let e=t[t.length-1];if(void 0!==e.retain&&void 0===e.attributes)t.pop();else break}}),this._delta=t}return this._delta}}class rj extends tQ{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??t$(),this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(e=>e())}catch(e){console.error(e)}this._pending=null}_copy(){return new rj}clone(){let e=new rj;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);let r=new rU(this,e,t);tZ(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??t$();let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===rq&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?tu(this.doc,r=>{let n=new rg(null,this._start,0,new Map);for(let i=0;i<e.length;i++){let o=e[i];if(void 0!==o.insert){let s=t||"string"!=typeof o.insert||i!==e.length-1||null!==n.right||"\n"!==o.insert.slice(-1)?o.insert:o.insert.slice(0,-1);("string"!=typeof s||s.length>0)&&r_(r,this,n,s,o.attributes||{})}else void 0!==o.retain?rE(r,this,n,o.retain,o.attributes||{}):void 0!==o.delete&&rI(r,n,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,t,r){this.doc??t$();let n=[],i=new Map,o=this.doc,s="",a=this._start;function c(){if(s.length>0){let e={},t=!1;i.forEach((r,n)=>{t=!0,e[n]=r});let r={insert:s};t&&(r.attributes=e),n.push(r),s=""}}let l=()=>{for(;null!==a;){if(eX(a,e)||void 0!==t&&eX(a,t))switch(a.content.constructor){case rq:{let n=i.get("ychange");void 0===e||eX(a,e)?void 0===t||eX(a,t)?void 0!==n&&(c(),i.delete("ychange")):(void 0===n||n.user!==a.id.client||"added"!==n.type)&&(c(),i.set("ychange",r?r("added",a.id):{type:"added"})):(void 0===n||n.user!==a.id.client||"removed"!==n.type)&&(c(),i.set("ychange",r?r("removed",a.id):{type:"removed"})),s+=a.content.str;break}case r8:case r$:{c();let e={insert:a.content.getContent()[0]};if(i.size>0){let t={};e.attributes=t,i.forEach((e,r)=>{t[r]=e})}n.push(e);break}case rJ:eX(a,e)&&(c(),rb(i,a.content))}a=a.right}c()};return e||t?tu(o,r=>{e&&eZ(r,e),t&&eZ(r,t),l()},"cleanup"):l(),n}insert(e,t,r){if(t.length<=0)return;let n=this.doc;null!==n?tu(n,n=>{let i=ry(n,this,e,!r);r||(r={},i.currentAttributes.forEach((e,t)=>{r[t]=e})),r_(n,this,i,t,r)}):this._pending.push(()=>this.insert(e,t,r))}insertEmbed(e,t,r){let n=this.doc;null!==n?tu(n,n=>{let i=ry(n,this,e,!r);r_(n,this,i,t,r||{})}):this._pending.push(()=>this.insertEmbed(e,t,r||{}))}delete(e,t){if(0===t)return;let r=this.doc;null!==r?tu(r,r=>{rI(r,ry(r,this,e,!0),t)}):this._pending.push(()=>this.delete(e,t))}format(e,t,r){if(0===t)return;let n=this.doc;null!==n?tu(n,n=>{let i=ry(n,this,e,!1);null!==i.right&&rE(n,this,i,t,r)}):this._pending.push(()=>this.format(e,t,r))}removeAttribute(e){null!==this.doc?tu(this.doc,t=>{rr(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,t){null!==this.doc?tu(this.doc,r=>{rn(r,this,e,t)}):this._pending.push(()=>this.setAttribute(e,t))}getAttribute(e){return ri(this,e)}getAttributes(){return ro(this)}_write(e){e.writeTypeRef(rZ)}}class rA{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??t$()}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do if(t=e.content.type,e.deleted||t.constructor!==rR&&t.constructor!==rD||null===t._start)for(;null!==e;){let t=e.next;if(null!==t){e=t;break}e=e.parent===this._root?null:e.parent._item}else e=t._start;while(null!==e&&(e.deleted||!this._filter(e.content.type)))return(this._firstCall=!1,null===e)?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class rD extends tQ{constructor(){super(),this._prelimContent=[]}get firstChild(){let e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new rD}clone(){let e=new rD;return e.insert(0,this.toArray().map(e=>e instanceof tQ?e.clone():e)),e}get length(){return this.doc??t$(),null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new rA(this,e)}querySelector(e){e=e.toUpperCase();let t=new rA(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),s.from(new rA(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){tZ(this,e,new rB(this,t,e))}toString(){return t6(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},r){let n=e.createDocumentFragment();return void 0!==r&&r._createAssociation(n,this),t8(this,i=>{n.insertBefore(i.toDOM(e,t,r),null)}),n}insert(e,t){null!==this.doc?tu(this.doc,r=>{t7(r,this,e,t)}):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)tu(this.doc,r=>{t4(r,this,e&&e instanceof tQ?e._item:e,t)});else{let r=this._prelimContent,n=null===e?0:r.findIndex(t=>t===e)+1;if(0===n&&null!==e)throw f.create("Reference item not found");r.splice(n,0,...t)}}delete(e,t=1){null!==this.doc?tu(this.doc,r=>{rt(r,this,e,t)}):this._prelimContent.splice(e,t)}toArray(){return t1(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return t5(this,e)}slice(e=0,t=this.length){return t0(this,e,t)}forEach(e){t8(this,e)}_write(e){e.writeTypeRef(r0)}}class rR extends rD{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((e,t)=>{this.setAttribute(t,e)}),this._prelimAttrs=null}_copy(){return new rR(this.nodeName)}clone(){let e=new rR(this.nodeName),t=this.getAttributes();return _.forEach(t,(t,r)=>{"string"==typeof t&&e.setAttribute(r,t)}),e.insert(0,this.toArray().map(e=>e instanceof tQ?e.clone():e)),e}toString(){let e=this.getAttributes(),t=[],r=[];for(let t in e)r.push(t);r.sort();let n=r.length;for(let i=0;i<n;i++){let n=r[i];t.push(n+'="'+e[n]+'"')}let i=this.nodeName.toLocaleLowerCase(),o=t.length>0?" "+t.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(e){null!==this.doc?tu(this.doc,t=>{rr(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?tu(this.doc,r=>{rn(r,this,e,t)}):this._prelimAttrs.set(e,t)}getAttribute(e){return ri(this,e)}hasAttribute(e){return rs(this,e)}getAttributes(e){return e?rc(this,e):ro(this)}toDOM(e=document,t={},r){let n=e.createElement(this.nodeName),i=this.getAttributes();for(let e in i){let t=i[e];"string"==typeof t&&n.setAttribute(e,t)}return t8(this,i=>{n.appendChild(i.toDOM(e,t,r))}),void 0!==r&&r._createAssociation(n,this),n}_write(e){e.writeTypeRef(rQ),e.writeKey(this.nodeName)}}class rB extends tV{constructor(e,t,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)})}}class rP extends rp{constructor(e){super(),this.hookName=e}_copy(){return new rP(this.hookName)}clone(){let e=new rP(this.hookName);return this.forEach((t,r)=>{e.set(r,t)}),e}toDOM(e=document,t={},r){let n,i=t[this.hookName];return(n=void 0!==i?i.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==r&&r._createAssociation(n,this),n}_write(e){e.writeTypeRef(r1),e.writeKey(this.hookName)}}class rO extends rj{get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new rO}clone(){let e=new rO;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,r){let n=e.createTextNode(this.toString());return void 0!==r&&r._createAssociation(n,this),n}toString(){return this.toDelta().map(e=>{let t=[];for(let r in e.attributes){let n=[];for(let t in e.attributes[r])n.push({key:t,value:e.attributes[r][t]});n.sort((e,t)=>e.key<t.key?-1:1),t.push({nodeName:r,attrs:n})}t.sort((e,t)=>e.nodeName<t.nodeName?-1:1);let r="";for(let e=0;e<t.length;e++){let n=t[e];r+=`<${n.nodeName}`;for(let e=0;e<n.attrs.length;e++){let t=n.attrs[e];r+=` ${t.key}="${t.value}"`}r+=">"}r+=e.insert;for(let e=t.length-1;e>=0;e--)r+=`</${t[e].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(r2)}}class rM{constructor(e,t){this.id=e,this.length=t}get deleted(){throw f.methodUnimplemented()}mergeWith(e){return!1}write(e,t,r){throw f.methodUnimplemented()}integrate(e,t){throw f.methodUnimplemented()}}class rL extends rM{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),e3(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class rN{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new rN(this.content)}splice(e){throw f.methodUnimplemented()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class rF{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new rF(this.len)}splice(e){let t=new rF(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){R(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}let rV=(e,t)=>new V({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class rz{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;let t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new rz(rV(this.doc.guid,this.opts))}splice(e){throw f.methodUnimplemented()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class r${constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new r$(this.embed)}splice(e){throw f.methodUnimplemented()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class rJ{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new rJ(this.key,this.value)}splice(e){throw f.methodUnimplemented()}mergeWith(e){return!1}integrate(e,t){let r=t.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class rG{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new rG(this.arr)}splice(e){let t=new rG(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){let r=this.arr.length;e.writeLen(r-t);for(let n=t;n<r;n++){let t=this.arr[n];e.writeString(void 0===t?"undefined":JSON.stringify(t))}}getRef(){return 2}}let rW="development"===E.getVariable("node_env");class rH{constructor(e){this.arr=e,rW&&_.deepFreeze(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new rH(this.arr)}splice(e){let t=new rH(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){let r=this.arr.length;e.writeLen(r-t);for(let n=t;n<r;n++){let t=this.arr[n];e.writeAny(t)}}getRef(){return 8}}class rq{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new rq(this.str)}splice(e){let t=new rq(this.str.slice(e));this.str=this.str.slice(0,e);let r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",t.str=""+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}let rY=[e=>new ru,e=>new rp,e=>new rj,e=>new rR(e.readKey()),e=>new rD,e=>new rP(e.readKey()),e=>new rO],rK=0,rX=1,rZ=2,rQ=3,r0=4,r1=5,r2=6;class r8{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new r8(this.type._copy())}splice(e){throw f.methodUnimplemented()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(t=>{t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(t=>{for(;null!==t;)t.gc(e,!0),t=t.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}let r6=(e,t)=>{let r,n=t,i=0;do i>0&&(n=ev(n.client,n.clock+i)),r=e4(e,n),i=n.clock-r.id.clock,n=r.redone;while(null!==n&&r instanceof r7)return{item:r,diff:i}},r3=(e,t)=>{for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},r5=(e,t,r)=>{let{client:n,clock:i}=t.id,o=new r7(ev(n,i+r),t,ev(n,i+r-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(r));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),null!==t.redone&&(o.redone=ev(t.redone.client,t.redone.clock+r)),t.right=o,null!==o.right&&(o.right.left=o),e._mergeStructs.push(o),null!==o.parentSub&&null===o.right&&o.parent._map.set(o.parentSub,o),t.length=r,o},r4=(e,t)=>s.some(e,e=>j(e.deletions,t)),r9=(e,t,r,n,i,o)=>{let s,a=e.doc,c=a.store,l=a.clientID,h=t.redone;if(null!==h)return e7(e,h);let u=t.parent._item,d=null;if(null!==u&&!0===u.deleted){if(null===u.redone&&(!r.has(u)||null===r9(e,u,r,n,i,o)))return null;for(;null!==u.redone;)u=e7(e,u.redone)}let p=null===u?t.parent:u.content.type;if(null===t.parentSub){for(d=t.left,s=t;null!==d;){let t=d;for(;null!==t&&t.parent._item!==u;)t=null===t.redone?null:e7(e,t.redone);if(null!==t&&t.parent._item===u){d=t;break}d=d.left}for(;null!==s;){let t=s;for(;null!==t&&t.parent._item!==u;)t=null===t.redone?null:e7(e,t.redone);if(null!==t&&t.parent._item===u){s=t;break}s=s.right}}else if(s=null,t.right&&!i){for(d=t;null!==d&&null!==d.right&&(d.right.redone||j(n,d.right.id)||r4(o.undoStack,d.right.id)||r4(o.redoStack,d.right.id));)for(d=d.right;d.redone;)d=e7(e,d.redone);if(d&&null!==d.right)return null}else d=p._map.get(t.parentSub)||null;let f=e6(c,l),g=ev(l,f),m=new r7(g,d,d&&d.lastId,s,s&&s.id,p,t.parentSub,t.content.copy());return t.redone=g,r3(m,!0),m.integrate(e,0),m};class r7 extends rM{constructor(e,t,r,n,i,o,s,a){super(e,a.getLength()),this.origin=r,this.left=t,this.right=n,this.rightOrigin=i,this.parent=o,this.parentSub=s,this.redone=null,this.content=a,this.info=this.content.isCountable()?g.BIT2:0}set marker(e){(this.info&g.BIT4)>0!==e&&(this.info^=g.BIT4)}get marker(){return(this.info&g.BIT4)>0}get keep(){return(this.info&g.BIT1)>0}set keep(e){this.keep!==e&&(this.info^=g.BIT1)}get countable(){return(this.info&g.BIT2)>0}get deleted(){return(this.info&g.BIT3)>0}set deleted(e){this.deleted!==e&&(this.info^=g.BIT3)}markDeleted(){this.info|=g.BIT3}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=e6(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=e6(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===eb&&this.id.client!==this.parent.client&&this.parent.clock>=e6(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=te(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=e7(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===rL||this.right&&this.right.constructor===rL)this.parent=null;else if(this.parent){if(this.parent.constructor===eb){let e=e4(t,this.parent);e.constructor===rL?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===r7?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===r7&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=te(e,e.doc.store,ev(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,r=this.left;if(null!==r)t=r.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;let n=new Set,i=new Set;for(;null!==t&&t!==this.right;){if(i.add(t),n.add(t),ex(this.origin,t.origin)){if(t.id.client<this.id.client)r=t,n.clear();else if(ex(this.rightOrigin,t.rightOrigin))break}else if(null!==t.origin&&i.has(e4(e.doc.store,t.origin)))n.has(e4(e.doc.store,t.origin))||(r=t,n.clear());else break;t=t.right}this.left=r}if(null!==this.left){let e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),e3(e.doc.store,this),this.content.integrate(e,this),to(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new rL(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:ev(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&ex(e.origin,this.lastId)&&this.right===e&&ex(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){let t=this.parent._searchMarker;return t&&t.forEach(t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){let t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),R(e.deleteSet,this.id.client,this.id.clock,this.length),to(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw f.unexpectedCase();this.content.gc(e),t?tt(e,this,new rL(this.id,this.length)):this.content=new rF(this.length)}write(e,t){let r=t>0?ev(this.id.client,this.id.clock+t-1):this.origin,n=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&g.BITS5|(null===r?0:g.BIT8)|(null===n?0:g.BIT7)|(null===i?0:g.BIT6);if(e.writeInfo(o),null!==r&&e.writeLeftID(r),null!==n&&e.writeRightID(n),null===r&&null===n){let t=this.parent;if(void 0!==t._item){let r=t._item;if(null===r){let r=eS(t);e.writeParentInfo(!0),e.writeString(r)}else e.writeParentInfo(!1),e.writeLeftID(r.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===eb?(e.writeParentInfo(!1),e.writeLeftID(t)):f.unexpectedCase();null!==i&&e.writeString(i)}this.content.write(e,t)}}let ne=(e,t)=>nt[t&g.BITS5](e),nt=[()=>{f.unexpectedCase()},e=>new rF(e.readLen()),e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++){let t=e.readString();"undefined"===t?r.push(void 0):r.push(JSON.parse(t))}return new rG(r)},e=>new rN(e.readBuf()),e=>new rq(e.readString()),e=>new r$(e.readJSON()),e=>new rJ(e.readKey(),e.readJSON()),e=>new r8(rY[e.readTypeRef()](e)),e=>{let t=e.readLen(),r=[];for(let n=0;n<t;n++)r.push(e.readAny());return new rH(r)},e=>new rz(rV(e.readString(),e.readAny())),()=>{f.unexpectedCase()}];class nr extends rM{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){f.unexpectedCase()}write(e,t){e.writeInfo(10),l.writeVarUint(e.restEncoder,this.length-t)}getMissing(e,t){return null}}let nn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==S?S:{},ni="__ $YJS$ __";!0===nn[ni]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),nn[ni]=!0},{"lib0/observable":"9aNB9","lib0/array":"kcR8B","lib0/math":"icsnC","lib0/map":"gsPjK","lib0/encoding":"jAo8y","lib0/decoding":"2MQNo","lib0/random":"6zQml","lib0/promise":"98Jbs","lib0/buffer":"ezlBF","lib0/error":"gsHuq","lib0/binary":"c3vnv","lib0/function":"5S3AJ","lib0/set":"5gNQm","lib0/logging":"blwZs","lib0/time":"b6cMp","lib0/string":"l5ap6","lib0/iterator":"dOXgT","lib0/object":"eUSla","lib0/environment":"8YiHn","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"9aNB9":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"ObservableV2",()=>c),i.export(r,"Observable",()=>l);var o=e("./map.js"),s=e("./set.js"),a=e("./array.js");class c{constructor(){this._observers=o.create()}on(e,t){return o.setIfUndefined(this._observers,e,s.create).add(t),t}once(e,t){let r=(...n)=>{this.off(e,r),t(...n)};this.on(e,r)}off(e,t){let r=this._observers.get(e);void 0!==r&&(r.delete(t),0===r.size&&this._observers.delete(e))}emit(e,t){return a.from((this._observers.get(e)||o.create()).values()).forEach(e=>e(...t))}destroy(){this._observers=o.create()}}class l{constructor(){this._observers=o.create()}on(e,t){o.setIfUndefined(this._observers,e,s.create).add(t)}once(e,t){let r=(...n)=>{this.off(e,r),t(...n)};this.on(e,r)}off(e,t){let r=this._observers.get(e);void 0!==r&&(r.delete(t),0===r.size&&this._observers.delete(e))}emit(e,t){return a.from((this._observers.get(e)||o.create()).values()).forEach(e=>e(...t))}destroy(){this._observers=o.create()}}},{"./map.js":"gsPjK","./set.js":"5gNQm","./array.js":"kcR8B","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],gsPjK:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"create",()=>o),i.export(r,"copy",()=>s),i.export(r,"setIfUndefined",()=>a),i.export(r,"map",()=>c),i.export(r,"any",()=>l),i.export(r,"all",()=>h);let o=()=>new Map,s=e=>{let t=o();return e.forEach((e,r)=>{t.set(r,e)}),t},a=(e,t,r)=>{let n=e.get(t);return void 0===n&&e.set(t,n=r()),n},c=(e,t)=>{let r=[];for(let[n,i]of e)r.push(t(i,n));return r},l=(e,t)=>{for(let[r,n]of e)if(t(n,r))return!0;return!1},h=(e,t)=>{for(let[r,n]of e)if(!t(n,r))return!1;return!0}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],j9EeU:[function(e,t,r,n){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],"5gNQm":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"create",()=>o),i.export(r,"toArray",()=>s),i.export(r,"first",()=>a),i.export(r,"from",()=>c);let o=()=>new Set,s=e=>Array.from(e),a=e=>e.values().next().value??void 0,c=e=>new Set(e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],kcR8B:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"last",()=>s),i.export(r,"create",()=>a),i.export(r,"copy",()=>c),i.export(r,"appendTo",()=>l),i.export(r,"from",()=>h),i.export(r,"every",()=>u),i.export(r,"some",()=>d),i.export(r,"equalFlat",()=>p),i.export(r,"flatten",()=>f),i.export(r,"unfold",()=>g),i.export(r,"fold",()=>m),i.export(r,"isArray",()=>y),i.export(r,"unique",()=>w),i.export(r,"uniqueBy",()=>b),i.export(r,"map",()=>x);var o=e("./set.js");let s=e=>e[e.length-1],a=()=>[],c=e=>e.slice(),l=(e,t)=>{for(let r=0;r<t.length;r++)e.push(t[r])},h=Array.from,u=(e,t)=>{for(let r=0;r<e.length;r++)if(!t(e[r],r,e))return!1;return!0},d=(e,t)=>{for(let r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1},p=(e,t)=>e.length===t.length&&u(e,(e,r)=>e===t[r]),f=e=>m(e,[],(e,t)=>e.concat(t)),g=(e,t)=>{let r=Array(e);for(let n=0;n<e;n++)r[n]=t(n,r);return r},m=(e,t,r)=>e.reduce(r,t),y=Array.isArray,w=e=>h(o.from(e)),b=(e,t)=>{let r=o.create(),n=[];for(let i=0;i<e.length;i++){let o=e[i],s=t(o);r.has(s)||(r.add(s),n.push(o))}return n},x=(e,t)=>{let r=Array(e.length);for(let n=0;n<e.length;n++)r[n]=t(e[n],n,e);return r}},{"./set.js":"5gNQm","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],icsnC:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"floor",()=>o),i.export(r,"ceil",()=>s),i.export(r,"abs",()=>a),i.export(r,"imul",()=>c),i.export(r,"round",()=>l),i.export(r,"log10",()=>h),i.export(r,"log2",()=>u),i.export(r,"log",()=>d),i.export(r,"sqrt",()=>p),i.export(r,"add",()=>f),i.export(r,"min",()=>g),i.export(r,"max",()=>m),i.export(r,"isNaN",()=>y),i.export(r,"pow",()=>w),i.export(r,"exp10",()=>b),i.export(r,"sign",()=>x),i.export(r,"isNegativeZero",()=>v);let o=Math.floor,s=Math.ceil,a=Math.abs,c=Math.imul,l=Math.round,h=Math.log10,u=Math.log2,d=Math.log,p=Math.sqrt,f=(e,t)=>e+t,g=(e,t)=>e<t?e:t,m=(e,t)=>e>t?e:t,y=Number.isNaN,w=Math.pow,b=e=>Math.pow(10,e),x=Math.sign,v=e=>0!==e?e<0:1/e<0},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],jAo8y:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"Encoder",()=>h),i.export(r,"createEncoder",()=>u),i.export(r,"encode",()=>d),i.export(r,"length",()=>p),i.export(r,"hasContent",()=>f),i.export(r,"toUint8Array",()=>g),i.export(r,"verifyLen",()=>m),i.export(r,"write",()=>y),i.export(r,"set",()=>w),i.export(r,"writeUint8",()=>b),i.export(r,"setUint8",()=>x),i.export(r,"writeUint16",()=>v),i.export(r,"setUint16",()=>_),i.export(r,"writeUint32",()=>E),i.export(r,"writeUint32BigEndian",()=>S),i.export(r,"setUint32",()=>C),i.export(r,"writeVarUint",()=>k),i.export(r,"writeVarInt",()=>T),i.export(r,"_writeVarStringNative",()=>j),i.export(r,"_writeVarStringPolyfill",()=>A),i.export(r,"writeVarString",()=>D),i.export(r,"writeTerminatedString",()=>R),i.export(r,"writeTerminatedUint8Array",()=>B),i.export(r,"writeBinaryEncoder",()=>P),i.export(r,"writeUint8Array",()=>O),i.export(r,"writeVarUint8Array",()=>M),i.export(r,"writeOnDataView",()=>L),i.export(r,"writeFloat32",()=>N),i.export(r,"writeFloat64",()=>F),i.export(r,"writeBigInt64",()=>V),i.export(r,"writeBigUint64",()=>z),i.export(r,"writeAny",()=>G),i.export(r,"RleEncoder",()=>W),i.export(r,"IntDiffEncoder",()=>H),i.export(r,"RleIntDiffEncoder",()=>q),i.export(r,"UintOptRleEncoder",()=>K),i.export(r,"IncUintOptRleEncoder",()=>X),i.export(r,"IntDiffOptRleEncoder",()=>Q),i.export(r,"StringEncoder",()=>ee);var o=e("./math.js"),s=e("./number.js"),a=e("./binary.js"),c=e("./string.js"),l=e("./array.js");class h{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}let u=()=>new h,d=e=>{let t=u();return e(t),g(t)},p=e=>{let t=e.cpos;for(let r=0;r<e.bufs.length;r++)t+=e.bufs[r].length;return t},f=e=>e.cpos>0||e.bufs.length>0,g=e=>{let t=new Uint8Array(p(e)),r=0;for(let n=0;n<e.bufs.length;n++){let i=e.bufs[n];t.set(i,r),r+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),r),t},m=(e,t)=>{let r=e.cbuf.length;r-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*o.max(r,t)),e.cpos=0)},y=(e,t)=>{let r=e.cbuf.length;e.cpos===r&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*r),e.cpos=0),e.cbuf[e.cpos++]=t},w=(e,t,r)=>{let n=null;for(let r=0;r<e.bufs.length&&null===n;r++){let i=e.bufs[r];t<i.length?n=i:t-=i.length}null===n&&(n=e.cbuf),n[t]=r},b=y,x=w,v=(e,t)=>{y(e,t&a.BITS8),y(e,t>>>8&a.BITS8)},_=(e,t,r)=>{w(e,t,r&a.BITS8),w(e,t+1,r>>>8&a.BITS8)},E=(e,t)=>{for(let r=0;r<4;r++)y(e,t&a.BITS8),t>>>=8},S=(e,t)=>{for(let r=3;r>=0;r--)y(e,t>>>8*r&a.BITS8)},C=(e,t,r)=>{for(let n=0;n<4;n++)w(e,t+n,r&a.BITS8),r>>>=8},k=(e,t)=>{for(;t>a.BITS7;)y(e,a.BIT8|a.BITS7&t),t=o.floor(t/128);y(e,a.BITS7&t)},T=(e,t)=>{let r=o.isNegativeZero(t);for(r&&(t=-t),y(e,(t>a.BITS6?a.BIT8:0)|(r?a.BIT7:0)|a.BITS6&t),t=o.floor(t/64);t>0;)y(e,(t>a.BITS7?a.BIT8:0)|a.BITS7&t),t=o.floor(t/128)},I=new Uint8Array(3e4),U=I.length/3,j=(e,t)=>{if(t.length<U){let r=c.utf8TextEncoder.encodeInto(t,I).written||0;k(e,r);for(let t=0;t<r;t++)y(e,I[t])}else M(e,c.encodeUtf8(t))},A=(e,t)=>{let r=unescape(encodeURIComponent(t)),n=r.length;k(e,n);for(let t=0;t<n;t++)y(e,r.codePointAt(t))},D=c.utf8TextEncoder&&c.utf8TextEncoder.encodeInto?j:A,R=(e,t)=>B(e,c.encodeUtf8(t)),B=(e,t)=>{for(let r=0;r<t.length;r++){let n=t[r];(0===n||1===n)&&y(e,1),y(e,t[r])}y(e,0)},P=(e,t)=>O(e,g(t)),O=(e,t)=>{let r=e.cbuf.length,n=e.cpos,i=o.min(r-n,t.length),s=t.length-i;e.cbuf.set(t.subarray(0,i),n),e.cpos+=i,s>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(o.max(2*r,s)),e.cbuf.set(t.subarray(i)),e.cpos=s)},M=(e,t)=>{k(e,t.byteLength),O(e,t)},L=(e,t)=>{m(e,t);let r=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,r},N=(e,t)=>L(e,4).setFloat32(0,t,!1),F=(e,t)=>L(e,8).setFloat64(0,t,!1),V=(e,t)=>L(e,8).setBigInt64(0,t,!1),z=(e,t)=>L(e,8).setBigUint64(0,t,!1),$=new DataView(new ArrayBuffer(4)),J=e=>($.setFloat32(0,e),$.getFloat32(0)===e),G=(e,t)=>{switch(typeof t){case"string":y(e,119),D(e,t);break;case"number":s.isInteger(t)&&o.abs(t)<=a.BITS31?(y(e,125),T(e,t)):J(t)?(y(e,124),N(e,t)):(y(e,123),F(e,t));break;case"bigint":y(e,122),V(e,t);break;case"object":if(null===t)y(e,126);else if(l.isArray(t)){y(e,117),k(e,t.length);for(let r=0;r<t.length;r++)G(e,t[r])}else if(t instanceof Uint8Array)y(e,116),M(e,t);else{y(e,118);let r=Object.keys(t);k(e,r.length);for(let n=0;n<r.length;n++){let i=r[n];D(e,i),G(e,t[i])}}break;case"boolean":y(e,t?120:121);break;default:y(e,127)}};class W extends h{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&k(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}class H extends h{constructor(e){super(),this.s=e}write(e){T(this,e-this.s),this.s=e}}class q extends h{constructor(e){super(),this.s=e,this.count=0}write(e){this.s===e&&this.count>0?this.count++:(this.count>0&&k(this,this.count-1),this.count=1,T(this,e-this.s),this.s=e)}}let Y=e=>{e.count>0&&(T(e.encoder,1===e.count?e.s:-e.s),e.count>1&&k(e.encoder,e.count-2))};class K{constructor(){this.encoder=new h,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Y(this),this.count=1,this.s=e)}toUint8Array(){return Y(this),g(this.encoder)}}class X{constructor(){this.encoder=new h,this.s=0,this.count=0}write(e){this.s+this.count===e?this.count++:(Y(this),this.count=1,this.s=e)}toUint8Array(){return Y(this),g(this.encoder)}}let Z=e=>{if(e.count>0){let t=2*e.diff+ +(1!==e.count);T(e.encoder,t),e.count>1&&k(e.encoder,e.count-2)}};class Q{constructor(){this.encoder=new h,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Z(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Z(this),g(this.encoder)}}class ee{constructor(){this.sarr=[],this.s="",this.lensE=new K}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new h;return this.sarr.push(this.s),this.s="",D(e,this.sarr.join("")),O(e,this.lensE.toUint8Array()),g(e)}}},{"./math.js":"icsnC","./number.js":"64qVp","./binary.js":"c3vnv","./string.js":"l5ap6","./array.js":"kcR8B","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"64qVp":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"MAX_SAFE_INTEGER",()=>a),i.export(r,"MIN_SAFE_INTEGER",()=>c),i.export(r,"LOWEST_INT32",()=>l),i.export(r,"HIGHEST_INT32",()=>h),i.export(r,"HIGHEST_UINT32",()=>u),i.export(r,"isInteger",()=>d),i.export(r,"isNaN",()=>p),i.export(r,"parseInt",()=>f),i.export(r,"countBits",()=>g);var o=e("./math.js"),s=e("./binary.js");let a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,l=-0x80000000,h=s.BITS31,u=s.BITS32,d=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&o.floor(e)===e),p=Number.isNaN,f=Number.parseInt,g=e=>{e&=s.BITS32;let t=0;for(;e;)e&=e-1,t++;return t}},{"./math.js":"icsnC","./binary.js":"c3vnv","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],c3vnv:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"BIT1",()=>o),i.export(r,"BIT2",()=>s),i.export(r,"BIT3",()=>a),i.export(r,"BIT4",()=>c),i.export(r,"BIT5",()=>l),i.export(r,"BIT6",()=>h),i.export(r,"BIT7",()=>u),i.export(r,"BIT8",()=>d),i.export(r,"BIT9",()=>p),i.export(r,"BIT10",()=>f),i.export(r,"BIT11",()=>g),i.export(r,"BIT12",()=>m),i.export(r,"BIT13",()=>y),i.export(r,"BIT14",()=>w),i.export(r,"BIT15",()=>b),i.export(r,"BIT16",()=>x),i.export(r,"BIT17",()=>v),i.export(r,"BIT18",()=>_),i.export(r,"BIT19",()=>E),i.export(r,"BIT20",()=>S),i.export(r,"BIT21",()=>C),i.export(r,"BIT22",()=>k),i.export(r,"BIT23",()=>T),i.export(r,"BIT24",()=>I),i.export(r,"BIT25",()=>U),i.export(r,"BIT26",()=>j),i.export(r,"BIT27",()=>A),i.export(r,"BIT28",()=>D),i.export(r,"BIT29",()=>R),i.export(r,"BIT30",()=>B),i.export(r,"BIT31",()=>P),i.export(r,"BIT32",()=>O),i.export(r,"BITS0",()=>M),i.export(r,"BITS1",()=>L),i.export(r,"BITS2",()=>N),i.export(r,"BITS3",()=>F),i.export(r,"BITS4",()=>V),i.export(r,"BITS5",()=>z),i.export(r,"BITS6",()=>$),i.export(r,"BITS7",()=>J),i.export(r,"BITS8",()=>G),i.export(r,"BITS9",()=>W),i.export(r,"BITS10",()=>H),i.export(r,"BITS11",()=>q),i.export(r,"BITS12",()=>Y),i.export(r,"BITS13",()=>K),i.export(r,"BITS14",()=>X),i.export(r,"BITS15",()=>Z),i.export(r,"BITS16",()=>Q),i.export(r,"BITS17",()=>ee),i.export(r,"BITS18",()=>et),i.export(r,"BITS19",()=>er),i.export(r,"BITS20",()=>en),i.export(r,"BITS21",()=>ei),i.export(r,"BITS22",()=>eo),i.export(r,"BITS23",()=>es),i.export(r,"BITS24",()=>ea),i.export(r,"BITS25",()=>ec),i.export(r,"BITS26",()=>el),i.export(r,"BITS27",()=>eh),i.export(r,"BITS28",()=>eu),i.export(r,"BITS29",()=>ed),i.export(r,"BITS30",()=>ep),i.export(r,"BITS31",()=>ef),i.export(r,"BITS32",()=>eg);let o=1,s=2,a=4,c=8,l=16,h=32,u=64,d=128,p=256,f=512,g=1024,m=2048,y=4096,w=8192,b=16384,x=32768,v=65536,_=131072,E=262144,S=524288,C=1048576,k=2097152,T=4194304,I=8388608,U=0x1000000,j=0x2000000,A=0x4000000,D=0x8000000,R=0x10000000,B=0x20000000,P=0x40000000,O=-0x80000000,M=0,L=1,N=3,F=7,V=15,z=31,$=63,J=127,G=255,W=511,H=1023,q=2047,Y=4095,K=8191,X=16383,Z=32767,Q=65535,ee=131071,et=262143,er=524287,en=1048575,ei=2097151,eo=4194303,es=8388607,ea=0xffffff,ec=0x1ffffff,el=0x3ffffff,eh=0x7ffffff,eu=0xfffffff,ed=0x1fffffff,ep=0x3fffffff,ef=0x7fffffff,eg=0xffffffff},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],l5ap6:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"fromCharCode",()=>s),i.export(r,"fromCodePoint",()=>a),i.export(r,"MAX_UTF16_CHARACTER",()=>c),i.export(r,"trimLeft",()=>u),i.export(r,"fromCamelCase",()=>p),i.export(r,"utf8ByteLength",()=>f),i.export(r,"_encodeUtf8Polyfill",()=>g),i.export(r,"utf8TextEncoder",()=>m),i.export(r,"_encodeUtf8Native",()=>y),i.export(r,"encodeUtf8",()=>w),i.export(r,"_decodeUtf8Polyfill",()=>b),i.export(r,"utf8TextDecoder",()=>x),i.export(r,"_decodeUtf8Native",()=>v),i.export(r,"decodeUtf8",()=>_),i.export(r,"splice",()=>E),i.export(r,"repeat",()=>S);var o=e("./array.js");let s=String.fromCharCode,a=String.fromCodePoint,c=s(65535),l=e=>e.toLowerCase(),h=/^\s*/g,u=e=>e.replace(h,""),d=/([A-Z])/g,p=(e,t)=>u(e.replace(d,e=>`${t}${l(e)}`)),f=e=>unescape(encodeURIComponent(e)).length,g=e=>{let t=unescape(encodeURIComponent(e)),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.codePointAt(e);return n},m="undefined"!=typeof TextEncoder?new TextEncoder:null,y=e=>m.encode(e),w=m?y:g,b=e=>{let t=e.length,r="",n=0;for(;t>0;){let i=t<1e4?t:1e4,o=e.subarray(n,n+i);n+=i,r+=String.fromCodePoint.apply(null,o),t-=i}return decodeURIComponent(escape(r))},x="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});x&&1===x.decode(new Uint8Array).length&&(x=null);let v=e=>x.decode(e),_=x?v:b,E=(e,t,r,n="")=>e.slice(0,t)+n+e.slice(t+r),S=(e,t)=>o.unfold(t,()=>e).join("")},{"./array.js":"kcR8B","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"2MQNo":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"Decoder",()=>p),i.export(r,"createDecoder",()=>f),i.export(r,"hasContent",()=>g),i.export(r,"clone",()=>m),i.export(r,"readUint8Array",()=>y),i.export(r,"readVarUint8Array",()=>w),i.export(r,"readTailAsUint8Array",()=>b),i.export(r,"skip8",()=>x),i.export(r,"readUint8",()=>v),i.export(r,"readUint16",()=>_),i.export(r,"readUint32",()=>E),i.export(r,"readUint32BigEndian",()=>S),i.export(r,"peekUint8",()=>C),i.export(r,"peekUint16",()=>k),i.export(r,"peekUint32",()=>T),i.export(r,"readVarUint",()=>I),i.export(r,"readVarInt",()=>U),i.export(r,"peekVarUint",()=>j),i.export(r,"peekVarInt",()=>A),i.export(r,"_readVarStringPolyfill",()=>D),i.export(r,"_readVarStringNative",()=>R),i.export(r,"readVarString",()=>B),i.export(r,"readTerminatedUint8Array",()=>P),i.export(r,"readTerminatedString",()=>O),i.export(r,"peekVarString",()=>M),i.export(r,"readFromDataView",()=>L),i.export(r,"readFloat32",()=>N),i.export(r,"readFloat64",()=>F),i.export(r,"readBigInt64",()=>V),i.export(r,"readBigUint64",()=>z),i.export(r,"readAny",()=>J),i.export(r,"RleDecoder",()=>G),i.export(r,"IntDiffDecoder",()=>W),i.export(r,"RleIntDiffDecoder",()=>H),i.export(r,"UintOptRleDecoder",()=>q),i.export(r,"IncUintOptRleDecoder",()=>Y),i.export(r,"IntDiffOptRleDecoder",()=>K),i.export(r,"StringDecoder",()=>X);var o=e("./binary.js"),s=e("./math.js"),a=e("./number.js"),c=e("./string.js"),l=e("./error.js"),h=e("./encoding.js");let u=l.create("Unexpected end of array"),d=l.create("Integer out of Range");class p{constructor(e){this.arr=e,this.pos=0}}let f=e=>new p(e),g=e=>e.pos!==e.arr.length,m=(e,t=e.pos)=>{let r=f(e.arr);return r.pos=t,r},y=(e,t)=>{let r=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,r},w=e=>y(e,I(e)),b=e=>y(e,e.arr.length-e.pos),x=e=>e.pos++,v=e=>e.arr[e.pos++],_=e=>{let t=e.arr[e.pos]+(e.arr[e.pos+1]<<8);return e.pos+=2,t},E=e=>{let t=e.arr[e.pos]+(e.arr[e.pos+1]<<8)+(e.arr[e.pos+2]<<16)+(e.arr[e.pos+3]<<24)>>>0;return e.pos+=4,t},S=e=>{let t=e.arr[e.pos+3]+(e.arr[e.pos+2]<<8)+(e.arr[e.pos+1]<<16)+(e.arr[e.pos]<<24)>>>0;return e.pos+=4,t},C=e=>e.arr[e.pos],k=e=>e.arr[e.pos]+(e.arr[e.pos+1]<<8),T=e=>e.arr[e.pos]+(e.arr[e.pos+1]<<8)+(e.arr[e.pos+2]<<16)+(e.arr[e.pos+3]<<24)>>>0,I=e=>{let t=0,r=1,n=e.arr.length;for(;e.pos<n;){let n=e.arr[e.pos++];if(t+=(n&o.BITS7)*r,r*=128,n<o.BIT8)return t;if(t>a.MAX_SAFE_INTEGER)throw d}throw u},U=e=>{let t=e.arr[e.pos++],r=t&o.BITS6,n=64,i=(t&o.BIT7)>0?-1:1;if((t&o.BIT8)==0)return i*r;let s=e.arr.length;for(;e.pos<s;){if(r+=((t=e.arr[e.pos++])&o.BITS7)*n,n*=128,t<o.BIT8)return i*r;if(r>a.MAX_SAFE_INTEGER)throw d}throw u},j=e=>{let t=e.pos,r=I(e);return e.pos=t,r},A=e=>{let t=e.pos,r=U(e);return e.pos=t,r},D=e=>{let t=I(e);if(0===t)return"";{let r=String.fromCodePoint(v(e));if(--t<100)for(;t--;)r+=String.fromCodePoint(v(e));else for(;t>0;){let n=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,r+=String.fromCodePoint.apply(null,i),t-=n}return decodeURIComponent(escape(r))}},R=e=>c.utf8TextDecoder.decode(w(e)),B=c.utf8TextDecoder?R:D,P=e=>{let t,r=h.createEncoder();for(;;){if(0===(t=v(e)))return h.toUint8Array(r);1===t&&(t=v(e)),h.write(r,t)}},O=e=>c.decodeUtf8(P(e)),M=e=>{let t=e.pos,r=B(e);return e.pos=t,r},L=(e,t)=>{let r=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,r},N=e=>L(e,4).getFloat32(0,!1),F=e=>L(e,8).getFloat64(0,!1),V=e=>L(e,8).getBigInt64(0,!1),z=e=>L(e,8).getBigUint64(0,!1),$=[e=>void 0,e=>null,U,N,F,V,e=>!1,e=>!0,B,e=>{let t=I(e),r={};for(let n=0;n<t;n++)r[B(e)]=J(e);return r},e=>{let t=I(e),r=[];for(let n=0;n<t;n++)r.push(J(e));return r},w],J=e=>$[127-v(e)](e);class G extends p{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),g(this)?this.count=I(this)+1:this.count=-1),this.count--,this.s}}class W extends p{constructor(e,t){super(e),this.s=t}read(){return this.s+=U(this),this.s}}class H extends p{constructor(e,t){super(e),this.s=t,this.count=0}read(){return 0===this.count&&(this.s+=U(this),g(this)?this.count=I(this)+1:this.count=-1),this.count--,this.s}}class q extends p{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=U(this);let e=s.isNegativeZero(this.s);this.count=1,e&&(this.s=-this.s,this.count=I(this)+2)}return this.count--,this.s}}class Y extends p{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=U(this);let e=s.isNegativeZero(this.s);this.count=1,e&&(this.s=-this.s,this.count=I(this)+2)}return this.count--,this.s++}}class K extends p{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){let e=U(this);this.diff=s.floor(e/2),this.count=1,1&e&&(this.count=I(this)+2)}return this.s+=this.diff,this.count--,this.s}}class X{constructor(e){this.decoder=new q(e),this.str=B(this.decoder),this.spos=0}read(){let e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}},{"./binary.js":"c3vnv","./math.js":"icsnC","./number.js":"64qVp","./string.js":"l5ap6","./error.js":"gsHuq","./encoding.js":"jAo8y","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],gsHuq:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"create",()=>o),i.export(r,"methodUnimplemented",()=>s),i.export(r,"unexpectedCase",()=>a);let o=e=>Error(e),s=()=>{throw o("Method unimplemented")},a=()=>{throw o("Unexpected case")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"6zQml":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"rand",()=>c),i.export(r,"uint32",()=>l),i.export(r,"uint53",()=>h),i.export(r,"oneOf",()=>u),i.export(r,"uuidv4",()=>d);var o=e("./math.js"),s=e("./binary.js"),a=e("lib0/webcrypto");let c=Math.random,l=()=>(0,a.getRandomValues)(new Uint32Array(1))[0],h=()=>{let e=(0,a.getRandomValues)(new Uint32Array(8));return(e[0]&s.BITS21)*(s.BITS32+1)+(e[1]>>>0)},u=e=>e[o.floor(c()*e.length)],d=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^l()&15>>e/4).toString(16))},{"./math.js":"icsnC","./binary.js":"c3vnv","lib0/webcrypto":"g4bLl","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],g4bLl:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"subtle",()=>o),i.export(r,"getRandomValues",()=>s);let o=crypto.subtle,s=crypto.getRandomValues.bind(crypto)},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"98Jbs":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"create",()=>s),i.export(r,"createEmpty",()=>a),i.export(r,"all",()=>c),i.export(r,"reject",()=>l),i.export(r,"resolve",()=>h),i.export(r,"resolveWith",()=>u),i.export(r,"until",()=>d),i.export(r,"untilAsync",()=>p),i.export(r,"wait",()=>f),i.export(r,"isPromise",()=>g);var o=e("./time.js");let s=e=>new Promise(e),a=e=>new Promise(e),c=Promise.all.bind(Promise),l=e=>Promise.reject(e),h=e=>Promise.resolve(e),u=e=>Promise.resolve(e),d=(e,t,r=10)=>s((n,i)=>{let s=o.getUnixTime(),a=e>0,c=setInterval(()=>{t()?(clearInterval(c),n()):a&&o.getUnixTime()-s>e&&(clearInterval(c),i(Error("Timeout")))},r)}),p=async(e,t=0,r=10)=>{let n=o.getUnixTime(),i=t<=0;for(;i||o.getUnixTime()-n<=t;){if(await e())return;await f(r)}throw Error("Timeout")},f=e=>s((t,r)=>setTimeout(t,e)),g=e=>e instanceof Promise||e&&e.then&&e.catch&&e.finally},{"./time.js":"b6cMp","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],b6cMp:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"getDate",()=>a),i.export(r,"getUnixTime",()=>c),i.export(r,"humanizeDuration",()=>l);var o=e("./metric.js"),s=e("./math.js");let a=()=>new Date,c=Date.now,l=e=>{if(e<6e4){let t=o.prefix(e,-1);return s.round(100*t.n)/100+t.prefix+"s"}let t=(e=s.floor(e/1e3))%60,r=s.floor(e/60)%60,n=s.floor(e/3600)%24,i=s.floor(e/86400);return i>0?i+"d"+(n>0||r>30?" "+(r>30?n+1:n)+"h":""):n>0?n+"h"+(r>0||t>30?" "+(t>30?r+1:r)+"min":""):r+"min"+(t>0?" "+t+"s":"")}},{"./metric.js":"2ArNY","./math.js":"icsnC","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"2ArNY":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"yotta",()=>s),i.export(r,"zetta",()=>a),i.export(r,"exa",()=>c),i.export(r,"peta",()=>l),i.export(r,"tera",()=>h),i.export(r,"giga",()=>u),i.export(r,"mega",()=>d),i.export(r,"kilo",()=>p),i.export(r,"hecto",()=>f),i.export(r,"deca",()=>g),i.export(r,"deci",()=>m),i.export(r,"centi",()=>y),i.export(r,"milli",()=>w),i.export(r,"micro",()=>b),i.export(r,"nano",()=>x),i.export(r,"pico",()=>v),i.export(r,"femto",()=>_),i.export(r,"atto",()=>E),i.export(r,"zepto",()=>S),i.export(r,"yocto",()=>C),i.export(r,"prefix",()=>I);var o=e("./math.js");let s=1e24,a=1e21,c=1e18,l=1e15,h=1e12,u=1e9,d=1e6,p=1e3,f=100,g=10,m=.1,y=.01,w=.001,b=1e-6,x=1e-9,v=1e-12,_=1e-15,E=1e-18,S=1e-21,C=1e-24,k=["","k","M","G","T","P","E","Z","Y"],T=["","m","","n","p","f","a","z","y"],I=(e,t=0)=>{let r=0===e?0:o.log10(e),n=0;for(;r<3*n&&t>-8;)t--,n--;for(;r>=3+3*n&&t<8;)t++,n++;let i=t<0?T[-t]:k[t];return{n:o.round((n>0?e/o.exp10(3*n):e*o.exp10(-3*n))*1e12)/1e12,prefix:i}}},{"./math.js":"icsnC","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],ezlBF:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"createUint8ArrayFromLen",()=>d),i.export(r,"createUint8ArrayViewFromArrayBuffer",()=>p),i.export(r,"createUint8ArrayFromArrayBuffer",()=>f),i.export(r,"toBase64",()=>g),i.export(r,"fromBase64",()=>m),i.export(r,"toBase64UrlEncoded",()=>y),i.export(r,"fromBase64UrlEncoded",()=>w),i.export(r,"toHexString",()=>b),i.export(r,"fromHexString",()=>x),i.export(r,"copyUint8Array",()=>v),i.export(r,"encodeAny",()=>_),i.export(r,"decodeAny",()=>E),i.export(r,"shiftNBitsLeft",()=>S);var o=e("./string.js"),s=e("./environment.js"),a=e("./array.js"),c=e("./math.js"),l=e("./encoding.js"),h=e("./decoding.js"),u=e("6475e0e5014d10a8").Buffer;let d=e=>new Uint8Array(e),p=(e,t,r)=>new Uint8Array(e,t,r),f=e=>new Uint8Array(e),g=s.isBrowser?e=>{let t="";for(let r=0;r<e.byteLength;r++)t+=o.fromCharCode(e[r]);return btoa(t)}:e=>u.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),m=s.isBrowser?e=>{let t=atob(e),r=d(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}:e=>{let t=u.from(e,"base64");return p(t.buffer,t.byteOffset,t.byteLength)},y=e=>g(e).replaceAll("+","-").replaceAll("/","_").replaceAll("=",""),w=e=>m(e.replaceAll("-","+").replaceAll("_","/")),b=e=>a.map(e,e=>e.toString(16).padStart(2,"0")).join(""),x=e=>{let t=e.length,r=new Uint8Array(c.ceil(t/2));for(let n=0;n<t;n+=2)r[r.length-n/2-1]=Number.parseInt(e.slice(t-n-2,t-n),16);return r},v=e=>{let t=d(e.byteLength);return t.set(e),t},_=e=>l.encode(t=>l.writeAny(t,e)),E=e=>h.readAny(h.createDecoder(e)),S=(e,t)=>{if(0===t)return e;e=new Uint8Array(e),e[0]<<=t;for(let r=1;r<e.length;r++)e[r-1]|=e[r]>>>8-t,e[r]<<=t;return e}},{"6475e0e5014d10a8":"b48lF","./string.js":"l5ap6","./environment.js":"8YiHn","./array.js":"kcR8B","./math.js":"icsnC","./encoding.js":"jAo8y","./decoding.js":"2MQNo","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],b48lF:[function(e,t,r,n){"use strict";let i=e("9c62938f1dccc73c"),o=e("aceacb6a4531a9d2"),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!c.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|g(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(L(e,Uint8Array)){let t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(L(e,ArrayBuffer)||e&&L(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(L(e,SharedArrayBuffer)||e&&L(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);let i=function(e){if(c.isBuffer(e)){let t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return h(e),a(e<0?0:0|f(e))}function d(e){let t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),c.prototype),n}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||L(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return O(e).length;default:if(i)return n?-1:P(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=N[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var o,s,a;return o=this,s=t,a=r,0===s&&a===o.length?i.fromByteArray(o):i.fromByteArray(o.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,c/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(l(e,o+n)!==l(t,n)){r=!1;break}if(r)return o}return -1}function x(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(c=(31&t)<<6|63&r)>127&&(o=c);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(c=(15&t)<<12|(63&r)<<6|63&n)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!c.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i){A(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function S(e,t,r,n,i){A(t,n,i,e,r,7);let o=Number(t&BigInt(0xffffffff));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function C(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,r,n,i){return t*=1,r>>>=0,i||C(e,t,r,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,r,n,23,4),r+4}function T(e,t,r,n,i){return t*=1,r>>>=0,i||C(e,t,r,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,r,n,52,8),r+8}r.Buffer=c,r.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=0x7fffffff,c.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return(h(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},c.allocUnsafe=function(e){return u(e)},c.allocUnsafeSlow=function(e){return u(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(L(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),L(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(L(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(c.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?x(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(L(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,a=Math.min(o,s),l=this.slice(n,i),h=e.slice(t,r);for(let e=0;e<a;++e)if(l[e]!==h[e]){o=l[e],s=h[e];break}return o<s?-1:+(s<o)},c.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){var i,o,s,a,c,l,h,u;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let p=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){var a;let n=parseInt(t.substr(2*i,2),16);if((a=n)!=a)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,M(P(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,M(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return c=t,l=r,M(O(e),this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=t,u=r,M(function(e,t){let r,n,i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-h),this,h,u);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=F(function(e){D(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=F(function(e){D(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=F(function(e){D(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),c.prototype.readBigInt64BE=F(function(e){D(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=F(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=F(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=F(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=F(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return T(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return T(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};let I={};function U(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function A(e,t,r,n,i,o){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new I.ERR_OUT_OF_RANGE("value",n,e)}D(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&R(i,n.length-(o+1))}function D(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function R(e,t,r){if(Math.floor(e)!==e)throw D(e,r),new I.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new I.ERR_BUFFER_OUT_OF_BOUNDS;throw new I.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),U("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let B=/[^+/0-9A-Za-z-_]/g;function P(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function O(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function L(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let N=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function F(e){return"undefined"==typeof BigInt?V:e}function V(){throw Error("BigInt not supported")}},{"9c62938f1dccc73c":"5KmMx",aceacb6a4531a9d2:"9I9TM"}],"5KmMx":[function(e,t,r,n){"use strict";r.byteLength=function(e){var t=h(e),r=t[0],n=t[1];return(r+n)*3/4-n},r.toByteArray=function(e){var t,r,n=h(e),i=n[0],a=n[1],c=new s((i+a)*3/4-a),l=0,u=a>0?i-4:i;for(r=0;r<u;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===a&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o=[],s=0,a=r-n;s<a;s+=16383)o.push(function(e,t,r){for(var n,o=[],s=t;s<r;s+=3)n=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(i[n>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===n?o.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&o.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),o.join("")};for(var i=[],o=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=a.length;c<l;++c)i[c]=a[c],o[a.charCodeAt(c)]=c;function h(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],"9I9TM":[function(e,t,r,n){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,l=c>>1,h=-7,u=r?i-1:0,d=r?-1:1,p=e[t+u];for(u+=d,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+e[t+u],u+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+u],u+=d,h-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=l}return(p?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,c,l=8*o-i-1,h=(1<<l)-1,u=h>>1,d=5960464477539062e-23*(23===i),p=n?0:o-1,f=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+u>=1?t+=d/c:t+=d*Math.pow(2,1-u),t*c>=2&&(s++,c/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(t*c-1)*Math.pow(2,i),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+p]=255&s,p+=f,s/=256,l-=8);e[r+p-f]|=128*g}},{}],"8YiHn":[function(e,t,r,n){let i;var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"isNode",()=>d),o.export(r,"isBrowser",()=>p),o.export(r,"isMac",()=>f),o.export(r,"hasParam",()=>y),o.export(r,"getParam",()=>w),o.export(r,"getVariable",()=>b),o.export(r,"getConf",()=>x),o.export(r,"ensureConf",()=>v),o.export(r,"hasConf",()=>_),o.export(r,"production",()=>E),o.export(r,"supportsColor",()=>S);var s=e("./map.js"),a=e("./string.js"),c=e("./conditions.js"),l=e("./storage.js"),h=e("./function.js"),u=e("2cfb8bcef1022e2a");let d=!1,p="undefined"!=typeof window&&"undefined"!=typeof document&&!d,f="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),g=[],m=()=>{if(void 0===i){if(d){i=s.create();let e=u.argv,t=null;for(let r=0;r<e.length;r++){let n=e[r];"-"===n[0]?(null!==t&&i.set(t,""),t=n):null!==t?(i.set(t,n),t=null):g.push(n)}null!==t&&i.set(t,"")}else"object"==typeof location?(i=s.create(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){let[t,r]=e.split("=");i.set(`--${a.fromCamelCase(t,"-")}`,r),i.set(`-${a.fromCamelCase(t,"-")}`,r)}})):i=s.create()}return i},y=e=>m().has(e),w=(e,t)=>m().get(e)||t,b=e=>d?c.undefinedToNull(u.env[e.toUpperCase().replaceAll("-","_")]):c.undefinedToNull(l.varStorage.getItem(e)),x=e=>m().get("--"+e)||b(e),v=e=>{let t=x(e);if(null==t)throw Error(`Expected configuration "${e.toUpperCase().replaceAll("-","_")}"`);return t},_=e=>y("--"+e)||null!==b(e),E=_("production"),S=d&&h.isOneOf(void 0,["true","1","2"])||!y("--no-colors")&&!_("no-color")&&(!d||u.stdout.isTTY)&&(!d||y("--color")||null!==b("COLORTERM")||(b("TERM")||"").includes("color"))},{"2cfb8bcef1022e2a":"eFuRA","./map.js":"gsPjK","./string.js":"l5ap6","./conditions.js":"4BJf1","./storage.js":"iLeaV","./function.js":"5S3AJ","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],eFuRA:[function(e,t,r,n){var i,o,s,a=t.exports={};function c(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function h(e){if(i===setTimeout)return setTimeout(e,0);if((i===c||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:c}catch(e){i=c}try{o="function"==typeof clearTimeout?clearTimeout:l}catch(e){o=l}}();var u=[],d=!1,p=-1;function f(){d&&s&&(d=!1,s.length?u=s.concat(u):p=-1,u.length&&g())}function g(){if(!d){var e=h(f);d=!0;for(var t=u.length;t;){for(s=u,u=[];++p<t;)s&&s[p].run();p=-1,t=u.length}s=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||d||h(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],"4BJf1":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"undefinedToNull",()=>o);let o=e=>void 0===e?null:e},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],iLeaV:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"varStorage",()=>a),i.export(r,"onChange",()=>c),i.export(r,"offChange",()=>l);let o=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},s=!0;try{"undefined"!=typeof localStorage&&localStorage&&(o=localStorage,s=!1)}catch(e){}let a=o,c=e=>s||addEventListener("storage",e),l=e=>s||removeEventListener("storage",e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"5S3AJ":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"callAll",()=>a),i.export(r,"nop",()=>c),i.export(r,"apply",()=>l),i.export(r,"id",()=>h),i.export(r,"equalityStrict",()=>u),i.export(r,"equalityFlat",()=>d),i.export(r,"equalityDeep",()=>p),i.export(r,"isOneOf",()=>f),i.export(r,"isArray",()=>g),i.export(r,"isString",()=>m),i.export(r,"isNumber",()=>y),i.export(r,"is",()=>w),i.export(r,"isTemplate",()=>b);var o=e("./array.js"),s=e("./object.js");let a=(e,t,r=0)=>{try{for(;r<e.length;r++)e[r](...t)}finally{r<e.length&&a(e,t,r+1)}},c=()=>{},l=e=>e(),h=e=>e,u=(e,t)=>e===t,d=(e,t)=>e===t||null!=e&&null!=t&&e.constructor===t.constructor&&(o.isArray(e)&&o.equalFlat(e,t)||"object"==typeof e&&s.equalFlat(e,t)),p=(e,t)=>{if(null==e||null==t)return u(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;break;case Set:if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;break;case Map:if(e.size!==t.size)return!1;for(let r of e.keys())if(!t.has(r)||!p(e.get(r),t.get(r)))return!1;break;case Object:if(s.length(e)!==s.length(t))return!1;for(let r in e)if(!s.hasProperty(e,r)||!p(e[r],t[r]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!p(e[r],t[r]))return!1;break;default:return!1}return!0},f=(e,t)=>t.includes(e),g=o.isArray,m=e=>e&&e.constructor===String,y=e=>null!=e&&e.constructor===Number,w=(e,t)=>e&&e.constructor===t,b=e=>t=>t&&t.constructor===e},{"./array.js":"kcR8B","./object.js":"eUSla","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],eUSla:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"create",()=>o),i.export(r,"assign",()=>s),i.export(r,"keys",()=>a),i.export(r,"forEach",()=>c),i.export(r,"map",()=>l),i.export(r,"length",()=>h),i.export(r,"size",()=>u),i.export(r,"some",()=>d),i.export(r,"isEmpty",()=>p),i.export(r,"every",()=>f),i.export(r,"hasProperty",()=>g),i.export(r,"equalFlat",()=>m),i.export(r,"freeze",()=>y),i.export(r,"deepFreeze",()=>w);let o=()=>Object.create(null),s=Object.assign,a=Object.keys,c=(e,t)=>{for(let r in e)t(e[r],r)},l=(e,t)=>{let r=[];for(let n in e)r.push(t(e[n],n));return r},h=e=>a(e).length,u=e=>a(e).length,d=(e,t)=>{for(let r in e)if(t(e[r],r))return!0;return!1},p=e=>{for(let t in e)return!1;return!0},f=(e,t)=>{for(let r in e)if(!t(e[r],r))return!1;return!0},g=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),m=(e,t)=>e===t||u(e)===u(t)&&f(e,(e,r)=>(void 0!==e||g(t,r))&&t[r]===e),y=Object.freeze,w=e=>{for(let t in e){let r=e[t];("object"==typeof r||"function"==typeof r)&&w(e[t])}return y(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],blwZs:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"BOLD",()=>p.BOLD),i.export(r,"UNBOLD",()=>p.UNBOLD),i.export(r,"BLUE",()=>p.BLUE),i.export(r,"GREY",()=>p.GREY),i.export(r,"GREEN",()=>p.GREEN),i.export(r,"RED",()=>p.RED),i.export(r,"PURPLE",()=>p.PURPLE),i.export(r,"ORANGE",()=>p.ORANGE),i.export(r,"UNCOLOR",()=>p.UNCOLOR),i.export(r,"print",()=>m),i.export(r,"warn",()=>y),i.export(r,"printError",()=>w),i.export(r,"printImg",()=>b),i.export(r,"printImgBase64",()=>x),i.export(r,"group",()=>v),i.export(r,"groupCollapsed",()=>_),i.export(r,"groupEnd",()=>E),i.export(r,"printDom",()=>S),i.export(r,"printCanvas",()=>C),i.export(r,"vconsoles",()=>k),i.export(r,"VConsole",()=>U),i.export(r,"createVConsole",()=>j),i.export(r,"createModuleLogger",()=>A);var o=e("./environment.js"),s=e("./set.js"),a=e("./pair.js"),c=e("./dom.js"),l=e("./json.js"),h=e("./map.js"),u=e("./eventloop.js"),d=e("./math.js"),p=e("./logging.common.js");let f={[p.BOLD]:a.create("font-weight","bold"),[p.UNBOLD]:a.create("font-weight","normal"),[p.BLUE]:a.create("color","blue"),[p.GREEN]:a.create("color","green"),[p.GREY]:a.create("color","grey"),[p.RED]:a.create("color","red"),[p.PURPLE]:a.create("color","purple"),[p.ORANGE]:a.create("color","orange"),[p.UNCOLOR]:a.create("color","black")},g=o.supportsColor?e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());let t=[],r=[],n=h.create(),i=[],o=0;for(;o<e.length;o++){let i=e[o],s=f[i];if(void 0!==s)n.set(s.left,s.right);else{if(void 0===i)break;if(i.constructor===String||i.constructor===Number){let e=c.mapToStyleString(n);o>0||e.length>0?(t.push("%c"+i),r.push(e)):t.push(i)}else break}}for(o>0&&(i=r).unshift(t.join(""));o<e.length;o++){let t=e[o];t instanceof Symbol||i.push(t)}return i}:p.computeNoColorLoggingArgs,m=(...e)=>{console.log(...g(e)),k.forEach(t=>t.print(e))},y=(...e)=>{console.warn(...g(e)),e.unshift(p.ORANGE),k.forEach(t=>t.print(e))},w=e=>{console.error(e),k.forEach(t=>t.printError(e))},b=(e,t)=>{o.isBrowser&&console.log("%c                      ",`font-size: ${t}px; background-size: contain; background-repeat: no-repeat; background-image: url(${e})`),k.forEach(r=>r.printImg(e,t))},x=(e,t)=>b(`data:image/gif;base64,${e}`,t),v=(...e)=>{console.group(...g(e)),k.forEach(t=>t.group(e))},_=(...e)=>{console.groupCollapsed(...g(e)),k.forEach(t=>t.groupCollapsed(e))},E=()=>{console.groupEnd(),k.forEach(e=>e.groupEnd())},S=e=>k.forEach(t=>t.printDom(e())),C=(e,t)=>b(e.toDataURL(),t),k=s.create(),T=e=>{let t=[],r=new Map,n=0;for(;n<e.length;n++){let i=e[n],o=f[i];if(void 0!==o)r.set(o.left,o.right);else if(void 0===i&&(i="undefined "),i.constructor===String||i.constructor===Number){let e=c.element("span",[a.create("style",c.mapToStyleString(r))],[c.text(i.toString())]);""===e.innerHTML&&(e.innerHTML="&nbsp;"),t.push(e)}else break}for(;n<e.length;n++){let r=e[n];r instanceof Symbol||(r.constructor!==String&&r.constructor!==Number&&(r=" "+l.stringify(r)+" "),t.push(c.element("span",[],[c.text(r)])))}return t},I="font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;";class U{constructor(e){this.dom=e,this.ccontainer=this.dom,this.depth=0,k.add(this)}group(e,t=!1){u.enqueue(()=>{let r=c.element("span",[a.create("hidden",t),a.create("style","color:grey;font-size:120%;")],[c.text("")]),n=c.element("span",[a.create("hidden",!t),a.create("style","color:grey;font-size:125%;")],[c.text("")]),i=c.element("div",[a.create("style",`${I};padding-left:${10*this.depth}px`)],[r,n,c.text(" ")].concat(T(e))),o=c.element("div",[a.create("hidden",t)]),s=c.element("div",[],[i,o]);c.append(this.ccontainer,[s]),this.ccontainer=o,this.depth++,c.addEventListener(i,"click",e=>{o.toggleAttribute("hidden"),r.toggleAttribute("hidden"),n.toggleAttribute("hidden")})})}groupCollapsed(e){this.group(e,!0)}groupEnd(){u.enqueue(()=>{this.depth>0&&(this.depth--,this.ccontainer=this.ccontainer.parentElement.parentElement)})}print(e){u.enqueue(()=>{c.append(this.ccontainer,[c.element("div",[a.create("style",`${I};padding-left:${10*this.depth}px`)],T(e))])})}printError(e){this.print([p.RED,p.BOLD,e.toString()])}printImg(e,t){u.enqueue(()=>{c.append(this.ccontainer,[c.element("img",[a.create("src",e),a.create("height",`${d.round(1.5*t)}px`)])])})}printDom(e){u.enqueue(()=>{c.append(this.ccontainer,[e])})}destroy(){u.enqueue(()=>{k.delete(this)})}}let j=e=>new U(e),A=e=>p.createModuleLogger(m,e)},{"./environment.js":"8YiHn","./set.js":"5gNQm","./pair.js":"iKw8x","./dom.js":"dpUjQ","./json.js":"jGOoC","./map.js":"gsPjK","./eventloop.js":"hLEBe","./math.js":"icsnC","./logging.common.js":"6FeDb","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],iKw8x:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"Pair",()=>o),i.export(r,"create",()=>s),i.export(r,"createReversed",()=>a),i.export(r,"forEach",()=>c),i.export(r,"map",()=>l);class o{constructor(e,t){this.left=e,this.right=t}}let s=(e,t)=>new o(e,t),a=(e,t)=>new o(t,e),c=(e,t)=>e.forEach(e=>t(e.left,e.right)),l=(e,t)=>e.map(e=>t(e.left,e.right))},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],dpUjQ:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"doc",()=>a),i.export(r,"createElement",()=>c),i.export(r,"createDocumentFragment",()=>l),i.export(r,"createTextNode",()=>h),i.export(r,"domParser",()=>u),i.export(r,"emitCustomEvent",()=>d),i.export(r,"setAttributes",()=>p),i.export(r,"setAttributesMap",()=>f),i.export(r,"fragment",()=>g),i.export(r,"append",()=>m),i.export(r,"remove",()=>y),i.export(r,"addEventListener",()=>w),i.export(r,"removeEventListener",()=>b),i.export(r,"addEventListeners",()=>x),i.export(r,"removeEventListeners",()=>v),i.export(r,"element",()=>_),i.export(r,"canvas",()=>E),i.export(r,"text",()=>S),i.export(r,"pairToStyleString",()=>C),i.export(r,"pairsToStyleString",()=>k),i.export(r,"mapToStyleString",()=>T),i.export(r,"querySelector",()=>I),i.export(r,"querySelectorAll",()=>U),i.export(r,"getElementById",()=>j),i.export(r,"parseFragment",()=>D),i.export(r,"parseElement",()=>R),i.export(r,"replaceWith",()=>B),i.export(r,"insertBefore",()=>P),i.export(r,"appendChild",()=>O),i.export(r,"ELEMENT_NODE",()=>M),i.export(r,"TEXT_NODE",()=>L),i.export(r,"CDATA_SECTION_NODE",()=>N),i.export(r,"COMMENT_NODE",()=>F),i.export(r,"DOCUMENT_NODE",()=>V),i.export(r,"DOCUMENT_TYPE_NODE",()=>z),i.export(r,"DOCUMENT_FRAGMENT_NODE",()=>$),i.export(r,"checkNodeType",()=>J),i.export(r,"isParentOf",()=>G);var o=e("./pair.js"),s=e("./map.js");let a="undefined"!=typeof document?document:{},c=e=>a.createElement(e),l=()=>a.createDocumentFragment(),h=e=>a.createTextNode(e),u="undefined"!=typeof DOMParser?new DOMParser:null,d=(e,t,r)=>e.dispatchEvent(new CustomEvent(t,r)),p=(e,t)=>(o.forEach(t,(t,r)=>{!1===r?e.removeAttribute(t):!0===r?e.setAttribute(t,""):e.setAttribute(t,r)}),e),f=(e,t)=>(t.forEach((t,r)=>{e.setAttribute(r,t)}),e),g=e=>{let t=l();for(let r=0;r<e.length;r++)O(t,e[r]);return t},m=(e,t)=>(O(e,g(t)),e),y=e=>e.remove(),w=(e,t,r)=>e.addEventListener(t,r),b=(e,t,r)=>e.removeEventListener(t,r),x=(e,t)=>(o.forEach(t,(t,r)=>w(e,t,r)),e),v=(e,t)=>(o.forEach(t,(t,r)=>b(e,t,r)),e),_=(e,t=[],r=[])=>m(p(c(e),t),r),E=(e,t)=>{let r=c("canvas");return r.height=t,r.width=e,r},S=h,C=e=>`${e.left}:${e.right};`,k=e=>e.map(C).join(""),T=e=>s.map(e,(e,t)=>`${t}:${e};`).join(""),I=(e,t)=>e.querySelector(t),U=(e,t)=>e.querySelectorAll(t),j=e=>a.getElementById(e),A=e=>u.parseFromString(`<html><body>${e}</body></html>`,"text/html").body,D=e=>g(A(e).childNodes),R=e=>A(e).firstElementChild,B=(e,t)=>e.replaceWith(t),P=(e,t,r)=>e.insertBefore(t,r),O=(e,t)=>e.appendChild(t),M=a.ELEMENT_NODE,L=a.TEXT_NODE,N=a.CDATA_SECTION_NODE,F=a.COMMENT_NODE,V=a.DOCUMENT_NODE,z=a.DOCUMENT_TYPE_NODE,$=a.DOCUMENT_FRAGMENT_NODE,J=(e,t)=>e.nodeType===t,G=(e,t)=>{let r=t.parentNode;for(;r&&r!==e;)r=r.parentNode;return r===e}},{"./pair.js":"iKw8x","./map.js":"gsPjK","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],jGOoC:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"stringify",()=>o),i.export(r,"parse",()=>s);let o=JSON.stringify,s=JSON.parse},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],hLEBe:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"enqueue",()=>a),i.export(r,"timeout",()=>h),i.export(r,"interval",()=>d),i.export(r,"Animation",()=>p),i.export(r,"animationFrame",()=>f),i.export(r,"idleCallback",()=>m),i.export(r,"createDebouncer",()=>y);let o=[],s=()=>{for(let e=0;e<o.length;e++)o[e]();o=[]},a=e=>{o.push(e),1===o.length&&setTimeout(s,0)},c=e=>class{constructor(e){this._=e}destroy(){e(this._)}},l=c(clearTimeout),h=(e,t)=>new l(setTimeout(t,e)),u=c(clearInterval),d=(e,t)=>new u(setInterval(t,e)),p=c(e=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e)),f=e=>"undefined"==typeof requestAnimationFrame?h(0,e):new p(requestAnimationFrame(e)),g=c(e=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e)),m=e=>"undefined"!=typeof requestIdleCallback?new g(requestIdleCallback(e)):h(1e3,e),y=e=>{let t=-1;return r=>{clearTimeout(t),r&&(t=setTimeout(r,e))}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"6FeDb":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"BOLD",()=>h),i.export(r,"UNBOLD",()=>u),i.export(r,"BLUE",()=>d),i.export(r,"GREY",()=>p),i.export(r,"GREEN",()=>f),i.export(r,"RED",()=>g),i.export(r,"PURPLE",()=>m),i.export(r,"ORANGE",()=>y),i.export(r,"UNCOLOR",()=>w),i.export(r,"computeNoColorLoggingArgs",()=>b),i.export(r,"createModuleLogger",()=>E);var o=e("./symbol.js"),s=e("./time.js"),a=e("./environment.js"),c=e("./function.js"),l=e("./json.js");let h=o.create(),u=o.create(),d=o.create(),p=o.create(),f=o.create(),g=o.create(),m=o.create(),y=o.create(),w=o.create(),b=e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());let t=[],r=[],n=0;for(;n<e.length;n++){let r=e[n];if(void 0===r)break;if(r.constructor===String||r.constructor===Number)t.push(r);else if(r.constructor===Object)break}for(n>0&&r.push(t.join(""));n<e.length;n++){let t=e[n];t instanceof Symbol||r.push(t)}return r},x=[f,m,y,d],v=0,_=s.getUnixTime(),E=(e,t)=>{let r=x[v],n=a.getVariable("log"),i=null!==n&&("*"===n||"true"===n||RegExp(n,"gi").test(t));return v=(v+1)%x.length,t+=": ",i?(...n)=>{1===n.length&&n[0]?.constructor===Function&&(n=n[0]());let i=s.getUnixTime(),o=i-_;_=i,e(r,t,w,...n.map(e=>{switch(null!=e&&e.constructor===Uint8Array&&(e=Array.from(e)),typeof e){case"string":case"symbol":return e;default:return l.stringify(e)}}),r," +"+o+"ms")}:c.nop}},{"./symbol.js":"b8AcA","./time.js":"b6cMp","./environment.js":"8YiHn","./function.js":"5S3AJ","./json.js":"jGOoC","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],b8AcA:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"create",()=>o),i.export(r,"isSymbol",()=>s);let o=Symbol,s=e=>"symbol"==typeof e},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],dOXgT:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"mapIterator",()=>o),i.export(r,"createIterator",()=>s),i.export(r,"iteratorFilter",()=>a),i.export(r,"iteratorMap",()=>c);let o=(e,t)=>({[Symbol.iterator](){return this},next(){let r=e.next();return{value:r.done?void 0:t(r.value),done:r.done}}}),s=e=>({[Symbol.iterator](){return this},next:e}),a=(e,t)=>s(()=>{let r;do r=e.next();while(!r.done&&!t(r.value))return r}),c=(e,t)=>s(()=>{let{done:r,value:n}=e.next();return{done:r,value:r?void 0:t(n)}})},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],jCq4q:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"Packr",()=>o.Packr),i.export(r,"Encoder",()=>o.Encoder),i.export(r,"addExtension",()=>o.addExtension),i.export(r,"pack",()=>o.pack),i.export(r,"encode",()=>o.encode),i.export(r,"NEVER",()=>o.NEVER),i.export(r,"ALWAYS",()=>o.ALWAYS),i.export(r,"DECIMAL_ROUND",()=>o.DECIMAL_ROUND),i.export(r,"DECIMAL_FIT",()=>o.DECIMAL_FIT),i.export(r,"REUSE_BUFFER_MODE",()=>o.REUSE_BUFFER_MODE),i.export(r,"RESET_BUFFER_MODE",()=>o.RESET_BUFFER_MODE),i.export(r,"RESERVE_START_SPACE",()=>o.RESERVE_START_SPACE),i.export(r,"Unpackr",()=>s.Unpackr),i.export(r,"Decoder",()=>s.Decoder),i.export(r,"C1",()=>s.C1),i.export(r,"unpack",()=>s.unpack),i.export(r,"unpackMultiple",()=>s.unpackMultiple),i.export(r,"decode",()=>s.decode),i.export(r,"FLOAT32_OPTIONS",()=>s.FLOAT32_OPTIONS),i.export(r,"clearSource",()=>s.clearSource),i.export(r,"roundFloat32",()=>s.roundFloat32),i.export(r,"isNativeAccelerationEnabled",()=>s.isNativeAccelerationEnabled),i.export(r,"decodeIter",()=>a.decodeIter),i.export(r,"encodeIter",()=>a.encodeIter),i.export(r,"useRecords",()=>c),i.export(r,"mapsAsObjects",()=>l);var o=e("./pack.js"),s=e("./unpack.js"),a=e("./iterators.js");let c=!1,l=!0},{"./pack.js":"1Gqa1","./unpack.js":"34MFG","./iterators.js":"737vE","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"1Gqa1":[function(e,t,r,n){let i,o,s,a,c,l,h,u;var d=e("@parcel/transformer-js/src/esmodule-helpers.js");d.defineInteropFlag(r),d.export(r,"FLOAT32_OPTIONS",()=>p.FLOAT32_OPTIONS),d.export(r,"RECORD_SYMBOL",()=>_),d.export(r,"Packr",()=>E),d.export(r,"addExtension",()=>T),d.export(r,"setWriteStructSlots",()=>U),d.export(r,"pack",()=>A),d.export(r,"encode",()=>D),d.export(r,"Encoder",()=>R),d.export(r,"NEVER",()=>B),d.export(r,"ALWAYS",()=>P),d.export(r,"DECIMAL_ROUND",()=>O),d.export(r,"DECIMAL_FIT",()=>M),d.export(r,"REUSE_BUFFER_MODE",()=>L),d.export(r,"RESET_BUFFER_MODE",()=>N),d.export(r,"RESERVE_START_SPACE",()=>F);var p=e("./unpack.js"),f=e("d39b59f28483d155").Buffer;try{i=new TextEncoder}catch(e){}let g=void 0!==f,m=g?function(e){return f.allocUnsafeSlow(e)}:Uint8Array,y=g?f:Uint8Array,w=g?0x100000000:0x7fd00000,b=0,x=null,v=/[\u0080-\uFFFF]/,_=Symbol("record-id");class E extends p.Unpackr{constructor(e){let t,r,n,d;super(e),this.offset=0;let f=y.prototype.utf8Write?function(e,t){return a.utf8Write(e,t,a.byteLength-t)}:!!i&&!!i.encodeInto&&function(e,t){return i.encodeInto(e,a.subarray(t)).written},g=this;e||(e={});let E=e&&e.sequential,S=e.structures||e.saveStructures,C=e.maxSharedStructures;if(null==C&&(C=32*!!S),C>8160)throw Error("Maximum maxSharedStructure is 8160");e.structuredClone&&void 0==e.moreTypes&&(this.moreTypes=!0);let T=e.maxOwnStructures;null==T&&(T=S?32:64),this.structures||!1==e.useRecords||(this.structures=[]);let U=C>32||T+C>64,j=C+64,A=C+T+64;if(A>8256)throw Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let D=[],R=0,B=0;this.pack=this.encode=function(e,i){let o;if(a||(l=(a=new m(8192)).dataView||(a.dataView=new DataView(a.buffer,0,8192)),b=0),(h=a.length-10)-b<2048?(l=(a=new m(a.length)).dataView||(a.dataView=new DataView(a.buffer,0,a.length)),h=a.length-10,b=0):b=b+7&0x7ffffff8,t=b,i&F&&(b+=255&i),d=g.structuredClone?new Map:null,g.bundleStrings&&"string"!=typeof e?(x=[]).size=1/0:x=null,n=g.structures){n.uninitialized&&(n=g._mergeStructures(g.getStructures()));let e=n.sharedLength||0;if(e>C)throw Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let t=0;t<e;t++){let e=n[t];if(!e)continue;let r,i=n.transitions;for(let t=0,n=e.length;t<n;t++){let n=e[t];(r=i[n])||(r=i[n]=Object.create(null)),i=r}i[_]=t+64}this.lastNamedStructuresLength=e}E||(n.nextId=e+64)}r&&(r=!1);try{g.randomAccessStructure&&e&&e.constructor&&e.constructor===Object?q(e):M(e);let r=x;if(x&&k(t,M,0),d&&d.idsToInsert){let e=d.idsToInsert.sort((e,t)=>e.offset>t.offset?1:-1),n=e.length,i=-1;for(;r&&n>0;){let o=e[--n].offset+t;o<r.stringsPosition+t&&-1===i&&(i=0),o>r.position+t?i>=0&&(i+=6):(i>=0&&(l.setUint32(r.position+t,l.getUint32(r.position+t)+i),i=-1),r=r.previous,n++)}i>=0&&r&&l.setUint32(r.position+t,l.getUint32(r.position+t)+i),(b+=6*e.length)>h&&G(b),g.offset=b;let o=function(e,t){let r,n=6*t.length,i=e.length-n;for(;r=t.pop();){let t=r.offset,o=r.id;e.copyWithin(t+n,t,i);let s=t+(n-=6);e[s++]=214,e[s++]=105,e[s++]=o>>24,e[s++]=o>>16&255,e[s++]=o>>8&255,e[s++]=255&o,i=t}return e}(a.subarray(t,b),e);return d=null,o}if(g.offset=b,i&L)return a.start=t,a.end=b,a;return a.subarray(t,b)}catch(e){throw o=e,e}finally{if(n&&(P(),r&&g.saveStructures)){let r=n.sharedLength||0,s=a.subarray(t,b),c=I(n,g);if(!o){if(!1===g.saveStructures(c,c.isCompatible))return g.pack(e,i);return g.lastNamedStructuresLength=r,a.length>0x40000000&&(a=null),s}}a.length>0x40000000&&(a=null),i&N&&(b=t)}};let P=()=>{B<10&&B++;let e=n.sharedLength||0;if(n.length>e&&!E&&(n.length=e),R>1e4)n.transitions=null,B=0,R=0,D.length>0&&(D=[]);else if(D.length>0&&!E){for(let e=0,t=D.length;e<t;e++)D[e][_]=0;D=[]}},O=e=>{var t=e.length;t<16?a[b++]=144|t:t<65536?(a[b++]=220,a[b++]=t>>8,a[b++]=255&t):(a[b++]=221,l.setUint32(b,t),b+=4);for(let r=0;r<t;r++)M(e[r])},M=e=>{b>h&&(a=G(b));var r,n=typeof e;if("string"===n){let n,i=e.length;if(x&&i>=4&&i<4096){if((x.size+=i)>21760){let e,r,n=(x[0]?3*x[0].length+x[1].length:0)+10;b+n>h&&(a=G(b+n)),x.position?(r=x,a[b]=200,b+=3,a[b++]=98,e=b-t,b+=4,k(t,M,0),l.setUint16(e+t-3,b-t-e)):(a[b++]=214,a[b++]=98,e=b-t,b+=4),(x=["",""]).previous=r,x.size=0,x.position=e}let r=v.test(e);x[+!r]+=e,a[b++]=193,M(r?-i:i);return}n=i<32?1:i<256?2:i<65536?3:5;let o=3*i;if(b+o>h&&(a=G(b+o)),i<64||!f){let t,o,s,c=b+n;for(t=0;t<i;t++)(o=e.charCodeAt(t))<128?a[c++]=o:(o<2048?a[c++]=o>>6|192:((64512&o)==55296&&(64512&(s=e.charCodeAt(t+1)))==56320?(o=65536+((1023&o)<<10)+(1023&s),t++,a[c++]=o>>18|240,a[c++]=o>>12&63|128):a[c++]=o>>12|224,a[c++]=o>>6&63|128),a[c++]=63&o|128);r=c-b-n}else r=f(e,b+n);r<32?a[b++]=160|r:r<256?(n<2&&a.copyWithin(b+2,b+1,b+1+r),a[b++]=217,a[b++]=r):r<65536?(n<3&&a.copyWithin(b+3,b+2,b+2+r),a[b++]=218,a[b++]=r>>8,a[b++]=255&r):(n<5&&a.copyWithin(b+5,b+3,b+3+r),a[b++]=219,l.setUint32(b,r),b+=4),b+=r}else if("number"===n){if(e>>>0===e)e<32||e<128&&!1===this.useRecords||e<64&&!this.randomAccessStructure?a[b++]=e:e<256?(a[b++]=204,a[b++]=e):e<65536?(a[b++]=205,a[b++]=e>>8,a[b++]=255&e):(a[b++]=206,l.setUint32(b,e),b+=4);else if(e>>0===e)e>=-32?a[b++]=256+e:e>=-128?(a[b++]=208,a[b++]=e+256):e>=-32768?(a[b++]=209,l.setInt16(b,e),b+=2):(a[b++]=210,l.setInt32(b,e),b+=4);else{let t;if((t=this.useFloat32)>0&&e<0x100000000&&e>=-0x80000000){let r;if(a[b++]=202,l.setFloat32(b,e),t<4||(r=e*p.mult10[(127&a[b])<<1|a[b+1]>>7])>>0===r){b+=4;return}b--}a[b++]=203,l.setFloat64(b,e),b+=8}}else if("object"===n||"function"===n){if(e){if(d){let r=d.get(e);if(r){r.id||(r.id=(d.idsToInsert||(d.idsToInsert=[])).push(r)),a[b++]=214,a[b++]=112,l.setUint32(b,r.id),b+=4;return}d.set(e,{offset:b-t})}let i=e.constructor;if(i===Object)J(e);else if(i===Array)O(e);else if(i===Map){if(this.mapAsEmptyObject)a[b++]=128;else for(let[t,n]of((r=e.size)<16?a[b++]=128|r:r<65536?(a[b++]=222,a[b++]=r>>8,a[b++]=255&r):(a[b++]=223,l.setUint32(b,r),b+=4),e))M(t),M(n)}else{for(let t=0,r=o.length;t<r;t++)if(e instanceof s[t]){let r,n=o[t];if(n.write){n.type&&(a[b++]=212,a[b++]=n.type,a[b++]=0);let t=n.write.call(this,e);t===e?Array.isArray(e)?O(e):J(e):M(t);return}let i=a,s=l,c=b;a=null;try{r=n.pack.call(this,e,e=>(a=i,i=null,(b+=e)>h&&G(b),{target:a,targetView:l,position:b-e}),M)}finally{i&&(a=i,l=s,b=c,h=a.length-10)}r&&(r.length+b>h&&G(r.length+b),b=function(e,t,r,n){let i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):(i<65536?(t[r++]=200,t[r++]=i>>8):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255),t[r++]=255&i)}return t[r++]=n,t.set(e,r),r+=i}(r,a,b,n.type));return}if(Array.isArray(e))O(e);else{if(e.toJSON){let t=e.toJSON();if(t!==e)return M(t)}if("function"===n)return M(this.writeFunction&&this.writeFunction(e));J(e)}}}else a[b++]=192}else if("boolean"===n)a[b++]=e?195:194;else if("bigint"===n){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))a[b++]=211,l.setBigInt64(b,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)a[b++]=207,l.setBigUint64(b,e);else if(this.largeBigIntToFloat)a[b++]=203,l.setFloat64(b,Number(e));else if(this.largeBigIntToString)return M(e.toString());else if(this.useBigIntExtension&&e<BigInt(2)**BigInt(1023)&&e>-(BigInt(2)**BigInt(1023))){let t;a[b++]=199,b++,a[b++]=66;let r=[];do{let n=e&BigInt(255);t=(n&BigInt(128))===(e<BigInt(0)?BigInt(128):BigInt(0)),r.push(n),e>>=BigInt(8)}while(!((e===BigInt(0)||e===BigInt(-1))&&t))a[b-2]=r.length;for(let e=r.length;e>0;)a[b++]=Number(r[--e]);return}else throw RangeError(e+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string");b+=8}else if("undefined"===n)this.encodeUndefinedAsNil?a[b++]=192:(a[b++]=212,a[b++]=0,a[b++]=0);else throw Error("Unknown type: "+n)},V=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?e=>{let t,r;if(this.skipValues)for(let r in t=[],e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(r))&&!this.skipValues.includes(e[r])&&t.push(r);else t=Object.keys(e);let n=t.length;if(n<16?a[b++]=128|n:n<65536?(a[b++]=222,a[b++]=n>>8,a[b++]=255&n):(a[b++]=223,l.setUint32(b,n),b+=4),this.coercibleKeyAsNumber)for(let i=0;i<n;i++){let n=Number(r=t[i]);M(isNaN(n)?r:n),M(e[r])}else for(let i=0;i<n;i++)M(r=t[i]),M(e[r])}:e=>{a[b++]=222;let r=b-t;b+=2;let n=0;for(let t in e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(t))&&(M(t),M(e[t]),n++);if(n>65535)throw Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');a[r+++t]=n>>8,a[r+t]=255&n},z=!1===this.useRecords?V:e.progressiveRecords&&!U?e=>{let r,i,o=n.transitions||(n.transitions=Object.create(null)),s=b++-t;for(let a in e)if("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(a)){if(i=o[a])o=i;else{let c=Object.keys(e),l=o;o=n.transitions;let h=0;for(let e=0,t=c.length;e<t;e++){let t=c[e];!(i=o[t])&&(i=o[t]=Object.create(null),h++),o=i}s+t+1==b?(b--,W(o,c,h)):H(o,c,s,h),r=!0,o=l[a]}M(e[a])}if(!r){let r=o[_];r?a[s+t]=r:H(o,Object.keys(e),s,0)}}:e=>{let t,r=n.transitions||(n.transitions=Object.create(null)),i=0;for(let n in e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(n))&&(!(t=r[n])&&(t=r[n]=Object.create(null),i++),r=t);let o=r[_];for(let t in o?o>=96&&U?(a[b++]=(31&(o-=96))+96,a[b++]=o>>5):a[b++]=o:W(r,r.__keys__||Object.keys(e),i),e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(t))&&M(e[t])},$="function"==typeof this.useRecords&&this.useRecords,J=$?e=>{$(e)?z(e):V(e)}:z,G=e=>{let r;if(e>0x1000000){if(e-t>w)throw Error("Packed buffer would be larger than maximum buffer size");r=Math.min(w,4096*Math.round(Math.max((e-t)*(e>0x4000000?1.25:2),4194304)/4096))}else r=(Math.max(e-t<<2,a.length-1)>>12)+1<<12;let n=new m(r);return l=n.dataView||(n.dataView=new DataView(n.buffer,0,r)),e=Math.min(e,a.length),a.copy?a.copy(n,0,t,e):n.set(a.slice(t,e)),b-=t,t=0,h=n.length-10,a=n},W=(e,t,i)=>{let o=n.nextId;o||(o=64),o<j&&this.shouldShareStructure&&!this.shouldShareStructure(t)?((o=n.nextOwnId)<A||(o=j),n.nextOwnId=o+1):(o>=A&&(o=j),n.nextId=o+1);let s=t.highByte=o>=96&&U?o-96>>5:-1;e[_]=o,e.__keys__=t,n[o-64]=t,o<j?(t.isShared=!0,n.sharedLength=o-63,r=!0,s>=0?(a[b++]=(31&o)+96,a[b++]=s):a[b++]=o):(s>=0?(a[b++]=213,a[b++]=114,a[b++]=(31&o)+96,a[b++]=s):(a[b++]=212,a[b++]=114,a[b++]=o),i&&(R+=B*i),D.length>=T&&(D.shift()[_]=0),D.push(e),M(t))},H=(e,r,n,i)=>{let o=a,s=b,l=h,u=t;b=0,t=0,(a=c)||(c=a=new m(8192)),h=a.length-10,W(e,r,i),c=a;let d=b;if(a=o,b=s,h=l,t=u,d>1){let e=b+d-1;e>h&&G(e);let r=n+t;a.copyWithin(r+d,r+1,b),a.set(c.slice(0,d),r),b=e}else a[n+t]=c[0]},q=e=>{let i=u(e,a,t,b,n,G,(e,t,n)=>{if(n)return r=!0;b=t;let i=a;return(M(e),P(),i!==a)?{position:b,targetView:l,target:a}:b},this);if(0===i)return J(e);b=i}}useBuffer(e){(a=e).dataView||(a.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength)),b=0}set position(e){b=e}get position(){return b}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function S(e,t,r,n){let i=e.byteLength;if(i+1<256){var{target:o,position:s}=r(4+i);o[s++]=199,o[s++]=i+1}else if(i+1<65536){var{target:o,position:s}=r(5+i);o[s++]=200,o[s++]=i+1>>8,o[s++]=i+1&255}else{var{target:o,position:s,targetView:a}=r(7+i);o[s++]=201,a.setUint32(s,i+1),s+=4}o[s++]=116,o[s++]=t,e.buffer||(e=new Uint8Array(e)),o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function C(e,t){let r=e.byteLength;if(r<256){var n,i,{target:n,position:i}=t(r+2);n[i++]=196,n[i++]=r}else if(r<65536){var{target:n,position:i}=t(r+3);n[i++]=197,n[i++]=r>>8,n[i++]=255&r}else{var{target:n,position:i,targetView:o}=t(r+5);n[i++]=198,o.setUint32(i,r),i+=4}n.set(e,i)}function k(e,t,r){if(x.length>0){l.setUint32(x.position+e,b+r-x.position-e),x.stringsPosition=b-e;let n=x;x=null,t(n[0]),t(n[1])}}function T(e){if(e.Class){if(!e.pack&&!e.write)throw Error("Extension has no pack or write function");if(e.pack&&!e.type)throw Error("Extension has no type (numeric code to identify the extension)");s.unshift(e.Class),o.unshift(e)}(0,p.addExtension)(e)}function I(e,t){return e.isCompatible=e=>{let r=!e||(t.lastNamedStructuresLength||0)===e.length;return r||t._mergeStructures(e),r},e}function U(e,t){u=e,I=t}s=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,p.C1Type],o=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&n>=0&&n<0x100000000){let{target:e,targetView:r,position:i}=t(6);e[i++]=214,e[i++]=255,r.setUint32(i,n)}else if(n>0&&n<0x100000000){let{target:r,targetView:i,position:o}=t(10);r[o++]=215,r[o++]=255,i.setUint32(o,4e6*e.getMilliseconds()+(n/1e3/0x100000000>>0)),i.setUint32(o+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:e,targetView:n,position:i}=t(3);e[i++]=212,e[i++]=255,e[i++]=255}else{let{target:r,targetView:i,position:o}=t(15);r[o++]=199,r[o++]=12,r[o++]=255,i.setUint32(o,1e6*e.getMilliseconds()),i.setBigInt64(o+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){if(this.setAsEmptyObject)return t(0),r({});let n=Array.from(e),{target:i,position:o}=t(3*!!this.moreTypes);this.moreTypes&&(i[o++]=212,i[o++]=115,i[o++]=0),r(n)}},{pack(e,t,r){let{target:n,position:i}=t(3*!!this.moreTypes);this.moreTypes&&(n[i++]=212,n[i++]=101,n[i++]=0),r([e.name,e.message,e.cause])}},{pack(e,t,r){let{target:n,position:i}=t(3*!!this.moreTypes);this.moreTypes&&(n[i++]=212,n[i++]=120,n[i++]=0),r([e.source,e.flags])}},{pack(e,t){this.moreTypes?S(e,16,t):C(g?f.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==y&&this.moreTypes?S(e,(0,p.typedArrays).indexOf(r.name),t):C(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];let j=new E({useRecords:!1}),A=j.pack,D=j.pack,R=E,{NEVER:B,ALWAYS:P,DECIMAL_ROUND:O,DECIMAL_FIT:M}=p.FLOAT32_OPTIONS,L=512,N=1024,F=2048},{d39b59f28483d155:"b48lF","./unpack.js":"34MFG","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"34MFG":[function(e,t,r,n){var i,o,s,a,c,l,h,u,d,p,f,g=e("@parcel/transformer-js/src/esmodule-helpers.js");g.defineInteropFlag(r),g.export(r,"C1Type",()=>k),g.export(r,"C1",()=>T),g.export(r,"Unpackr",()=>j),g.export(r,"getPosition",()=>A),g.export(r,"checkedRead",()=>D),g.export(r,"read",()=>B),g.export(r,"loadStructures",()=>L),g.export(r,"isNativeAccelerationEnabled",()=>$),g.export(r,"setExtractor",()=>J),g.export(r,"readString",()=>W),g.export(r,"typedArrays",()=>es),g.export(r,"clearSource",()=>eh),g.export(r,"addExtension",()=>eu),g.export(r,"mult10",()=>ed),g.export(r,"Decoder",()=>ep),g.export(r,"unpack",()=>eg),g.export(r,"unpackMultiple",()=>em),g.export(r,"decode",()=>ey),g.export(r,"FLOAT32_OPTIONS",()=>ew),g.export(r,"roundFloat32",()=>ev),g.export(r,"setReadStruct",()=>e_);var m=e("b5a1b40c14b71778").Buffer;try{i=new TextDecoder}catch(e){}var y=0;let w=[];var b=w,x=0,v={},_=0,E=0,S=[],C={useRecords:!1,mapsAsObjects:!0};class k{}let T=new k;T.name="MessagePack 0xC1";var I=!1,U=2;try{Function("")}catch(e){U=1/0}class j{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),!e.sequential||!1===e.trusted||(e.trusted=!0,e.structures||!1==e.useRecords||(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,t){if(o)return el(()=>(eh(),this?this.unpack(e,t):j.prototype.unpack.call(C,e,t)));e.buffer||e.constructor!==ArrayBuffer||(e=void 0!==m?m.from(e):new Uint8Array(e)),"object"==typeof t?(s=t.end||e.length,y=t.start||0):(y=0,s=t>-1?t:e.length),x=0,E=0,c=null,b=w,l=null,o=e;try{u=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){if(o=null,e instanceof Uint8Array)throw t;throw Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}return this instanceof j?(v=this,this.structures?a=this.structures:(!a||a.length>0)&&(a=[])):(v=C,(!a||a.length>0)&&(a=[])),D(t)}unpackMultiple(e,t){let r,n=0;try{I=!0;let i=e.length,o=this?this.unpack(e,i):ef.unpack(e,i);if(t){if(!1===t(o,n,y))return;for(;y<i;)if(n=y,!1===t(D(),n,y))return}else{for(r=[o];y<i;)n=y,r.push(D());return r}}catch(e){throw e.lastPosition=n,e.values=r,e}finally{I=!1,eh()}}_mergeStructures(e,t){p&&(e=p.call(this,e)),Object.isFrozen(e=e||[])&&(e=e.map(e=>e.slice(0)));for(let t=0,r=e.length;t<r;t++){let r=e[t];r&&(r.isShared=!0,t>=32&&(r.highByte=t-32>>5))}for(let r in e.sharedLength=e.length,t||[])if(r>=0){let n=e[r],i=t[r];i&&(n&&((e.restoreStructures||(e.restoreStructures=[]))[r]=n),e[r]=i)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function A(){return y}function D(e){try{let t;if(!v.trusted&&!I){let e=a.sharedLength||0;e<a.length&&(a.length=e)}if(v.randomAccessStructure&&o[y]<64&&o[y]>=32&&d?(t=d(o,y,s,v),o=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),y=s):t=B(),l&&(y=l.postBundlePosition,l=null),I&&(a.restoreStructures=null),y==s)a&&a.restoreStructures&&R(),a=null,o=null,h&&(h=null);else if(y>s)throw Error("Unexpected end of MessagePack data");else if(!I){let e;try{e=JSON.stringify(t,(e,t)=>"bigint"==typeof t?`${t}n`:t).slice(0,100)}catch(t){e="(JSON view not available "+t+")"}throw Error("Data read, but end of buffer not reached "+e)}return t}catch(e){throw a&&a.restoreStructures&&R(),eh(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||y>s)&&(e.incomplete=!0),e}}function R(){for(let e in a.restoreStructures)a[e]=a.restoreStructures[e];a.restoreStructures=null}function B(){let e=o[y++];if(e<160){if(e<128){if(e<64)return e;{let t=a[63&e]||v.getStructures&&L()[63&e];return t?(t.read||(t.read=O(t,63&e)),t.read()):e}}if(e<144){if(e-=128,v.mapsAsObjects){let t={};for(let r=0;r<e;r++){let e=er();"__proto__"===e&&(e="__proto_"),t[e]=B()}return t}{let t=new Map;for(let r=0;r<e;r++)t.set(B(),B());return t}}{let t=Array(e-=144);for(let r=0;r<e;r++)t[r]=B();return v.freezeData?Object.freeze(t):t}}if(e<192){let t=e-160;if(E>=y)return c.slice(y-_,(y+=t)-_);if(0==E&&s<140){let e=t<16?X(t):K(t);if(null!=e)return e}return N(t)}{let t;switch(e){case 192:return null;case 193:if(l){if((t=B())>0)return l[1].slice(l.position1,l.position1+=t);return l[0].slice(l.position0,l.position0-=t)}return T;case 194:return!1;case 195:return!0;case 196:if(void 0===(t=o[y++]))throw Error("Unexpected end of buffer");return Q(t);case 197:return t=u.getUint16(y),y+=2,Q(t);case 198:return t=u.getUint32(y),y+=4,Q(t);case 199:return ee(o[y++]);case 200:return t=u.getUint16(y),y+=2,ee(t);case 201:return t=u.getUint32(y),y+=4,ee(t);case 202:if(t=u.getFloat32(y),v.useFloat32>2){let e=ed[(127&o[y])<<1|o[y+1]>>7];return y+=4,(e*t+(t>0?.5:-.5)>>0)/e}return y+=4,t;case 203:return t=u.getFloat64(y),y+=8,t;case 204:return o[y++];case 205:return t=u.getUint16(y),y+=2,t;case 206:return t=u.getUint32(y),y+=4,t;case 207:return"number"===v.int64AsType?t=0x100000000*u.getUint32(y)+u.getUint32(y+4):"string"===v.int64AsType?t=u.getBigUint64(y).toString():"auto"===v.int64AsType?(t=u.getBigUint64(y))<=BigInt(2)<<BigInt(52)&&(t=Number(t)):t=u.getBigUint64(y),y+=8,t;case 208:return u.getInt8(y++);case 209:return t=u.getInt16(y),y+=2,t;case 210:return t=u.getInt32(y),y+=4,t;case 211:return"number"===v.int64AsType?t=0x100000000*u.getInt32(y)+u.getUint32(y+4):"string"===v.int64AsType?t=u.getBigInt64(y).toString():"auto"===v.int64AsType?(t=u.getBigInt64(y))>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t)):t=u.getBigInt64(y),y+=8,t;case 212:if(114==(t=o[y++]))return ei(63&o[y++]);{let e=S[t];if(e){if(e.read)return y++,e.read(B());if(e.noBuffer)return y++,e();return e(o.subarray(y,++y))}throw Error("Unknown extension "+t)}case 213:if(114==(t=o[y]))return y++,ei(63&o[y++],o[y++]);return ee(2);case 214:return ee(4);case 215:return ee(8);case 216:return ee(16);case 217:if(t=o[y++],E>=y)return c.slice(y-_,(y+=t)-_);return F(t);case 218:if(t=u.getUint16(y),y+=2,E>=y)return c.slice(y-_,(y+=t)-_);return V(t);case 219:if(t=u.getUint32(y),y+=4,E>=y)return c.slice(y-_,(y+=t)-_);return z(t);case 220:return t=u.getUint16(y),y+=2,H(t);case 221:return t=u.getUint32(y),y+=4,H(t);case 222:return t=u.getUint16(y),y+=2,q(t);case 223:return t=u.getUint32(y),y+=4,q(t);default:if(e>=224)return e-256;if(void 0===e){let e=Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw Error("Unknown MessagePack token "+e)}}}let P=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function O(e,t){function r(){if(r.count++>U){let r=e.read=Function("r","return function(){return "+(v.freezeData?"Object.freeze":"")+"({"+e.map(e=>"__proto__"===e?"__proto_:r()":P.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()").join(",")+"})}")(B);return 0===e.highByte&&(e.read=M(t,e.read)),r()}let n={};for(let t=0,r=e.length;t<r;t++){let r=e[t];"__proto__"===r&&(r="__proto_"),n[r]=B()}return v.freezeData?Object.freeze(n):n}return(r.count=0,0===e.highByte)?M(t,r):r}let M=(e,t)=>function(){let r=o[y++];if(0===r)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),i=a[n]||L()[n];if(!i)throw Error("Record id is not defined for "+n);return i.read||(i.read=O(i,e)),i.read()};function L(){let e=el(()=>(o=null,v.getStructures()));return a=v._mergeStructures(e,a)}var N=G,F=G,V=G,z=G;let $=!1;function J(e){function t(t){return function(r){let n=b[x++];if(null==n){if(l)return G(r);let i=o.byteOffset,a=e(y-t+i,s+i,o.buffer);if("string"==typeof a)n=a,b=w;else if(x=1,E=1,void 0===(n=(b=a)[0]))throw Error("Unexpected end of buffer")}let i=n.length;return i<=r?(y+=r,n):(c=n,_=y,E=y+i,y+=r,n.slice(0,r))}}$=!0,N=t(1),F=t(2),V=t(3),z=t(5)}function G(e){let t;if(e<16&&(t=X(e)))return t;if(e>64&&i)return i.decode(o.subarray(y,y+=e));let r=y+e,n=[];for(t="";y<r;){let e=o[y++];if((128&e)==0)n.push(e);else if((224&e)==192){let t=63&o[y++];n.push((31&e)<<6|t)}else if((240&e)==224){let t=63&o[y++],r=63&o[y++];n.push((31&e)<<12|t<<6|r)}else if((248&e)==240){let t=63&o[y++],r=(7&e)<<18|t<<12|(63&o[y++])<<6|63&o[y++];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}else n.push(e);n.length>=4096&&(t+=Y.apply(String,n),n.length=0)}return n.length>0&&(t+=Y.apply(String,n)),t}function W(e,t,r){let n=o;o=e,y=t;try{return G(r)}finally{o=n}}function H(e){let t=Array(e);for(let r=0;r<e;r++)t[r]=B();return v.freezeData?Object.freeze(t):t}function q(e){if(v.mapsAsObjects){let t={};for(let r=0;r<e;r++){let e=er();"__proto__"===e&&(e="__proto_"),t[e]=B()}return t}{let t=new Map;for(let r=0;r<e;r++)t.set(B(),B());return t}}var Y=String.fromCharCode;function K(e){let t=y,r=Array(e);for(let n=0;n<e;n++){let e=o[y++];if((128&e)>0){y=t;return}r[n]=e}return Y.apply(String,r)}function X(e){if(e<4){if(e<2){if(0===e)return"";{let e=o[y++];if((128&e)>1){y-=1;return}return Y(e)}}{let t=o[y++],r=o[y++];if((128&t)>0||(128&r)>0){y-=2;return}if(e<3)return Y(t,r);let n=o[y++];if((128&n)>0){y-=3;return}return Y(t,r,n)}}{let t=o[y++],r=o[y++],n=o[y++],i=o[y++];if((128&t)>0||(128&r)>0||(128&n)>0||(128&i)>0){y-=4;return}if(e<6){if(4===e)return Y(t,r,n,i);{let e=o[y++];if((128&e)>0){y-=5;return}return Y(t,r,n,i,e)}}if(e<8){let s=o[y++],a=o[y++];if((128&s)>0||(128&a)>0){y-=6;return}if(e<7)return Y(t,r,n,i,s,a);let c=o[y++];if((128&c)>0){y-=7;return}return Y(t,r,n,i,s,a,c)}{let s=o[y++],a=o[y++],c=o[y++],l=o[y++];if((128&s)>0||(128&a)>0||(128&c)>0||(128&l)>0){y-=8;return}if(e<10){if(8===e)return Y(t,r,n,i,s,a,c,l);{let e=o[y++];if((128&e)>0){y-=9;return}return Y(t,r,n,i,s,a,c,l,e)}}if(e<12){let h=o[y++],u=o[y++];if((128&h)>0||(128&u)>0){y-=10;return}if(e<11)return Y(t,r,n,i,s,a,c,l,h,u);let d=o[y++];if((128&d)>0){y-=11;return}return Y(t,r,n,i,s,a,c,l,h,u,d)}{let h=o[y++],u=o[y++],d=o[y++],p=o[y++];if((128&h)>0||(128&u)>0||(128&d)>0||(128&p)>0){y-=12;return}if(e<14){if(12===e)return Y(t,r,n,i,s,a,c,l,h,u,d,p);{let e=o[y++];if((128&e)>0){y-=13;return}return Y(t,r,n,i,s,a,c,l,h,u,d,p,e)}}{let f=o[y++],g=o[y++];if((128&f)>0||(128&g)>0){y-=14;return}if(e<15)return Y(t,r,n,i,s,a,c,l,h,u,d,p,f,g);let m=o[y++];if((128&m)>0){y-=15;return}return Y(t,r,n,i,s,a,c,l,h,u,d,p,f,g,m)}}}}}function Z(){let e,t=o[y++];if(t<192)e=t-160;else switch(t){case 217:e=o[y++];break;case 218:e=u.getUint16(y),y+=2;break;case 219:e=u.getUint32(y),y+=4;break;default:throw Error("Expected string")}return G(e)}function Q(e){return v.copyBuffers?Uint8Array.prototype.slice.call(o,y,y+=e):o.subarray(y,y+=e)}function ee(e){let t=o[y++];if(S[t]){let r;return S[t](o.subarray(y,r=y+=e),e=>{y=e;try{return B()}finally{y=r}})}throw Error("Unknown extension type "+t)}var et=Array(4096);function er(){let e,t=o[y++];if(!(t>=160)||!(t<192))return y--,en(B());if(t-=160,E>=y)return c.slice(y-_,(y+=t)-_);if(!(0==E&&s<180))return N(t);let r=(t<<5^(t>1?u.getUint16(y):t>0?o[y]:0))&4095,n=et[r],i=y,a=y+t-3,l=0;if(n&&n.bytes==t){for(;i<a;){if((e=u.getUint32(i))!=n[l++]){i=0x70000000;break}i+=4}for(a+=3;i<a;)if((e=o[i++])!=n[l++]){i=0x70000000;break}if(i===a)return y=i,n.string;a-=3,i=y}for(n=[],et[r]=n,n.bytes=t;i<a;)e=u.getUint32(i),n.push(e),i+=4;for(a+=3;i<a;)e=o[i++],n.push(e);let h=t<16?X(t):K(t);return null!=h?n.string=h:n.string=N(t)}function en(e){if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e||"bigint"==typeof e)return e.toString();if(null==e)return e+"";throw Error("Invalid property type for record",typeof e)}let ei=(e,t)=>{let r=B().map(en),n=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let i=a[e];return i&&(i.isShared||I)&&((a.restoreStructures||(a.restoreStructures=[]))[e]=i),a[e]=r,r.read=O(r,n),r.read()};S[0]=()=>{},S[0].noBuffer=!0,S[66]=e=>{let t=e.length,r=BigInt(128&e[0]?e[0]-256:e[0]);for(let n=1;n<t;n++)r<<=BigInt(8),r+=BigInt(e[n]);return r};let eo={Error,TypeError,ReferenceError};S[101]=()=>{let e=B();return(eo[e[0]]||Error)(e[1],{cause:e[2]})},S[105]=e=>{let t;if(!1===v.structuredClone)throw Error("Structured clone extension is disabled");let r=u.getUint32(y-4);h||(h=new Map);let n=o[y],i={target:t=n>=144&&n<160||220==n||221==n?[]:{}};h.set(r,i);let s=B();return i.used?Object.assign(t,s):(i.target=s,s)},S[112]=e=>{if(!1===v.structuredClone)throw Error("Structured clone extension is disabled");let t=u.getUint32(y-4),r=h.get(t);return r.used=!0,r.target},S[115]=()=>new Set(B());let es=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array"),ea="object"==typeof globalThis?globalThis:window;S[116]=e=>{let t=e[0],r=es[t];if(!r){if(16===t){let t=new ArrayBuffer(e.length-1);return new Uint8Array(t).set(e.subarray(1)),t}throw Error("Could not find typed array for code "+t)}return new ea[r](Uint8Array.prototype.slice.call(e,1).buffer)},S[120]=()=>{let e=B();return new RegExp(e[0],e[1])};let ec=[];function el(e){f&&f();let t=s,r=y,n=x,i=_,d=E,p=c,g=b,m=h,w=l,S=new Uint8Array(o.slice(0,s)),C=a,k=a.slice(0,a.length),T=v,U=I,j=e();return s=t,y=r,x=n,_=i,E=d,c=p,b=g,h=m,l=w,o=S,I=U,(a=C).splice(0,a.length,...k),v=T,u=new DataView(o.buffer,o.byteOffset,o.byteLength),j}function eh(){o=null,h=null,a=null}function eu(e){e.unpack?S[e.type]=e.unpack:S[e.type]=e}S[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=y;return y+=t-e.length,l=ec,(l=[Z(),Z()]).position0=0,l.position1=0,l.postBundlePosition=y,y=r,B()},S[255]=e=>4==e.length?new Date((0x1000000*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((3&e[3])*0x100000000+0x1000000*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((128&e[4]?-0x1000000000000:0)+0x10000000000*e[6]+0x100000000*e[7]+0x1000000*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");let ed=Array(147);for(let e=0;e<256;e++)ed[e]=+("1e"+Math.floor(45.15-.30103*e));let ep=j;var ef=new j({useRecords:!1});let eg=ef.unpack,em=ef.unpackMultiple,ey=ef.unpack,ew={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},eb=new Float32Array(1),ex=new Uint8Array(eb.buffer,0,4);function ev(e){eb[0]=e;let t=ed[(127&ex[3])<<1|ex[2]>>7];return(t*e+(e>0?.5:-.5)>>0)/t}function e_(e,t,r){d=e,p=t,f=r}},{b5a1b40c14b71778:"b48lF","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"737vE":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"packIter",()=>c),i.export(r,"unpackIter",()=>h),i.export(r,"decodeIter",()=>u),i.export(r,"encodeIter",()=>d);var o=e("./pack.js"),s=e("./unpack.js"),a=e("cf54f4ca76cd8e1c").Buffer;function c(e,t={}){if(e&&"object"==typeof e){if("function"==typeof e[Symbol.iterator])return function*(e,t){let r=new o.Packr(t);for(let t of e)yield r.pack(t)}(e,t);if("function"==typeof e.then||"function"==typeof e[Symbol.asyncIterator])return l(e,t);else throw Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}throw Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable")}async function*l(e,t){let r=new o.Packr(t);for await(let t of e)yield r.pack(t)}function h(e,t={}){let r;if(!e||"object"!=typeof e)throw Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");let n=new s.Unpackr(t),i=e=>{let t;r&&(e=a.concat([r,e]),r=void 0);try{t=n.unpackMultiple(e)}catch(n){if(n.incomplete)r=e.slice(n.lastPosition),t=n.values;else throw n}return t};return"function"==typeof e[Symbol.iterator]?function*(){for(let t of e)yield*i(t)}():"function"==typeof e[Symbol.asyncIterator]?async function*(){for await(let t of e)yield*i(t)}():void 0}let u=h,d=c},{cf54f4ca76cd8e1c:"b48lF","./pack.js":"1Gqa1","./unpack.js":"34MFG","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],blYkP:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"StreamHandler",()=>a);var o=e("peerjs"),s=i.interopDefault(o);class a{constructor(e){this.serverID=e.serverID,this.peerConfig=e.peerConfig}startServer(e,t){this.peer=new s.default(this.serverID,{...this.peerConfig,debug:1}),this.peer.on("connection",r=>{e&&this.peer.call(r.peer,e,{metadata:t||null})}),this.peer.on("error",e=>{console.warn("streaming",e)})}startClient(e){this.peer=new s.default({...this.peerConfig,debug:1}),this.peer.on("open",e=>{console.log("Client ID is: "+e),this.peer.connect(this.serverID)}),this.peer.on("call",t=>{t.answer(),t.on("stream",function(r){e(r,t.metadata)})}),this.peer.on("error",e=>{console.error("streaming",e)})}stop(){this.peer?.destroy()}}},{peerjs:"j4KPh","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],j4KPh:[function(e,t,r,n){var i,o,s,a,c,l,h,u,d,p,f,g,m,y,w,b,x=e("@parcel/transformer-js/src/esmodule-helpers.js");x.defineInteropFlag(r),x.export(r,"default",()=>es),x.export(r,"util",()=>D),x.export(r,"BufferedConnection",()=>Z),x.export(r,"StreamConnection",()=>en),x.export(r,"MsgPack",()=>ei),x.export(r,"Peer",()=>er),x.export(r,"MsgPackPeer",()=>eo),x.export(r,"PeerError",()=>H),x.export(r,"ConnectionType",()=>p),x.export(r,"PeerErrorType",()=>f),x.export(r,"BaseConnectionErrorType",()=>g),x.export(r,"DataConnectionErrorType",()=>m),x.export(r,"SerializationType",()=>y),x.export(r,"SocketEventType",()=>w),x.export(r,"ServerMessageType",()=>b);var v=e("peerjs-js-binarypack"),_=e("webrtc-adapter"),E=x.interopDefault(_),S=e("@msgpack/msgpack");function C(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}class k{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{let t=[],r=e.byteLength,n=Math.ceil(r/this.chunkedMTU),i=0,o=0;for(;o<r;){let s=Math.min(r,o+this.chunkedMTU),a=e.slice(o,s),c={__peerData:this._dataCount,n:i,data:a,total:n};t.push(c),o=s,i++}return this._dataCount++,t}}}let T=E.default.default||E.default,I=new class{isWebRTCSupported(){return"undefined"!=typeof RTCPeerConnection}isBrowserSupported(){let e=this.getBrowser(),t=this.getVersion();return!!this.supportedBrowsers.includes(e)&&("chrome"===e?t>=this.minChromeVersion:"firefox"===e?t>=this.minFirefoxVersion:"safari"===e&&!this.isIOS&&t>=this.minSafariVersion)}getBrowser(){return T.browserDetails.browser}getVersion(){return T.browserDetails.version||0}isUnifiedPlanSupported(){let e,t=this.getBrowser(),r=T.browserDetails.version||0;if("chrome"===t&&r<this.minChromeVersion)return!1;if("firefox"===t&&r>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n=!1;try{(e=new RTCPeerConnection).addTransceiver("audio"),n=!0}catch(e){}finally{e&&e.close()}return n}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS="undefined"!=typeof navigator&&["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},U=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),j=()=>Math.random().toString(36).slice(2),A={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},D=new class extends k{noop(){}blobToArrayBuffer(e,t){let r=new FileReader;return r.onload=function(e){e.target&&t(e.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t.buffer}isSecure(){return"https:"===location.protocol}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=A,this.browser=I.getBrowser(),this.browserVersion=I.getVersion(),this.pack=v.pack,this.unpack=v.unpack,this.supports=function(){let e,t={browser:I.isBrowserSupported(),webRTC:I.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;try{let r;e=new RTCPeerConnection(A),t.audioVideo=!0;try{r=e.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!r.ordered;try{r.binaryType="blob",t.binaryBlob=!I.isIOS}catch(e){}}catch(e){}finally{r&&r.close()}}catch(e){}finally{e&&e.close()}return t}(),this.validateId=U,this.randomToken=j}};(i=d||(d={}))[i.Disabled=0]="Disabled",i[i.Errors=1]="Errors",i[i.Warnings=2]="Warnings",i[i.All=3]="All";"use strict";var R=new class{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...t){let r=["PeerJS: ",...t];for(let e in r)r[e]instanceof Error&&(r[e]="("+r[e].name+") "+r[e].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}},B={},P=Object.prototype.hasOwnProperty,O="~";function M(){}function L(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function N(e,t,r,n,i){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new L(r,n||e,i),s=O?O+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function F(e,t){0==--e._eventsCount?e._events=new M:delete e._events[t]}function V(){this._events=new M,this._eventsCount=0}Object.create&&(M.prototype=Object.create(null),new M().__proto__||(O=!1)),V.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)P.call(e,t)&&r.push(O?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},V.prototype.listeners=function(e){var t=O?O+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,o=Array(i);n<i;n++)o[n]=r[n].fn;return o},V.prototype.listenerCount=function(e){var t=O?O+e:e,r=this._events[t];return r?r.fn?1:r.length:0},V.prototype.emit=function(e,t,r,n,i,o){var s=O?O+e:e;if(!this._events[s])return!1;var a,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,i),!0;case 6:return l.fn.call(l.context,t,r,n,i,o),!0}for(c=1,a=Array(h-1);c<h;c++)a[c-1]=arguments[c];l.fn.apply(l.context,a)}else{var u,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,n);break;default:if(!a)for(u=1,a=Array(h-1);u<h;u++)a[u-1]=arguments[u];l[c].fn.apply(l[c].context,a)}}return!0},V.prototype.on=function(e,t,r){return N(this,e,t,r,!1)},V.prototype.once=function(e,t,r){return N(this,e,t,r,!0)},V.prototype.removeListener=function(e,t,r,n){var i=O?O+e:e;if(!this._events[i])return this;if(!t)return F(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||F(this,i);else{for(var s=0,a=[],c=o.length;s<c;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&a.push(o[s]);a.length?this._events[i]=1===a.length?a[0]:a:F(this,i)}return this},V.prototype.removeAllListeners=function(e){var t;return e?(t=O?O+e:e,this._events[t]&&F(this,t)):(this._events=new M,this._eventsCount=0),this},V.prototype.off=V.prototype.removeListener,V.prototype.addListener=V.prototype.on,V.prefixed=O,V.EventEmitter=V,B=V;var z={};C(z,"ConnectionType",()=>p),C(z,"PeerErrorType",()=>f),C(z,"BaseConnectionErrorType",()=>g),C(z,"DataConnectionErrorType",()=>m),C(z,"SerializationType",()=>y),C(z,"SocketEventType",()=>w),C(z,"ServerMessageType",()=>b),(o=p||(p={})).Data="data",o.Media="media",(s=f||(f={})).BrowserIncompatible="browser-incompatible",s.Disconnected="disconnected",s.InvalidID="invalid-id",s.InvalidKey="invalid-key",s.Network="network",s.PeerUnavailable="peer-unavailable",s.SslUnavailable="ssl-unavailable",s.ServerError="server-error",s.SocketError="socket-error",s.SocketClosed="socket-closed",s.UnavailableID="unavailable-id",s.WebRTC="webrtc",(a=g||(g={})).NegotiationFailed="negotiation-failed",a.ConnectionClosed="connection-closed",(c=m||(m={})).NotOpenYet="not-open-yet",c.MessageToBig="message-too-big",(l=y||(y={})).Binary="binary",l.BinaryUTF8="binary-utf8",l.JSON="json",l.None="raw",(h=w||(w={})).Message="message",h.Disconnected="disconnected",h.Error="error",h.Close="close",(u=b||(b={})).Heartbeat="HEARTBEAT",u.Candidate="CANDIDATE",u.Offer="OFFER",u.Answer="ANSWER",u.Open="OPEN",u.Error="ERROR",u.IdTaken="ID-TAKEN",u.InvalidKey="INVALID-KEY",u.Leave="LEAVE",u.Expire="EXPIRE";var $={};$=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class J extends B.EventEmitter{constructor(e,t,r,n,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[],this._baseUrl=(e?"wss://":"ws://")+t+":"+r+n+"peerjs?key="+i}start(e,t){this._id=e;let r=`${this._baseUrl}&id=${e}&token=${t}`;!this._socket&&this._disconnected&&(this._socket=new WebSocket(r+"&version="+$.version),this._disconnected=!1,this._socket.onmessage=e=>{let t;try{t=JSON.parse(e.data),R.log("Server message received:",t)}catch(t){R.log("Invalid server message",e.data);return}this.emit(w.Message,t)},this._socket.onclose=e=>{this._disconnected||(R.log("Socket closed.",e),this._cleanup(),this._disconnected=!0,this.emit(w.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),R.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){R.log("Cannot send heartbeat, because socket closed");return}let e=JSON.stringify({type:b.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&1===this._socket.readyState}_sendQueuedMessages(){let e=[...this._messagesQueue];for(let t of(this._messagesQueue=[],e))this.send(t)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(w.Error,"Invalid message");return}if(!this._wsOpen())return;let t=JSON.stringify(e);this._socket.send(t)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class G{constructor(e){this.connection=e}startConnection(e){let t=this._startPeerConnection();if(this.connection.peerConnection=t,this.connection.type===p.Media&&e._stream&&this._addTracksToConnection(e._stream,t),e.originator){let r=this.connection,n={ordered:!!e.reliable},i=t.createDataChannel(r.label,n);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){R.log("Creating RTCPeerConnection.");let e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){let t=this.connection.peer,r=this.connection.connectionId,n=this.connection.type,i=this.connection.provider;R.log("Listening for ICE candidates."),e.onicecandidate=e=>{e.candidate&&e.candidate.candidate&&(R.log(`Received ICE candidates for ${t}:`,e.candidate),i.socket.send({type:b.Candidate,payload:{candidate:e.candidate,type:n,connectionId:r},dst:t}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":R.log("iceConnectionState is failed, closing connections to "+t),this.connection.emitError(g.NegotiationFailed,"Negotiation of connection to "+t+" failed."),this.connection.close();break;case"closed":R.log("iceConnectionState is closed, closing connections to "+t),this.connection.emitError(g.ConnectionClosed,"Connection to "+t+" closed."),this.connection.close();break;case"disconnected":R.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=()=>{}}this.connection.emit("iceStateChanged",e.iceConnectionState)},R.log("Listening for data channel"),e.ondatachannel=e=>{R.log("Received data channel");let n=e.channel;i.getConnection(t,r)._initializeDataChannel(n)},R.log("Listening for remote stream"),e.ontrack=e=>{R.log("Received remote stream");let n=e.streams[0],o=i.getConnection(t,r);o.type===p.Media&&this._addStreamToMediaConnection(n,o)}}cleanup(){R.log("Cleaning up PeerConnection to "+this.connection.peer);let e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};let t="closed"!==e.signalingState,r=!1,n=this.connection.dataChannel;n&&(r=!!n.readyState&&"closed"!==n.readyState),(t||r)&&e.close()}async _makeOffer(){let e=this.connection.peerConnection,t=this.connection.provider;try{let r=await e.createOffer(this.connection.options.constraints);R.log("Created offer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),R.log("Set localDescription:",r,`for:${this.connection.peer}`);let n={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===p.Data){let e=this.connection;n={...n,label:e.label,reliable:e.reliable,serialization:e.serialization}}t.socket.send({type:b.Offer,payload:n,dst:this.connection.peer})}catch(e){"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=e&&(t.emitError(f.WebRTC,e),R.log("Failed to setLocalDescription, ",e))}}catch(e){t.emitError(f.WebRTC,e),R.log("Failed to createOffer, ",e)}}async _makeAnswer(){let e=this.connection.peerConnection,t=this.connection.provider;try{let r=await e.createAnswer();R.log("Created answer."),this.connection.options.sdpTransform&&"function"==typeof this.connection.options.sdpTransform&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),R.log("Set localDescription:",r,`for:${this.connection.peer}`),t.socket.send({type:b.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(e){t.emitError(f.WebRTC,e),R.log("Failed to setLocalDescription, ",e)}}catch(e){t.emitError(f.WebRTC,e),R.log("Failed to create answer, ",e)}}async handleSDP(e,t){t=new RTCSessionDescription(t);let r=this.connection.peerConnection,n=this.connection.provider;R.log("Setting remote description",t);try{await r.setRemoteDescription(t),R.log(`Set remoteDescription:${e} for:${this.connection.peer}`),"OFFER"===e&&await this._makeAnswer()}catch(e){n.emitError(f.WebRTC,e),R.log("Failed to setRemoteDescription, ",e)}}async handleCandidate(e){R.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),R.log(`Added ICE candidate for:${this.connection.peer}`)}catch(e){this.connection.provider.emitError(f.WebRTC,e),R.log("Failed to handleCandidate, ",e)}}_addTracksToConnection(e,t){if(R.log(`add tracks from stream ${e.id} to peer connection`),!t.addTrack)return R.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{t.addTrack(r,e)})}_addStreamToMediaConnection(e,t){R.log(`add stream ${e.id} to media connection ${t.connectionId}`),t.addStream(e)}}class W extends B.EventEmitter{emitError(e,t){R.error("Error:",t),this.emit("error",new H(`${e}`,t))}}class H extends Error{constructor(e,t){"string"==typeof t?super(t):(super(),Object.assign(this,t)),this.type=e}}class q extends W{get open(){return this._open}constructor(e,t,r){super(),this.peer=e,this.provider=t,this.options=r,this._open=!1,this.metadata=r.metadata}}class Y extends q{static #e=this.ID_PREFIX="mc_";get type(){return p.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,t,r){super(e,t,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Y.ID_PREFIX+D.randomToken(),this._negotiator=new G(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{R.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{R.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){R.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){let t=e.type,r=e.payload;switch(e.type){case b.Answer:this._negotiator.handleSDP(t,r.sdp),this._open=!0;break;case b.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:R.warn(`Unrecognized message type:${t} from peer:${this.peer}`)}}answer(e,t={}){if(this._localStream){R.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}for(let r of(this._localStream=e,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e}),this.provider._getMessages(this.connectionId)))this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class K{constructor(e){this._options=e}_buildRequest(e){let t=this._options.secure?"https":"http",{host:r,port:n,path:i,key:o}=this._options,s=new URL(`${t}://${r}:${n}${i}${o}/${e}`);return s.searchParams.set("ts",`${Date.now()}${Math.random()}`),s.searchParams.set("version",$.version),fetch(s.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{let e=await this._buildRequest("id");if(200!==e.status)throw Error(`Error. Status:${e.status}`);return e.text()}catch(t){R.error("Error retrieving ID",t);let e="";throw"/"===this._options.path&&this._options.host!==D.CLOUD_HOST&&(e=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),Error("Could not get an ID from the server."+e)}}async listAllPeers(){try{let e=await this._buildRequest("peers");if(200!==e.status){if(401===e.status){let e="";throw e=this._options.host===D.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",Error("It doesn't look like you have permission to list peers IDs. "+e)}throw Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw R.error("Error retrieving list peers",e),Error("Could not get list peers from the server."+e)}}}class X extends q{static #e=this.ID_PREFIX="dc_";static #t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return p.Data}constructor(e,t,r){super(e,t,r),this.connectionId=this.options.connectionId||X.ID_PREFIX+j(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new G(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{R.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=e=>{R.log(`DC#${this.connectionId} dc onmessage:`,e.data)},this.dataChannel.onclose=()=>{R.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,t=!1){if(!this.open){this.emitError(m.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,t)}async handleMessage(e){let t=e.payload;switch(e.type){case b.Answer:await this._negotiator.handleSDP(e.type,t.sdp);break;case b.Candidate:await this._negotiator.handleCandidate(t.candidate);break;default:R.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}}}class Z extends X{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",e=>this._handleDataMessage(e))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>X.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(e){return R.error(`DC#:${this.connectionId} Error when sending:`,e),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||0===this._buffer.length)return;let e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Q extends Z{close(e){super.close(e),this._chunkedData={}}constructor(e,t,r){super(e,t,r),this.chunker=new k,this.serialization=y.Binary,this._chunkedData={}}_handleDataMessage({data:e}){let t=(0,v.unpack)(e),r=t.__peerData;if(r){if("close"===r.type){this.close();return}this._handleChunk(t);return}this.emit("data",t)}_handleChunk(e){let t=e.__peerData,r=this._chunkedData[t]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[t]=r,r.total===r.count){delete this._chunkedData[t];let e=function(e){let t=0;for(let r of e)t+=r.byteLength;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.byteLength;return r}(r.data);this._handleDataMessage({data:e})}}_send(e,t){let r=(0,v.pack)(e);if(r instanceof Promise)return this._send_blob(r);if(!t&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){let t=await e;if(t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}_sendChunks(e){let t=this.chunker.chunk(e);for(let e of(R.log(`DC#${this.connectionId} Try to send ${t.length} chunks...`),t))this.send(e,!0)}}class ee extends Z{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,t){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=y.None}}class et extends Z{_handleDataMessage({data:e}){let t=this.parse(this.decoder.decode(e)),r=t.__peerData;if(r&&"close"===r.type){this.close();return}this.emit("data",t)}_send(e,t){let r=this.encoder.encode(this.stringify(e));if(r.byteLength>=D.chunkedMTU){this.emitError(m.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=y.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class er extends W{static #e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){let e=Object.create(null);for(let[t,r]of this._connections)e[t]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,t){let r;if(super(),this._serializers={raw:ee,json:et,binary:Q,"binary-utf8":Q,default:Q},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map,e&&e.constructor==Object?t=e:e&&(r=e.toString()),t={debug:0,host:D.CLOUD_HOST,port:D.CLOUD_PORT,path:"/",key:er.DEFAULT_KEY,token:D.randomToken(),config:D.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...t},this._options=t,this._serializers={...this._serializers,...this.options.serializers},"/"===this._options.host&&(this._options.host=window.location.hostname),this._options.path&&("/"!==this._options.path[0]&&(this._options.path="/"+this._options.path),"/"!==this._options.path[this._options.path.length-1]&&(this._options.path+="/")),void 0===this._options.secure&&this._options.host!==D.CLOUD_HOST?this._options.secure=D.isSecure():this._options.host==D.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&R.setLogFunction(this._options.logFunction),R.logLevel=this._options.debug||0,this._api=new K(t),this._socket=this._createServerConnection(),!D.supports.audioVideo&&!D.supports.data){this._delayedAbort(f.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!D.validateId(r)){this._delayedAbort(f.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(e=>this._initialize(e)).catch(e=>this._abort(f.ServerError,e))}_createServerConnection(){let e=new J(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(w.Message,e=>{this._handleMessage(e)}),e.on(w.Error,e=>{this._abort(f.SocketError,e)}),e.on(w.Disconnected,()=>{this.disconnected||(this.emitError(f.Network,"Lost connection to server."),this.disconnect())}),e.on(w.Close,()=>{this.disconnected||this._abort(f.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){let t=e.type,r=e.payload,n=e.src;switch(t){case b.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case b.Error:this._abort(f.ServerError,r.msg);break;case b.IdTaken:this._abort(f.UnavailableID,`ID "${this.id}" is taken`);break;case b.InvalidKey:this._abort(f.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case b.Leave:R.log(`Received leave message from ${n}`),this._cleanupPeer(n),this._connections.delete(n);break;case b.Expire:this.emitError(f.PeerUnavailable,`Could not connect to peer ${n}`);break;case b.Offer:{let e=r.connectionId,t=this.getConnection(n,e);if(t&&(t.close(),R.warn(`Offer received for existing Connection ID:${e}`)),r.type===p.Media){let i=new Y(n,this,{connectionId:e,_payload:r,metadata:r.metadata});t=i,this._addConnection(n,t),this.emit("call",i)}else if(r.type===p.Data){let i=new this._serializers[r.serialization](n,this,{connectionId:e,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});t=i,this._addConnection(n,t),this.emit("connection",i)}else{R.warn(`Received malformed connection type:${r.type}`);return}for(let r of this._getMessages(e))t.handleMessage(r);break}default:{if(!r){R.warn(`You received a malformed message from ${n} of type ${t}`);return}let i=r.connectionId,o=this.getConnection(n,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):R.warn("You received an unrecognized message:",e)}}}_storeMessage(e,t){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(t)}_getMessages(e){let t=this._lostMessages.get(e);return t?(this._lostMessages.delete(e),t):[]}connect(e,t={}){if(t={serialization:"default",...t},this.disconnected){R.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(f.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}let r=new this._serializers[t.serialization](e,this,t);return this._addConnection(e,r),r}call(e,t,r={}){if(this.disconnected){R.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(f.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){R.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}let n=new Y(e,this,{...r,_stream:t});return this._addConnection(e,n),n}_addConnection(e,t){R.log(`add connection ${t.type}:${t.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(t)}_removeConnection(e){let t=this._connections.get(e.peer);if(t){let r=t.indexOf(e);-1!==r&&t.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,t){let r=this._connections.get(e);if(!r)return null;for(let e of r)if(e.connectionId===t)return e;return null}_delayedAbort(e,t){setTimeout(()=>{this._abort(e,t)},0)}_abort(e,t){R.error("Aborting!"),this.emitError(e,t),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(R.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){let t=this._connections.get(e);if(t)for(let e of t)e.close()}disconnect(){if(this.disconnected)return;let e=this.id;R.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)R.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else if(this.destroyed)throw Error("This peer cannot reconnect to the server. It has already been destroyed.");else if(this.disconnected||this.open)throw Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`);else R.error("In a hurry? We're still trying to make the initial connection!")}listAllPeers(e=e=>{}){this._api.listAllPeers().then(t=>e(t)).catch(e=>this._abort(f.ServerError,e))}}class en extends X{constructor(e,t,r){super(e,t,{...r,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(e,t)=>{for(let r=0;r<e.length;r+=this._CHUNK_SIZE)t.enqueue(e.subarray(r,r+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(e,t)=>{let r=new Promise(e=>this.dataChannel.addEventListener("bufferedamountlow",e,{once:!0}));await (this.dataChannel.bufferedAmount<=X.MAX_BUFFERED_AMOUNT-e.byteLength||r);try{this.dataChannel.send(e)}catch(e){R.error(`DC#:${this.connectionId} Error when sending:`,e),t.error(e),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:e=>{this.once("open",()=>{this.dataChannel.addEventListener("message",t=>{e.enqueue(t.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=X.MAX_BUFFERED_AMOUNT/2}}class ei extends en{constructor(e,t,r){super(e,t,r),this.serialization="MsgPack",this._encoder=new S.Encoder,(async()=>{for await(let e of(0,S.decodeMultiStream)(this._rawReadStream)){if(e.__peerData?.type==="close"){this.close();return}this.emit("data",e)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class eo extends er{constructor(...e){super(...e),this._serializers={MsgPack:ei,default:ei}}}var es=er},{"peerjs-js-binarypack":"cBnq7","webrtc-adapter":"cF6ik","@msgpack/msgpack":"99oOE","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],cBnq7:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"unpack",()=>s),i.export(r,"pack",()=>a),i.export(r,"Packer",()=>l);class o{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){let e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){let e=[];for(let t of this._parts)e.push(t);return function(e){let t=0;for(let r of e)t+=r.byteLength;let r=new Uint8Array(t),n=0;for(let t of e){let e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);r.set(e,n),n+=t.byteLength}return r}(e).buffer}}function s(e){return new c(e).unpack()}function a(e){let t=new l,r=t.pack(e);return r instanceof Promise?r.then(()=>t.getBuffer()):t.getBuffer()}class c{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){let e,t=this.unpack_uint8();if(t<128)return t;if((224^t)<32)return(224^t)-32;if((e=160^t)<=15)return this.unpack_raw(e);if((e=176^t)<=15)return this.unpack_string(e);if((e=144^t)<=15)return this.unpack_array(e);if((e=128^t)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:case 212:case 213:case 214:case 215:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}}unpack_uint8(){let e=255&this.dataView[this.index];return this.index++,e}unpack_uint16(){let e=this.read(2),t=(255&e[0])*256+(255&e[1]);return this.index+=2,t}unpack_uint32(){let e=this.read(4),t=((256*e[0]+e[1])*256+e[2])*256+e[3];return this.index+=4,t}unpack_uint64(){let e=this.read(8),t=((((((256*e[0]+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t}unpack_int8(){let e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){let e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){let e=this.unpack_uint32();return e<0x80000000?e:e-0x100000000}unpack_int64(){let e=this.unpack_uint64();return e<0x8000000000000000?e:e-0xffffffffffffffff}unpack_raw(e){if(this.length<this.index+e)throw Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);let t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t}unpack_string(e){let t,r,n=this.read(e),i=0,o="";for(;i<e;)(t=n[i])<160?(r=t,i++):(192^t)<32?(r=(31&t)<<6|63&n[i+1],i+=2):(224^t)<16?(r=(15&t)<<12|(63&n[i+1])<<6|63&n[i+2],i+=3):(r=(7&t)<<18|(63&n[i+1])<<12|(63&n[i+2])<<6|63&n[i+3],i+=4),o+=String.fromCodePoint(r);return this.index+=e,o}unpack_array(e){let t=Array(e);for(let r=0;r<e;r++)t[r]=this.unpack();return t}unpack_map(e){let t={};for(let r=0;r<e;r++)t[this.unpack()]=this.unpack();return t}unpack_float(){let e=this.unpack_uint32();return(0==e>>31?1:-1)*(8388607&e|8388608)*2**((e>>23&255)-127-23)}unpack_double(){let e=this.unpack_uint32(),t=this.unpack_uint32(),r=(e>>20&2047)-1023;return(0==e>>31?1:-1)*((1048575&e|1048576)*2**(r-20)+t*2**(r-52))}read(e){let t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw Error("BinaryPackFailure: read index out of range")}}class l{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if("string"==typeof e)this.pack_string(e);else if("number"==typeof e)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if("boolean"==typeof e)!0===e?this._bufferBuilder.append(195):!1===e&&this._bufferBuilder.append(194);else if(void 0===e)this._bufferBuilder.append(192);else if("object"==typeof e){if(null===e)this._bufferBuilder.append(192);else{let t=e.constructor;if(e instanceof Array){let t=this.pack_array(e);if(t instanceof Promise)return t.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e)this.pack_bin(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));else if(e instanceof Date)this.pack_string(e.toString());else if(e instanceof Blob)return e.arrayBuffer().then(e=>{this.pack_bin(new Uint8Array(e)),this._bufferBuilder.flush()});else if(t==Object||t.toString().startsWith("class")){let t=this.pack_object(e);if(t instanceof Promise)return t.then(()=>this._bufferBuilder.flush())}else throw Error(`Type "${t.toString()}" not yet supported`)}}else throw Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){let t=e.length;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this._bufferBuilder.append(218),this.pack_uint16(t);else if(t<=0xffffffff)this._bufferBuilder.append(219),this.pack_uint32(t);else throw Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){let t=this._textEncoder.encode(e),r=t.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=0xffffffff)this._bufferBuilder.append(217),this.pack_uint32(r);else throw Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_array(e){let t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this._bufferBuilder.append(220),this.pack_uint16(t);else if(t<=0xffffffff)this._bufferBuilder.append(221),this.pack_uint32(t);else throw Error("Invalid length");let r=n=>{if(n<t){let t=this.pack(e[n]);return t instanceof Promise?t.then(()=>r(n+1)):r(n+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(255&e);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=0xffffffff)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-0x80000000&&e<=0x7fffffff)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-0x8000000000000000&&e<=0x8000000000000000)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=0xffffffffffffffff)this._bufferBuilder.append(207),this.pack_uint64(e);else throw Error("Invalid integer")}pack_double(e){let t=0;e<0&&(t=1,e=-e);let r=Math.floor(Math.log(e)/Math.LN2),n=Math.floor((e/2**r-1)*0x10000000000000),i=t<<31|r+1023<<20|n/0x100000000&1048575;this._bufferBuilder.append(203),this.pack_int32(i),this.pack_int32(n%0x100000000)}pack_object(e){let t=Object.keys(e),r=t.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=0xffffffff)this._bufferBuilder.append(223),this.pack_uint32(r);else throw Error("Invalid length");let n=r=>{if(r<t.length){let i=t[r];if(e.hasOwnProperty(i)){this.pack(i);let t=this.pack(e[i]);if(t instanceof Promise)return t.then(()=>n(r+1))}return n(r+1)}};return n(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(255&e)}pack_uint32(e){let t=0xffffffff&e;this._bufferBuilder.append((0xff000000&t)>>>24),this._bufferBuilder.append((0xff0000&t)>>>16),this._bufferBuilder.append((65280&t)>>>8),this._bufferBuilder.append(255&t)}pack_uint64(e){let t=e/0x100000000,r=e%0x100000000;this._bufferBuilder.append((0xff000000&t)>>>24),this._bufferBuilder.append((0xff0000&t)>>>16),this._bufferBuilder.append((65280&t)>>>8),this._bufferBuilder.append(255&t),this._bufferBuilder.append((0xff000000&r)>>>24),this._bufferBuilder.append((0xff0000&r)>>>16),this._bufferBuilder.append((65280&r)>>>8),this._bufferBuilder.append(255&r)}pack_int8(e){this._bufferBuilder.append(255&e)}pack_int16(e){this._bufferBuilder.append((65280&e)>>8),this._bufferBuilder.append(255&e)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((0xff0000&e)>>>16),this._bufferBuilder.append((65280&e)>>>8),this._bufferBuilder.append(255&e)}pack_int64(e){let t=Math.floor(e/0x100000000),r=e%0x100000000;this._bufferBuilder.append((0xff000000&t)>>>24),this._bufferBuilder.append((0xff0000&t)>>>16),this._bufferBuilder.append((65280&t)>>>8),this._bufferBuilder.append(255&t),this._bufferBuilder.append((0xff000000&r)>>>24),this._bufferBuilder.append((0xff0000&r)>>>16),this._bufferBuilder.append((65280&r)>>>8),this._bufferBuilder.append(255&r)}constructor(){this._bufferBuilder=new o,this._textEncoder=new TextEncoder}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],cF6ik:[function(e,t,r,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var i=e("./adapter_factory.js");"use strict";r.default=(0,i.adapterFactory)({window:"undefined"==typeof window?void 0:window})},{"./adapter_factory.js":"jgw39","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],jgw39:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"adapterFactory",()=>u);var o=e("./utils"),s=e("./chrome/chrome_shim"),a=e("./firefox/firefox_shim"),c=e("./safari/safari_shim"),l=e("./common_shim"),h=e("sdp");function u({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let r=o.log,n=o.detectBrowser(e),i={browserDetails:n,commonShim:l,extractVersion:o.extractVersion,disableLog:o.disableLog,disableWarnings:o.disableWarnings,sdp:h};switch(n.browser){case"chrome":if(!s||!s.shimPeerConnection||!t.shimChrome){r("Chrome shim is not included in this adapter release.");break}if(null===n.version){r("Chrome shim can not determine version, not shimming.");break}r("adapter.js shimming chrome."),i.browserShim=s,l.shimAddIceCandidateNullOrEmpty(e,n),l.shimParameterlessSetLocalDescription(e,n),s.shimGetUserMedia(e,n),s.shimMediaStream(e,n),s.shimPeerConnection(e,n),s.shimOnTrack(e,n),s.shimAddTrackRemoveTrack(e,n),s.shimGetSendersWithDtmf(e,n),s.shimSenderReceiverGetStats(e,n),s.fixNegotiationNeeded(e,n),l.shimRTCIceCandidate(e,n),l.shimRTCIceCandidateRelayProtocol(e,n),l.shimConnectionState(e,n),l.shimMaxMessageSize(e,n),l.shimSendThrowTypeError(e,n),l.removeExtmapAllowMixed(e,n);break;case"firefox":if(!a||!a.shimPeerConnection||!t.shimFirefox){r("Firefox shim is not included in this adapter release.");break}r("adapter.js shimming firefox."),i.browserShim=a,l.shimAddIceCandidateNullOrEmpty(e,n),l.shimParameterlessSetLocalDescription(e,n),a.shimGetUserMedia(e,n),a.shimPeerConnection(e,n),a.shimOnTrack(e,n),a.shimRemoveStream(e,n),a.shimSenderGetStats(e,n),a.shimReceiverGetStats(e,n),a.shimRTCDataChannel(e,n),a.shimAddTransceiver(e,n),a.shimGetParameters(e,n),a.shimCreateOffer(e,n),a.shimCreateAnswer(e,n),l.shimRTCIceCandidate(e,n),l.shimConnectionState(e,n),l.shimMaxMessageSize(e,n),l.shimSendThrowTypeError(e,n);break;case"safari":if(!c||!t.shimSafari){r("Safari shim is not included in this adapter release.");break}r("adapter.js shimming safari."),i.browserShim=c,l.shimAddIceCandidateNullOrEmpty(e,n),l.shimParameterlessSetLocalDescription(e,n),c.shimRTCIceServerUrls(e,n),c.shimCreateOfferLegacy(e,n),c.shimCallbacksAPI(e,n),c.shimLocalStreamsAPI(e,n),c.shimRemoteStreamsAPI(e,n),c.shimTrackEventTransceiver(e,n),c.shimGetUserMedia(e,n),c.shimAudioContext(e,n),l.shimRTCIceCandidate(e,n),l.shimRTCIceCandidateRelayProtocol(e,n),l.shimMaxMessageSize(e,n),l.shimSendThrowTypeError(e,n),l.removeExtmapAllowMixed(e,n);break;default:r("Unsupported browser!")}return i}},{"./utils":"7Ny3a","./chrome/chrome_shim":"efVnO","./firefox/firefox_shim":"jY3gi","./safari/safari_shim":"f5d5Y","./common_shim":"cADZX",sdp:"7PVXR","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"7Ny3a":[function(e,t,r,n){"use strict";var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"extractVersion",()=>a),i.export(r,"wrapPeerConnectionEvent",()=>c),i.export(r,"disableLog",()=>l),i.export(r,"disableWarnings",()=>h),i.export(r,"log",()=>u),i.export(r,"deprecated",()=>d),i.export(r,"detectBrowser",()=>p),i.export(r,"compactObject",()=>function e(t){return f(t)?Object.keys(t).reduce(function(r,n){let i=f(t[n]),o=i?e(t[n]):t[n],s=i&&!Object.keys(o).length;return void 0===o||s?r:Object.assign(r,{[n]:o})},{}):t}),i.export(r,"walkStats",()=>g),i.export(r,"filterStats",()=>m);let o=!0,s=!0;function a(e,t,r){let n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function c(e,t,r){if(!e.RTCPeerConnection)return;let n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return i.apply(this,arguments);let o=e=>{let t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,o),i.apply(this,[e,o])};let o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(r))return o.apply(this,arguments);let n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function l(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(o=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function h(e){return"boolean"!=typeof e?Error("Argument type: "+typeof e+". Please use a boolean."):(s=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function u(){"object"!=typeof window||o||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function d(e,t){s&&console.warn(e+" is deprecated, please use "+t+" instead.")}function p(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:r}=e;if(r.userAgentData&&r.userAgentData.brands){let e=r.userAgentData.brands.find(e=>"Chromium"===e.brand);if(e)return{browser:"chrome",version:parseInt(e.version,10)}}return r.mozGetUserMedia?(t.browser="firefox",t.version=a(r.userAgent,/Firefox\/(\d+)\./,1)):r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=a(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=a(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach(n=>{n.endsWith("Id")?g(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach(t=>{g(e,e.get(t),r)})}))}function m(e,t,r){let n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;let o=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(t=>{e.forEach(r=>{r.type===n&&r.trackId===t.id&&g(e,r,i)})}),i}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],efVnO:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"shimGetUserMedia",()=>s.shimGetUserMedia),i.export(r,"shimMediaStream",()=>a),i.export(r,"shimOnTrack",()=>c),i.export(r,"shimGetSendersWithDtmf",()=>l),i.export(r,"shimSenderReceiverGetStats",()=>h),i.export(r,"shimAddTrackRemoveTrackWithNative",()=>u),i.export(r,"shimAddTrackRemoveTrack",()=>d),i.export(r,"shimPeerConnection",()=>p),i.export(r,"fixNegotiationNeeded",()=>f);"use strict";var o=e("../utils.js"),s=e("./getusermedia");function a(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function c(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)o.wrapPeerConnectionEvent(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.track.id):{track:r.track};let i=new Event("track");i.track=r.track,i.receiver=n,i.transceiver={receiver:n},i.streams=[t.stream],this.dispatchEvent(i)}),t.stream.getTracks().forEach(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===r.id):{track:r};let i=new Event("track");i.track=r,i.receiver=n,i.transceiver={receiver:n},i.streams=[t.stream],this.dispatchEvent(i)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function l(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};let n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function h(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>o.filterStats(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),o.wrapPeerConnectionEvent(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>o.filterStats(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,r,n=arguments[0];return(this.getSenders().forEach(t=>{t.track===n&&(e?r=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===n&&(t?r=!0:t=e),e.track===n)),r||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function u(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};let r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();r.apply(this,arguments);let n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};let i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),i.apply(this,arguments)}}function d(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return u(e);let r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};let i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(RegExp(i.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let i=this._streams[r.id];if(i)i.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?r.apply(this,[t=>{let r=o(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then(e=>o(this,e))}})[t]});let s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let r;return arguments.length&&arguments[0].type?(arguments[0]=(e=this,t=arguments[0],r=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(RegExp(n.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:r})),s.apply(this,arguments)):s.apply(this,arguments)};let a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=a.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(r=>{this._streams[r].getTracks().find(t=>e.track===t)&&(t=this._streams[r])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function p(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}})[t]})}function f(e,t){o.wrapPeerConnectionEvent(e,"negotiationneeded",e=>{let r=e.target;if(!(t.version<72)&&(!r.getConfiguration||"plan-b"!==r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e})}},{"../utils.js":"7Ny3a","./getusermedia":"kb2yF","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],kb2yF:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"shimGetUserMedia",()=>a);var o=e("../utils.js");"use strict";let s=o.log;function a(e,t){let r=e&&e.navigator;if(!r.mediaDevices)return;let n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;let n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);let i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[i("min",r)]=n.ideal,t.optional.push(e),(e={})[i("max",r)]=n.ideal):e[i("",r)]=n.ideal,t.optional.push(e)}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});let a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:("user"===o.exact||"user"===o.ideal)&&(t=["front"]),t)return r.mediaDevices.enumerateDevices().then(r=>{let a=(r=r.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!a&&r.length&&t.includes("back")&&(a=r[r.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),s("chrome: "+JSON.stringify(e)),i(e)})}e.video=n(e.video)}return s("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=(function(e,t,n){i(e,e=>{r.webkitGetUserMedia(e,t,e=>{n&&n(o(e))})})}).bind(r),r.mediaDevices.getUserMedia){let e=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(t){return i(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(o(e))))}}}},{"../utils.js":"7Ny3a","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],jY3gi:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"shimGetUserMedia",()=>s.shimGetUserMedia),i.export(r,"shimGetDisplayMedia",()=>a.shimGetDisplayMedia),i.export(r,"shimOnTrack",()=>c),i.export(r,"shimPeerConnection",()=>l),i.export(r,"shimSenderGetStats",()=>h),i.export(r,"shimReceiverGetStats",()=>u),i.export(r,"shimRemoveStream",()=>d),i.export(r,"shimRTCDataChannel",()=>p),i.export(r,"shimAddTransceiver",()=>f),i.export(r,"shimGetParameters",()=>g),i.export(r,"shimCreateOffer",()=>m),i.export(r,"shimCreateAnswer",()=>y);"use strict";var o=e("../utils"),s=e("./getusermedia"),a=e("./getdisplaymedia");function c(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function l(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}})[t]});let r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,o]=arguments;return n.apply(this,[e||null]).then(e=>{if(t.version<53&&!i)try{e.forEach(e=>{e.type=r[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(i,o)}}function h(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function u(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),o.wrapPeerConnectionEvent(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function d(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){o.deprecated("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function p(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function f(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let r=(e=[...e]).length>0;r&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let n=t.apply(this,arguments);if(r){let{sender:t}=n,r=t.getParameters();"encodings"in r&&(1!==r.encodings.length||0!==Object.keys(r.encodings[0]).length)||(r.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(r).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return n})}function g(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function m(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function y(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}},{"../utils":"7Ny3a","./getusermedia":"3ocOb","./getdisplaymedia":"aU1JL","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"3ocOb":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"shimGetUserMedia",()=>s);var o=e("../utils");"use strict";function s(e,t){let r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){o.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){let e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(e((r=JSON.parse(JSON.stringify(r))).audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},n&&n.prototype.getSettings){let t=n.prototype.getSettings;n.prototype.getSettings=function(){let r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(n&&n.prototype.applyConstraints){let t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(e(r=JSON.parse(JSON.stringify(r)),"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}},{"../utils":"7Ny3a","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],aU1JL:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");"use strict";function o(e,t){(!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}i.defineInteropFlag(r),i.export(r,"shimGetDisplayMedia",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],f5d5Y:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"shimLocalStreamsAPI",()=>s),i.export(r,"shimRemoteStreamsAPI",()=>a),i.export(r,"shimCallbacksAPI",()=>c),i.export(r,"shimGetUserMedia",()=>l),i.export(r,"shimConstraints",()=>h),i.export(r,"shimRTCIceServerUrls",()=>u),i.export(r,"shimTrackEventTransceiver",()=>d),i.export(r,"shimCreateOfferLegacy",()=>p),i.export(r,"shimAudioContext",()=>f);var o=e("../utils");"use strict";function s(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(r=>t.call(this,r,e)),e.getVideoTracks().forEach(r=>t.call(this,r,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...r){return r&&r.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let r=e.getTracks();this.getSenders().forEach(e=>{r.includes(e.track)&&this.removeTrack(e)})})}}function a(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let r=new Event("addstream");r.stream=t,e.dispatchEvent(r)})}),t.apply(e,arguments)}}}function c(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){let n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){let r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i};let a=function(e,t,r){let n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=a,t.setRemoteDescription=a=function(e,t,r){let n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=function(e,t,r){let n=s.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n}}function l(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(h(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}).bind(t))}function h(e){return e&&void 0!==e.video?Object.assign({},e,{video:o.compactObject(e.video)}):e}function u(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){let t=[];for(let r=0;r<e.iceServers.length;r++){let n=e.iceServers[r];void 0===n.urls&&n.url?(o.deprecated("RTCIceServer.url","RTCIceServer.urls"),(n=JSON.parse(JSON.stringify(n))).urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function d(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function p(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let r=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function f(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}},{"../utils":"7Ny3a","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],cADZX:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"shimRTCIceCandidate",()=>c),i.export(r,"shimRTCIceCandidateRelayProtocol",()=>l),i.export(r,"shimMaxMessageSize",()=>h),i.export(r,"shimSendThrowTypeError",()=>u),i.export(r,"shimConnectionState",()=>d),i.export(r,"removeExtmapAllowMixed",()=>p),i.export(r,"shimAddIceCandidateNullOrEmpty",()=>f),i.export(r,"shimParameterlessSetLocalDescription",()=>g);"use strict";var o=e("sdp"),s=i.interopDefault(o),a=e("./utils");function c(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let r=new t(e),n=(0,s.default).parseCandidate(e.candidate);for(let e in n)e in r||Object.defineProperty(r,e,{value:n[e]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,a.wrapPeerConnectionEvent(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function l(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||a.wrapPeerConnectionEvent(e,"icecandidate",e=>{if(e.candidate){let t=(0,s.default).parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function h(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let r=function(e){if(!e||!e.sdp)return!1;let t=(0,s.default).splitSections(e.sdp);return t.shift(),t.some(e=>{let t=(0,s.default).parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},n=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let r=parseInt(t[1],10);return r!=r?-1:r},i=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:0x7ffffff5:t.version<60?57===t.version?65535:65536:0x7ffffff5),r},o=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);let i=(0,s.default).matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?n=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==r&&(n=0x7ffffff5),n},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){let e,t=n(arguments[0]),r=i(t),s=o(arguments[0],t);e=0===r&&0===s?Number.POSITIVE_INFINITY:0===r||0===s?Math.max(r,s):Math.min(r,s);let a={};Object.defineProperty(a,"maxMessageSize",{get:()=>e}),this._sctp=a}return a.apply(this,arguments)}}function u(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let r=e.send;e.send=function(){let n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}let r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=r.apply(this,arguments);return t(e,this),e},a.wrapPeerConnectionEvent(e,"datachannel",e=>(t(e.channel,e.target),e))}function d(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function p(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let r=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return r.apply(this,arguments)}}function f(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function g(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return r.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?r.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>r.apply(this,[e]))})}},{sdp:"7PVXR","./utils":"7Ny3a","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"7PVXR":[function(e,t,r,n){"use strict";let i={};i.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},i.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},i.getDescription=function(e){let t=i.splitSections(e);return t&&t[0]},i.getMediaSections=function(e){let t=i.splitSections(e);return t.shift(),t},i.matchPrefix=function(e,t){return i.splitLines(e).filter(e=>0===e.indexOf(t))},i.parseCandidate=function(e){let t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":r.relatedAddress=t[e+1];break;case"rport":r.relatedPort=parseInt(t[e+1],10);break;case"tcptype":r.tcpType=t[e+1];break;case"ufrag":r.ufrag=t[e+1],r.usernameFragment=t[e+1];break;default:void 0===r[t[e]]&&(r[t[e]]=t[e+1])}return r},i.writeCandidate=function(e){let t=[];t.push(e.foundation);let r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},i.parseIceOptions=function(e){return e.substring(14).split(" ")},i.parseRtpMap=function(e){let t=e.substring(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return r.name=(t=t[0].split("/"))[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},i.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},i.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},i.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},i.parseFmtp=function(e){let t,r={},n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)r[(t=n[e].trim().split("="))[0].trim()]=t[1];return r},i.writeFmtp=function(e){let t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let n=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},i.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},i.writeRtcpFb=function(e){let t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},i.parseSsrcMedia=function(e){let t=e.indexOf(" "),r={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substring(t+1,n),r.value=e.substring(n+1)):r.attribute=e.substring(t+1),r},i.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},i.getMid=function(e){let t=i.matchPrefix(e,"a=mid:")[0];if(t)return t.substring(6)},i.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},i.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:i.matchPrefix(e+t,"a=fingerprint:").map(i.parseFingerprint)}},i.writeDtlsParameters=function(e,t){let r="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},i.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},i.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?i.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},i.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},i.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},i.getCryptoParameters=function(e,t){return i.matchPrefix(e+t,"a=crypto:").map(i.parseCryptoLine)},i.getIceParameters=function(e,t){let r=i.matchPrefix(e+t,"a=ice-ufrag:")[0],n=i.matchPrefix(e+t,"a=ice-pwd:")[0];return r&&n?{usernameFragment:r.substring(12),password:n.substring(10)}:null},i.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},i.parseRtpParameters=function(e){let t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=i.splitLines(e)[0].split(" ");t.profile=r[2];for(let n=3;n<r.length;n++){let o=r[n],s=i.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){let r=i.parseRtpMap(s),n=i.matchPrefix(e,"a=fmtp:"+o+" ");switch(r.parameters=n.length?i.parseFmtp(n[0]):{},r.rtcpFeedback=i.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(i.parseRtcpFb),t.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(r.name.toUpperCase())}}}i.matchPrefix(e,"a=extmap:").forEach(e=>{t.headerExtensions.push(i.parseExtmap(e))});let n=i.matchPrefix(e,"a=rtcp-fb:* ").map(i.parseRtcpFb);return t.codecs.forEach(e=>{n.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),t},i.writeRtpDescription=function(e,t){let r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" "+(t.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=t.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(e=>{r+=i.writeRtpMap(e),r+=i.writeFmtp(e),r+=i.writeRtcpFb(e)});let n=0;return t.codecs.forEach(e=>{e.maxptime>n&&(n=e.maxptime)}),n>0&&(r+="a=maxptime:"+n+"\r\n"),t.headerExtensions&&t.headerExtensions.forEach(e=>{r+=i.writeExtmap(e)}),r},i.parseRtpEncodingParameters=function(e){let t,r=[],n=i.parseRtpParameters(e),o=-1!==n.fecMechanisms.indexOf("RED"),s=-1!==n.fecMechanisms.indexOf("ULPFEC"),a=i.matchPrefix(e,"a=ssrc:").map(e=>i.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),c=a.length>0&&a[0].ssrc,l=i.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),n.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(n.rtx={ssrc:t}),r.push(n),o&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&c&&r.push({ssrc:c});let h=i.matchPrefix(e,"b=");return h.length&&(h=0===h[0].indexOf("b=TIAS:")?parseInt(h[0].substring(7),10):0===h[0].indexOf("b=AS:")?950*parseInt(h[0].substring(5),10)-16e3:void 0,r.forEach(e=>{e.maxBitrate=h})),r},i.parseRtcpParameters=function(e){let t={},r=i.matchPrefix(e,"a=ssrc:").map(e=>i.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);let n=i.matchPrefix(e,"a=rtcp-rsize");return t.reducedSize=n.length>0,t.compound=0===n.length,t.mux=i.matchPrefix(e,"a=rtcp-mux").length>0,t},i.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},i.parseMsid=function(e){let t,r=i.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substring(7).split(" "))[0],track:t[1]};let n=i.matchPrefix(e,"a=ssrc:").map(e=>i.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(n.length>0)return{stream:(t=n[0].value.split(" "))[0],track:t[1]}},i.parseSctpDescription=function(e){let t,r=i.parseMLine(e),n=i.matchPrefix(e,"a=max-message-size:");n.length>0&&(t=parseInt(n[0].substring(19),10)),isNaN(t)&&(t=65536);let o=i.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:t};let s=i.matchPrefix(e,"a=sctpmap:");if(s.length>0){let e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:t}}},i.writeSctpDescription=function(e,t){let r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},i.generateSessionId=function(){return Math.random().toString().substr(2,22)},i.writeSessionBoilerplate=function(e,t,r){return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||i.generateSessionId())+" "+(void 0!==t?t:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.getDirection=function(e,t){let r=i.splitLines(e);for(let e=0;e<r.length;e++)switch(r[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[e].substring(2)}return t?i.getDirection(t):"sendrecv"},i.getKind=function(e){return i.splitLines(e)[0].split(" ")[0].substring(2)},i.isRejected=function(e){return"0"===e.split(" ",2)[1]},i.parseMLine=function(e){let t=i.splitLines(e)[0].substring(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},i.parseOLine=function(e){let t=i.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},i.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let t=i.splitLines(e);for(let e=0;e<t.length;e++)if(t[e].length<2||"="!==t[e].charAt(1))return!1;return!0},t.exports=i},{}],"99oOE":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"encode",()=>o.encode),i.export(r,"decode",()=>s.decode),i.export(r,"decodeMulti",()=>s.decodeMulti),i.export(r,"decodeAsync",()=>a.decodeAsync),i.export(r,"decodeArrayStream",()=>a.decodeArrayStream),i.export(r,"decodeMultiStream",()=>a.decodeMultiStream),i.export(r,"decodeStream",()=>a.decodeStream),i.export(r,"Decoder",()=>c.Decoder),i.export(r,"DecodeError",()=>l.DecodeError),i.export(r,"DataViewIndexOutOfBoundsError",()=>c.DataViewIndexOutOfBoundsError),i.export(r,"Encoder",()=>h.Encoder),i.export(r,"ExtensionCodec",()=>u.ExtensionCodec),i.export(r,"ExtData",()=>d.ExtData),i.export(r,"EXT_TIMESTAMP",()=>p.EXT_TIMESTAMP),i.export(r,"encodeDateToTimeSpec",()=>p.encodeDateToTimeSpec),i.export(r,"encodeTimeSpecToTimestamp",()=>p.encodeTimeSpecToTimestamp),i.export(r,"decodeTimestampToTimeSpec",()=>p.decodeTimestampToTimeSpec),i.export(r,"encodeTimestampExtension",()=>p.encodeTimestampExtension),i.export(r,"decodeTimestampExtension",()=>p.decodeTimestampExtension);var o=e("./encode.mjs"),s=e("./decode.mjs"),a=e("./decodeAsync.mjs"),c=e("./Decoder.mjs"),l=e("./DecodeError.mjs"),h=e("./Encoder.mjs"),u=e("./ExtensionCodec.mjs"),d=e("./ExtData.mjs"),p=e("./timestamp.mjs")},{"./encode.mjs":!1,"./decode.mjs":!1,"./decodeAsync.mjs":"gxe7C","./Decoder.mjs":!1,"./DecodeError.mjs":!1,"./Encoder.mjs":"kEF0K","./ExtensionCodec.mjs":!1,"./ExtData.mjs":!1,"./timestamp.mjs":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],lMMie:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"defaultDecodeOptions",()=>s),i.export(r,"decode",()=>a),i.export(r,"decodeMulti",()=>c);var o=e("./Decoder.mjs"),s={};function a(e,t){return void 0===t&&(t=s),new o.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function c(e,t){return void 0===t&&(t=s),new o.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}},{"./Decoder.mjs":"7eYL1","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"7eYL1":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"DataViewIndexOutOfBoundsError",()=>b),i.export(r,"Decoder",()=>_);var o=e("./utils/prettyByte.mjs"),s=e("./ExtensionCodec.mjs"),a=e("./utils/int.mjs"),c=e("./utils/utf8.mjs"),l=e("./utils/typedArrays.mjs"),h=e("./CachedKeyDecoder.mjs"),u=e("./DecodeError.mjs"),d=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}},f=function(e){return this instanceof f?(this.v=e,this):new f(e)},g=function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof f?Promise.resolve(r.value.v).then(c,l):h(o[0][2],r)}catch(e){h(o[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function h(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},m=function(e){var t=typeof e;return"string"===t||"number"===t},y=new DataView(new ArrayBuffer(0)),w=new Uint8Array(y.buffer),b=function(){try{y.getInt8(0)}catch(e){return e.constructor}throw Error("never reached")}(),x=new b("Insufficient data"),v=new h.CachedKeyDecoder,_=function(){function e(e,t,r,n,i,o,c,l){void 0===e&&(e=s.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=a.UINT32_MAX),void 0===n&&(n=a.UINT32_MAX),void 0===i&&(i=a.UINT32_MAX),void 0===o&&(o=a.UINT32_MAX),void 0===c&&(c=a.UINT32_MAX),void 0===l&&(l=v),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=i,this.maxMapLength=o,this.maxExtLength=c,this.keyDecoder=l,this.totalPos=0,this.pos=0,this.view=y,this.bytes=w,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=(0,l.ensureUint8Array)(e),this.view=(0,l.createDataView)(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=(0,l.ensureUint8Array)(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return d(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:if(!this.hasRemaining(1))return[3,3];return[4,this.doDecodeSync()];case 2:return t.sent(),[3,1];case 3:return[2]}})},e.prototype.decodeAsync=function(e){var t,r,n,i,s,a,c,l;return s=this,a=void 0,c=void 0,l=function(){var s,a,c,l,h,u,f;return d(this,function(d){switch(d.label){case 0:s=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),t=p(e),d.label=2;case 2:return[4,t.next()];case 3:if((r=d.sent()).done)return[3,5];if(c=r.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(c);try{a=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof b))throw e}this.totalPos+=this.pos,d.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return n={error:d.sent()},[3,12];case 7:if(d.trys.push([7,,10,11]),!(r&&!r.done&&(i=t.return)))return[3,9];return[4,i.call(t)];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw l=this,h=l.headByte,u=l.pos,f=l.totalPos,RangeError("Insufficient data in parsing ".concat((0,o.prettyByte)(h)," at ").concat(f," (").concat(u," in the current buffer)"))}})},new(c||(c=Promise))(function(e,t){function r(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof c?i:new c(function(e){e(i)})).then(r,n)}i((l=l.apply(s,a||[])).next())})},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return g(this,arguments,function(){var r,n,i,o,s,a,c,l;return d(this,function(h){switch(h.label){case 0:r=t,n=-1,h.label=1;case 1:h.trys.push([1,13,14,19]),i=p(e),h.label=2;case 2:return[4,f(i.next())];case 3:if((o=h.sent()).done)return[3,12];if(s=o.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(n=this.readArraySize(),r=!1,this.complete()),h.label=4;case 4:h.trys.push([4,9,,10]),h.label=5;case 5:return[4,f(this.doDecodeSync())];case 6:return[4,h.sent()];case 7:if(h.sent(),0==--n)return[3,8];return[3,5];case 8:return[3,10];case 9:if(!((a=h.sent())instanceof b))throw a;return[3,10];case 10:this.totalPos+=this.pos,h.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c={error:h.sent()},[3,19];case 14:if(h.trys.push([14,,17,18]),!(o&&!o.done&&(l=i.return)))return[3,16];return[4,f(l.call(i))];case 15:h.sent(),h.label=16;case 16:return[3,18];case 17:if(c)throw c.error;return[7];case 18:return[7];case 19:return[2]}})})},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192){if(e<128)t=e;else if(e<144){var r=e-128;if(0!==r){this.pushMapState(r),this.complete();continue}t={}}else if(e<160){var r=e-144;if(0!==r){this.pushArrayState(r),this.complete();continue}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){var n=this.lookU8();t=this.decodeUtf8String(n,1)}else if(218===e){var n=this.lookU16();t=this.decodeUtf8String(n,2)}else if(219===e){var n=this.lookU32();t=this.decodeUtf8String(n,4)}else if(220===e){var r=this.readU16();if(0!==r){this.pushArrayState(r),this.complete();continue}t=[]}else if(221===e){var r=this.readU32();if(0!==r){this.pushArrayState(r),this.complete();continue}t=[]}else if(222===e){var r=this.readU16();if(0!==r){this.pushMapState(r),this.complete();continue}t={}}else if(223===e){var r=this.readU32();if(0!==r){this.pushMapState(r),this.complete();continue}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e){var r=this.lookU16();t=this.decodeBinary(r,2)}else if(198===e){var r=this.lookU32();t=this.decodeBinary(r,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){var r=this.lookU8();t=this.decodeExtension(r,1)}else if(200===e){var r=this.lookU16();t=this.decodeExtension(r,2)}else if(201===e){var r=this.lookU32();t=this.decodeExtension(r,4)}else throw new u.DecodeError("Unrecognized type byte: ".concat((0,o.prettyByte)(e)));this.complete();for(var i=this.stack;i.length>0;){var s=i[i.length-1];if(0===s.type){if(s.array[s.position]=t,s.position++,s.position===s.size)i.pop(),t=s.array;else continue e}else if(1===s.type){if(!m(t))throw new u.DecodeError("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new u.DecodeError("The key __proto__ is not allowed");s.key=t,s.type=2;continue e}else if(s.map[s.key]=t,s.readCount++,s.readCount===s.size)i.pop(),t=s.map;else{s.key=null,s.type=1;continue e}}return t}},e.prototype.readHeadByte=function(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new u.DecodeError("Unrecognized array type byte: ".concat((0,o.prettyByte)(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new u.DecodeError("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new u.DecodeError("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){if(e>this.maxStrLength)throw new u.DecodeError("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw x;var r,n,i=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,i,e):e>c.TEXT_DECODER_THRESHOLD?(0,c.utf8DecodeTD)(this.bytes,i,e):(0,c.utf8DecodeJs)(this.bytes,i,e),this.pos+=t+e,n},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new u.DecodeError("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw x;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new u.DecodeError("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e=(0,a.getUint64)(this.view,this.pos);return this.pos+=8,e},e.prototype.readI64=function(){var e=(0,a.getInt64)(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}()},{"./utils/prettyByte.mjs":"8WM8m","./ExtensionCodec.mjs":"9LKT0","./utils/int.mjs":"eG0N3","./utils/utf8.mjs":"lEu6S","./utils/typedArrays.mjs":"1BNqS","./CachedKeyDecoder.mjs":"4KGiH","./DecodeError.mjs":"5uiqO","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"8WM8m":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}i.defineInteropFlag(r),i.export(r,"prettyByte",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"9LKT0":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"ExtensionCodec",()=>a);var o=e("./ExtData.mjs"),s=e("./timestamp.mjs"),a=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(s.timestampExtension)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var i=1+t;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++){var n=this.builtInEncoders[r];if(null!=n){var i=n(e,t);if(null!=i){var s=-1-r;return new o.ExtData(s,i)}}}for(var r=0;r<this.encoders.length;r++){var n=this.encoders[r];if(null!=n){var i=n(e,t);if(null!=i){var s=r;return new o.ExtData(s,i)}}}return e instanceof o.ExtData?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new o.ExtData(t,e)},e.defaultCodec=new e,e}()},{"./ExtData.mjs":"5D4CO","./timestamp.mjs":"9Zlhl","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"5D4CO":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"ExtData",()=>o);var o=function(e,t){this.type=e,this.data=t}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"9Zlhl":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"EXT_TIMESTAMP",()=>a),i.export(r,"encodeTimeSpecToTimestamp",()=>c),i.export(r,"encodeDateToTimeSpec",()=>l),i.export(r,"encodeTimestampExtension",()=>h),i.export(r,"decodeTimestampToTimeSpec",()=>u),i.export(r,"decodeTimestampExtension",()=>d),i.export(r,"timestampExtension",()=>p);var o=e("./DecodeError.mjs"),s=e("./utils/int.mjs"),a=-1;function c(e){var t=e.sec,r=e.nsec;if(t>=0&&r>=0&&t<=0x3ffffffff){if(0===r&&t<=0xffffffff){var n=new Uint8Array(4),i=new DataView(n.buffer);return i.setUint32(0,t),n}var o=t/0x100000000,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,r<<2|3&o),i.setUint32(4,0xffffffff&t),n}var n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,r),(0,s.setInt64)(i,4,t),n}function l(e){var t=e.getTime(),r=Math.floor(t/1e3),n=(t-1e3*r)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}function h(e){return e instanceof Date?c(l(e)):null}function u(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:var r=t.getUint32(0),n=0;return{sec:r,nsec:0};case 8:var i=t.getUint32(0),r=(3&i)*0x100000000+t.getUint32(4),n=i>>>2;return{sec:r,nsec:n};case 12:var r=(0,s.getInt64)(t,4),n=t.getUint32(0);return{sec:r,nsec:n};default:throw new o.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function d(e){var t=u(e);return new Date(1e3*t.sec+t.nsec/1e6)}var p={type:-1,encode:h,decode:d}},{"./DecodeError.mjs":"5uiqO","./utils/int.mjs":"eG0N3","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"5uiqO":[function(e,t,r,n){var i,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"DecodeError",()=>a);var s=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,Object.create(t.prototype)),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return s(t,e),t}(Error)},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],eG0N3:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"UINT32_MAX",()=>o),i.export(r,"setUint64",()=>s),i.export(r,"setInt64",()=>a),i.export(r,"getInt64",()=>c),i.export(r,"getUint64",()=>l);var o=0xffffffff;function s(e,t,r){e.setUint32(t,r/0x100000000),e.setUint32(t+4,r)}function a(e,t,r){var n=Math.floor(r/0x100000000);e.setUint32(t,n),e.setUint32(t+4,r)}function c(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}function l(e,t){return 0x100000000*e.getUint32(t)+e.getUint32(t+4)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],lEu6S:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"utf8Count",()=>a),i.export(r,"utf8EncodeJs",()=>c),i.export(r,"TEXT_ENCODER_THRESHOLD",()=>h),i.export(r,"utf8EncodeTE",()=>u),i.export(r,"utf8DecodeJs",()=>d),i.export(r,"TEXT_DECODER_THRESHOLD",()=>f),i.export(r,"utf8DecodeTD",()=>g);var o=e("./int.mjs"),s="undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function a(e){for(var t=e.length,r=0,n=0;n<t;){var i=e.charCodeAt(n++);if((0xffffff80&i)==0){r++;continue}if((0xfffff800&i)==0)r+=2;else{if(i>=55296&&i<=56319&&n<t){var o=e.charCodeAt(n);(64512&o)==56320&&(++n,i=((1023&i)<<10)+(1023&o)+65536)}(0xffff0000&i)==0?r+=3:r+=4}}return r}function c(e,t,r){for(var n=e.length,i=r,o=0;o<n;){var s=e.charCodeAt(o++);if((0xffffff80&s)==0){t[i++]=s;continue}if((0xfffff800&s)==0)t[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<n){var a=e.charCodeAt(o);(64512&a)==56320&&(++o,s=((1023&s)<<10)+(1023&a)+65536)}(0xffff0000&s)==0?t[i++]=s>>12&15|224:(t[i++]=s>>18&7|240,t[i++]=s>>12&63|128),t[i++]=s>>6&63|128}t[i++]=63&s|128}}var l=s?new TextEncoder:void 0,h=s?0:o.UINT32_MAX,u=(null==l?void 0:l.encodeInto)?function(e,t,r){l.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(l.encode(e),r)};function d(e,t,r){for(var n=t,i=n+r,o=[],s="";n<i;){var a=e[n++];if((128&a)==0)o.push(a);else if((224&a)==192){var c=63&e[n++];o.push((31&a)<<6|c)}else if((240&a)==224){var c=63&e[n++],l=63&e[n++];o.push((31&a)<<12|c<<6|l)}else if((248&a)==240){var c=63&e[n++],l=63&e[n++],h=(7&a)<<18|c<<12|l<<6|63&e[n++];h>65535&&(h-=65536,o.push(h>>>10&1023|55296),h=56320|1023&h),o.push(h)}else o.push(a);o.length>=4096&&(s+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(s+=String.fromCharCode.apply(String,o)),s}var p=s?new TextDecoder:null,f=s?0:o.UINT32_MAX;function g(e,t,r){var n=e.subarray(t,t+r);return p.decode(n)}},{"./int.mjs":"eG0N3","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"1BNqS":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function s(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=o(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}i.defineInteropFlag(r),i.export(r,"ensureUint8Array",()=>o),i.export(r,"createDataView",()=>s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"4KGiH":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"CachedKeyDecoder",()=>s);var o=e("./utils/utf8.mjs"),s=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){var n=this.caches[r-1];t:for(var i=0;i<n.length;i++){for(var o=n[i],s=o.bytes,a=0;a<r;a++)if(s[a]!==e[t+a])continue t;return o.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var i=(0,o.utf8DecodeJs)(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i},e}()},{"./utils/utf8.mjs":"lEu6S","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],gxe7C:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"decodeAsync",()=>l),i.export(r,"decodeArrayStream",()=>h),i.export(r,"decodeMultiStream",()=>u),i.export(r,"decodeStream",()=>d);var o=e("./Decoder.mjs"),s=e("./utils/stream.mjs"),a=e("./decode.mjs"),c=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function l(e,t){var r,n,i,l;return void 0===t&&(t=a.defaultDecodeOptions),r=this,n=void 0,i=void 0,l=function(){var r;return c(this,function(n){return r=(0,s.ensureAsyncIterable)(e),[2,new o.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]})},new(i||(i=Promise))(function(e,t){function o(e){try{a(l.next(e))}catch(e){t(e)}}function s(e){try{a(l.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,s)}a((l=l.apply(r,n||[])).next())})}function h(e,t){void 0===t&&(t=a.defaultDecodeOptions);var r=(0,s.ensureAsyncIterable)(e);return new o.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function u(e,t){void 0===t&&(t=a.defaultDecodeOptions);var r=(0,s.ensureAsyncIterable)(e);return new o.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function d(e,t){return void 0===t&&(t=a.defaultDecodeOptions),u(e,t)}},{"./Decoder.mjs":"7eYL1","./utils/stream.mjs":"61rHc","./decode.mjs":"lMMie","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],"61rHc":[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"isAsyncIterable",()=>c),i.export(r,"asyncIterableFromStream",()=>l),i.export(r,"ensureAsyncIterable",()=>h);var o=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=function(e){return this instanceof s?(this.v=e,this):new s(e)},a=function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||c(e,t)})})}function c(e,t){try{var r;(r=i[e](t)).value instanceof s?Promise.resolve(r.value.v).then(l,h):u(o[0][2],r)}catch(e){u(o[0][3],e)}}function l(e){c("next",e)}function h(e){c("throw",e)}function u(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}};function c(e){return null!=e[Symbol.asyncIterator]}function l(e){return a(this,arguments,function(){var t,r,n,i;return o(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,s(t.read())];case 3:if(n=(r=o.sent()).done,i=r.value,!n)return[3,5];return[4,s(void 0)];case 4:return[2,o.sent()];case 5:return!function(e){if(null==e)throw Error("Assertion Failure: value must not be null nor undefined")}(i),[4,s(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function h(e){return c(e)?e:l(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}],kEF0K:[function(e,t,r,n){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"DEFAULT_MAX_DEPTH",()=>l),i.export(r,"DEFAULT_INITIAL_BUFFER_SIZE",()=>h),i.export(r,"Encoder",()=>u);var o=e("./utils/utf8.mjs"),s=e("./ExtensionCodec.mjs"),a=e("./utils/int.mjs"),c=e("./utils/typedArrays.mjs"),l=100,h=2048,u=function(){function e(e,t,r,n,i,o,a,c){void 0===e&&(e=s.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=l),void 0===n&&(n=h),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===c&&(c=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=i,this.forceFloat32=o,this.ignoreUndefined=a,this.forceIntegerToFloat=c,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error("Too long string: ".concat(e," bytes in UTF-8"))},e.prototype.encodeString=function(e){if(e.length>o.TEXT_ENCODER_THRESHOLD){var t=(0,o.utf8Count)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,o.utf8EncodeTE)(e,this.bytes,this.pos),this.pos+=t}else{var t=(0,o.utf8Count)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,o.utf8EncodeJs)(e,this.bytes,this.pos),this.pos+=t}},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error("Too large binary: ".concat(t));var r=(0,c.ensureUint8Array)(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error("Too large array: ".concat(r));for(var n=0;n<e.length;n++){var i=e[n];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0;n<t.length;n++)void 0!==e[t[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<0x100000000)this.writeU8(223),this.writeU32(n);else throw Error("Too large map object: ".concat(n));for(var i=0;i<r.length;i++){var o=r[i],s=e[o];this.ignoreUndefined&&void 0===s||(this.encodeString(o),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),(0,a.setUint64)(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),(0,a.setInt64)(this.view,this.pos,e),this.pos+=8},e}()},{"./utils/utf8.mjs":"lEu6S","./ExtensionCodec.mjs":"9LKT0","./utils/int.mjs":"eG0N3","./utils/typedArrays.mjs":"1BNqS","@parcel/transformer-js/src/esmodule-helpers.js":"j9EeU"}]},["5Hf22"],"5Hf22","parcelRequiredcf9");